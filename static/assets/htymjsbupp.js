/*!
 * jQuery JavaScript Library v1.11.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:02Z
 */
function MediaStreamRecorder(e){if(!e)throw"MediaStream is mandatory.";this.start=function(o){var i=IsChrome||IsEdge||IsOpera?window.StereoAudioRecorder||IsEdge||IsOpera:window.MediaRecorderWrapper;-1!==this.mimeType.indexOf("video")&&(i=IsChrome||IsEdge||IsOpera?window.WhammyRecorder:window.MediaRecorderWrapper),"image/gif"===this.mimeType&&(i=window.GifRecorder),this.recorderType&&(i=this.recorderType),t=new i(e),t.blobs=[];var n=this;t.ondataavailable=function(e){t.blobs.push(e),n.ondataavailable(e)},t.onstop=this.onstop,t.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,t=mergeProps(t,this),t.start(o)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.stop=function(){t&&t.stop()},this.ondataavailable=function(e){console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)},this.save=function(e,o){if(!e){if(!t)return;var i=new Blob(t.blobs,{type:t.blobs[0].type||this.mimeType});return void invokeSaveAsDialog(i)}invokeSaveAsDialog(e,o)},this.pause=function(){t&&(t.pause(),console.log("Paused recording.",this.mimeType||t.mimeType))},this.resume=function(){t&&(t.resume(),console.log("Resumed recording.",this.mimeType||t.mimeType))},this.recorderType=null;var t}function MultiStreamRecorder(e){if(!e)throw"MediaStream is mandatory.";var t=this,o=!!navigator.mozGetUserMedia;this.stream=e,this.start=function(r){function l(e){a++,t.ondataavailable(e)}i=new MediaStreamRecorder(e),n=new MediaStreamRecorder(e),i.mimeType="audio/ogg",n.mimeType="video/webm";for(var c in this)"function"!=typeof this[c]&&(i[c]=n[c]=this[c]);i.ondataavailable=function(e){s[a]||(s[a]={}),s[a].audio=e,s[a].video&&!s[a].onDataAvailableEventFired&&(s[a].onDataAvailableEventFired=!0,l(s[a]))},n.ondataavailable=function(e){return o?t.ondataavailable({video:e,audio:e}):(s[a]||(s[a]={}),s[a].video=e,void(s[a].audio&&!s[a].onDataAvailableEventFired&&(s[a].onDataAvailableEventFired=!0,l(s[a]))))},n.onstop=i.onstop=function(e){t.onstop(e)},o?n.start(r):(n.onStartedDrawingNonBlankFrames=function(){n.clearOldRecordedFrames(),i.start(r)},n.start(r))},this.stop=function(){i&&i.stop(),n&&n.stop()},this.ondataavailable=function(e){console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)},this.pause=function(){i&&i.pause(),n&&n.pause()},this.resume=function(){i&&i.resume(),n&&n.resume()};var i,n,s={},a=0}function mergeProps(e,t){t=reformatProps(t);for(var o in t)"function"!=typeof t[o]&&(e[o]=t[o]);return e}function reformatProps(e){var t={};for(var o in e)if(-1!==o.indexOf("-")){var i=o.split("-"),n=i[0]+i[1].split("")[0].toUpperCase()+i[1].substr(1);t[n]=e[o]}else t[o]=e[o];return t}function dropFirstFrame(e){return e.shift(),e}function invokeSaveAsDialog(e,t){if(!e)throw"Blob object is required.";e.type||(e.type="video/webm");var o=e.type.split("/")[1];if(t&&-1!==t.indexOf(".")){var i=t.split(".");t=i[0],o=i[1]}var n=(t||Math.round(9999999999*Math.random())+888888888)+"."+o;if("undefined"!=typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,n);if("undefined"!=typeof navigator.msSaveBlob)return navigator.msSaveBlob(e,n);var s=document.createElement("a");s.href=URL.createObjectURL(e),s.target="_blank",s.download=n,navigator.mozGetUserMedia&&(s.onclick=function(){(document.body||document.documentElement).removeChild(s)},(document.body||document.documentElement).appendChild(s));var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});s.dispatchEvent(a),navigator.mozGetUserMedia||URL.revokeObjectURL(s.href)}function bytesToSize(e){var t=1e3,o=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+o[i]}function MediaRecorderWrapper(e){if("audio"===this.type&&e.getVideoTracks&&e.getVideoTracks().length&&!navigator.mozGetUserMedia){var t=new AudioContext,o=t.createMediaStreamSource(e),i=t.createMediaStreamDestination();o.connect(i),e=i.stream}this.start=function(t){function o(){if(!n){if(s)return void setTimeout(o,500);r=new MediaRecorder(e),r.ondataavailable=function(e){if(console.log("ondataavailable",e.data.type,e.data.size,e.data),!e.data.size)return void console.warn("Recording of",e.data.type,"failed.");var t=new window.Blob([e.data],{type:e.data.type||a.mimeType||"audio/ogg"});a.ondataavailable(t)},r.onstop=function(){},r.onerror=function(e){console.error(e),a.start(t)},r.onwarning=function(e){console.warn(e)},r.start(0),setTimeout(function(){r.stop(),o()},t)}}t=t||1e3,n=!1,o()};var n=!1;this.stop=function(){n=!0,a.onstop&&a.onstop({})};var s=!1;this.pause=function(){r&&(s=!0,"recording"===r.state&&r.pause())},this.resume=function(){r&&(s=!1,"paused"===r.state&&r.resume())},this.ondataavailable=this.onstop=function(){};var a=this;!a.mimeType&&e.getAudioTracks&&(a.mimeType=e.getAudioTracks().length&&e.getVideoTracks().length?"video/webm":"audio/ogg");var r}function StereoAudioRecorder(e){this.start=function(i){i=i||1e3,t=new StereoAudioRecorderHelper(e,this),t.record(),o=setInterval(function(){t.requestData()},i)},this.stop=function(){t&&(t.stop(),clearTimeout(o))},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){};var t,o}function StereoAudioRecorderHelper(e,t){function o(e,t){for(var o=e.length+t.length,i=new Float32Array(o),n=0,s=0;o>s;)i[s++]=e[n],i[s++]=t[n],n++;return i}function i(e,t){for(var o=new Float32Array(t),i=0,n=e.length,s=0;n>s;s++){var a=e[s];o.set(a,i),i+=a.length}return o}function n(e,t,o){for(var i=o.length,n=0;i>n;n++)e.setUint8(t+n,o.charCodeAt(n))}var s=44100;ObjectStore.AudioContextConstructor||(ObjectStore.AudioContextConstructor=new ObjectStore.AudioContext),s=ObjectStore.AudioContextConstructor.sampleRate;var a,r,l,c,d=[],u=[],h=!1,m=0,p=t.sampleRate||s,f=t.audioChannels||2;this.record=function(){h=!0,d.length=u.length=0,m=0},this.requestData=function(){if(!v){if(0===m)return void(b=!1);b=!0;var e=d.slice(0),s=(u.slice(0),m);d.length=u.length=[],m=0,b=!1;var a=i(e,s),r=i(e,s);if(2===f)var l=o(a,r);else var l=a;var c=new ArrayBuffer(44+2*l.length),h=new DataView(c);n(h,0,"RIFF"),h.setUint32(4,44+2*l.length,!0),n(h,8,"WAVE"),n(h,12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,f,!0),h.setUint32(24,p,!0),h.setUint32(28,4*p,!0),h.setUint16(32,2*f,!0),h.setUint16(34,16,!0),n(h,36,"data"),h.setUint32(40,2*l.length,!0);for(var g=l.length,_=44,w=1,y=0;g>y;y++)h.setInt16(_,32767*l[y]*w,!0),_+=2;var $=new Blob([h],{type:"audio/wav"});console.debug("audio recorded blob size:",bytesToSize($.size)),t.ondataavailable($)}},this.stop=function(){h=!1,this.requestData(),l.disconnect()};var c=ObjectStore.AudioContextConstructor;ObjectStore.VolumeGainNode=c.createGain();var r=ObjectStore.VolumeGainNode;ObjectStore.AudioInput=c.createMediaStreamSource(e);var l=ObjectStore.AudioInput;l.connect(r);var g=t.bufferSize||2048;if(0===t.bufferSize&&(g=0),c.createJavaScriptNode)a=c.createJavaScriptNode(g,f,f);else{if(!c.createScriptProcessor)throw"WebAudio API has no support on this browser.";a=c.createScriptProcessor(g,f,f)}g=a.bufferSize,console.debug("using audio buffer-size:",g);var b=!1;window.scriptprocessornode=a,1===f&&console.debug("All right-channels are skipped.");var v=!1;this.pause=function(){v=!0},this.resume=function(){v=!1},a.onaudioprocess=function(e){if(h&&!b&&!v){var t=e.inputBuffer.getChannelData(0);if(d.push(new Float32Array(t)),2===f){var o=e.inputBuffer.getChannelData(1);u.push(new Float32Array(o))}m+=g}},r.connect(a),a.connect(c.destination)}function WhammyRecorder(e){this.start=function(i){i=i||1e3,t=new WhammyRecorderHelper(e,this);for(var n in this)"function"!=typeof this[n]&&(t[n]=this[n]);t.record(),o=setInterval(function(){t.requestData()},i)},this.stop=function(){t&&(t.stop(),clearTimeout(o))},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.pause=function(){t&&t.pause()},this.resume=function(){t&&t.resume()},this.ondataavailable=function(){};var t,o}function WhammyRecorderHelper(e,t){function o(){if(p)return c=(new Date).getTime(),void setTimeout(o,500);if(!r){if(s)return setTimeout(o,100);var e=(new Date).getTime()-c;if(!e)return o();c=(new Date).getTime(),!m.isHTMLObject&&l.paused&&l.play(),h.drawImage(l,0,0,u.width,u.height),r||d.frames.push({duration:e,image:u.toDataURL("image/webp")}),a||i(d.frames[d.frames.length-1])||(a=!0,t.onStartedDrawingNonBlankFrames()),setTimeout(o,10)}}function i(e,t,o){var i=document.createElement("canvas");i.width=u.width,i.height=u.height;var n,s,a,r=i.getContext("2d"),l={r:0,g:0,b:0},c=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),d=t&&t>=0&&1>=t?t:0,h=o&&o>=0&&1>=o?o:0,m=new Image;m.src=e.image,r.drawImage(m,0,0,u.width,u.height);var p=r.getImageData(0,0,u.width,u.height);n=0,s=p.data.length,a=p.data.length/4;for(var f=0;s>f;f+=4){var g={r:p.data[f],g:p.data[f+1],b:p.data[f+2]},b=Math.sqrt(Math.pow(g.r-l.r,2)+Math.pow(g.g-l.g,2)+Math.pow(g.b-l.b,2));c*d>=b&&n++}return a*h>=a-n?!1:!0}function n(e,t,o,i){var n=document.createElement("canvas");n.width=u.width,n.height=u.height;for(var s=n.getContext("2d"),a=[],r=-1===t,l=t&&t>0&&t<=e.length?t:e.length,c={r:0,g:0,b:0},d=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),h=o&&o>=0&&1>=o?o:0,m=i&&i>=0&&1>=i?i:0,p=!1,f=0;l>f;f++){var g,b,v;if(!p){var _=new Image;_.src=e[f].image,s.drawImage(_,0,0,u.width,u.height);var w=s.getImageData(0,0,u.width,u.height);g=0,b=w.data.length,v=w.data.length/4;for(var y=0;b>y;y+=4){var $={r:w.data[y],g:w.data[y+1],b:w.data[y+2]},k=Math.sqrt(Math.pow($.r-c.r,2)+Math.pow($.g-c.g,2)+Math.pow($.b-c.b,2));d*h>=k&&g++}}!p&&v*m>=v-g||(r&&(p=!0),a.push(e[f]))}return a=a.concat(e.slice(l)),a.length<=0&&a.push(e[e.length-1]),a}this.record=function(){this.width||(this.width=320),this.height||(this.height=240),this.video&&this.video instanceof HTMLVideoElement&&(this.width||(this.width=l.videoWidth||l.clientWidth||320),this.height||(this.height=l.videoHeight||l.clientHeight||240)),this.video||(this.video={width:this.width,height:this.height}),this.canvas&&this.canvas.width&&this.canvas.height||(this.canvas={width:this.width,height:this.height}),u.width=this.canvas.width,u.height=this.canvas.height,this.video&&this.video instanceof HTMLVideoElement?(this.isHTMLObject=!0,l=this.video.cloneNode()):(l=document.createElement("video"),l.src=URL.createObjectURL(e),l.width=this.video.width,l.height=this.video.height),l.muted=!0,l.play(),c=(new Date).getTime(),d=new Whammy.Video,console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",l.width||u.width,"*",l.height||u.height),o()},this.clearOldRecordedFrames=function(){d.frames=[]};var s=!1;this.requestData=function(){if(!p){if(!d.frames.length)return void(s=!1);s=!0;var e=d.frames.slice(0);d.frames=n(e,-1),d.compile(function(e){t.ondataavailable(e),console.debug("video recorded blob size:",bytesToSize(e.size))}),d.frames=[],s=!1}};var a=!1,r=!1;this.stop=function(){r=!0,this.requestData()};var l,c,d,u=document.createElement("canvas"),h=u.getContext("2d"),m=this,p=!1;this.pause=function(){p=!0},this.resume=function(){p=!1}}function GifRecorder(e){function t(){l=Date.now();var e=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"});i.ondataavailable(e),d.stream().bin=[]}if("undefined"==typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";this.start=function(e){function i(e){return o?void setTimeout(i,500,e):(h=requestAnimationFrame(i),void 0===typeof c&&(c=e),void(90>e-c||(a.paused&&a.play(),s.drawImage(a,0,0,l,m),d.addFrame(s),c=e)))}e=e||1e3;var l=this.videoWidth||320,m=this.videoHeight||240;n.width=a.width=l,n.height=a.height=m,d=new GIFEncoder,d.setRepeat(0),d.setDelay(this.frameRate||200),d.setQuality(this.quality||1),d.start(),r=Date.now(),h=requestAnimationFrame(i),u=setTimeout(t,e)},this.stop=function(){h&&(cancelAnimationFrame(h),clearTimeout(u),t())};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.ondataavailable=function(){},this.onstop=function(){};var i=this,n=document.createElement("canvas"),s=n.getContext("2d"),a=document.createElement("video");a.muted=!0,a.autoplay=!0,a.src=URL.createObjectURL(e),a.play();var r,l,c,d,u,h=null}function applySelect2EmailField(e){var t=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i),o=!1,i=!1,n=$("#community_username").html();$(e).select2({createSearchChoice:function(e){return e=e.replace(/\s+/g,""),t.test(e)?{id:e,text:e}:void 0},allowClear:!0,multiple:!0,tokenSeparators:[",",";"," "],selectOnBlur:!1,closeOnSelect:!0,tags:$(e).data("tags"),ajax:{url:"/communities/"+n+"/conferences/0/all_friends.json",dataType:"json",data:function(t,n){return $(e).select2("data").filter(function(e){jQuery.isEmptyObject(e)?(o=!1,i=!1):"all_members"==e.id?o=!0:"all_contacts"==e.id&&(i=!0)}),{query:t,page:n,all_members:o,all_contacts:i}},results:function(e){var t=new Array;t=$.map(e.tags,function(e){return{id:e.id,text:e.text,children:e.children}});var o=e.more_contacts;return{results:t,more:o}}}})}function doInitPermission(e){bmRoom.layout.enableAudio(e)?$("#mute-user-audio-"+e.sid).addClass("enabled"):($("#mute-user-audio-"+e.sid).removeClass("enabled"),bmRoom.socket.io.engine.id===e.sid&&($(".enter-test-left .enter-switchbox").hasClass("onactive")&&$("#enter-bg-presenter .enter-test-left .enter-test-list-right").trigger("click"),$("#enter-bg-presenter").is(":visible")&&($("#enter-bg").hide(),$("#enter-bg-presenter").hide()))),bmRoom.socket.io.engine.id===e.sid&&(bmRoom.layout.enableAudio(e)?$("#switch-audio").parent().show():$("#switch-audio").parent().hide(),$("#mic-menu").is(":visible")&&$("#switch-audio").parent().hide()),bmRoom.layout.enableVideo(e)?$("#mute-user-video-"+e.sid).addClass("enabled"):($("#mute-user-video-"+e.sid).removeClass("enabled"),bmRoom.socket.io.engine.id===e.sid&&($(".enter-test-right .enter-switchbox").hasClass("onactive")&&$("#enter-bg-presenter .enter-test-right .enter-test-list-right").trigger("click"),$("#enter-bg-presenter").is(":visible")&&($("#enter-bg").hide(),$("#enter-bg-presenter").hide()))),bmRoom.socket.io.engine.id===e.sid&&(bmRoom.layout.enableVideo(e)?$("#switch-video").parent().show():$("#switch-video").parent().hide(),$("#cam-menu").is(":visible")&&$("#switch-video").parent().hide()),$.each(bmRoom.stream.opens,function(t,o){e.sid===o.sid&&("av"==o.spec?($("#mute-user-video-"+o.sid).addClass("onactive"),$("#mute-user-audio-"+o.sid).removeClass("onactive")):"a"==o.spec&&($("#mute-user-video-"+o.sid).removeClass("onactive"),$("#mute-user-audio-"+o.sid).addClass("onactive")),$("#admin-user-"+o.sid+" .admin-roles-mu").show(),o.aopen?($("#stream-"+o.muxer_id+" .clroom-presenter-signal > span.clroom-mic-on").show(),$("#stream-"+o.muxer_id+" .clroom-presenter-signal > span.clroom-mic-mute").hide()):($("#stream-"+o.muxer_id+" .clroom-presenter-signal > span.clroom-mic-on").hide(),$("#stream-"+o.muxer_id+" .clroom-presenter-signal > span.clroom-mic-mute").show()))}),bmRoom.layout.enableAudio(e)?(bmRoom.socket.io.engine.id===e.sid&&$("#switch-audio").attr("disabled",!1),$("#mute-user-audio-"+e.sid).addClass("enabled")):(bmRoom.socket.io.engine.id===e.sid&&$("#switch-audio").attr("disabled",!0),$("#mute-user-audio-"+e.sid).removeClass("enabled")),bmRoom.layout.enableVideo(e)?(bmRoom.socket.io.engine.id===e.sid&&$("#switch-video").attr("disabled",!1),$("#mute-user-video-"+e.sid).addClass("enabled")):(bmRoom.socket.io.engine.id===e.sid&&$("#switch-video").attr("disabled",!0),$("#mute-user-video-"+e.sid).removeClass("enabled")),bmRoom.layout.resizeTitle()}function addApplauseAvatar(e){var t=applauseElement(e,!0);$("#applause-area > ul").append(t),t.animate({marginTop:"0"},1e3,function(){var t=$("#"+e.timestamp+"-applause-img");setTimeout(function(){t.fadeOut("slow",function(){t.remove()})},5e3),bindApplauseHover(e)})}function applauseElement(e,t){$("body").css("overflow","hidden");var o=$("#applause-area > ul").height()-56*$("#applause-area > ul > li").length,i=e.photo,n="",s="clroom-applause-box-photo",a="",r=$("#applause-info").clone();t&&(n="style='margin-top: "+o+"px'",a=$("#applause-animate").clone(),a.attr("id",e.timestamp+"-applause-img").removeAttr("style")),r.attr("id",e.timestamp+"-applause-info"),r.find(".clroom-applause-name").html(e.name);var l=$("<li id='applause-"+e.timestamp+"' "+n+" ><div class='"+s+"'><img src='"+i+"'></div></li>");return""!=a&&(r.prependTo(l),a.prependTo(l)),l}function bindApplauseHover(e){var t=$("#applause-"+e.timestamp),o=$("#"+e.timestamp+"-applause-info");t.click(function(){o.toggle()})}function getLastTextNodeIn(e){for(;e;){if(3==e.nodeType)return e;e=e.lastChild}}function isRangeAfterNode(e,t){var o,i;return e.compareBoundaryPoints?(o=document.createRange(),i=getLastTextNodeIn(t),i&&o.selectNodeContents(i),o.collapse(!1),e.compareBoundaryPoints(e.START_TO_END,o)>-1):e.compareEndPoints?1==t.nodeType?(o=document.body.createTextRange(),o.moveToElementText(t),o.collapse(!1),e.compareEndPoints("StartToEnd",o)>-1):!1:void 0}function stripHTML(e){var t=document.createElement("DIV");return t.innerHTML=e,t.innerText}function handleUsersList(e){("Temp-Organizer"==e.role||"Organizer"==e.role)&&(bmRoom.admin.admin_list.indexOf(e.sid)<0&&bmRoom.admin.admin_list.push(e.sid),bmRoom.user.admin_list.indexOf(e.sid)<0&&bmRoom.user.admin_list.push(e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.presenter_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.attendee_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.presenter_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.attendee_list,e.sid)),"Presenter"==e.role&&(bmRoom.admin.presenter_list.indexOf(e.sid)<0&&bmRoom.admin.presenter_list.push(e.sid),bmRoom.user.presenter_list.indexOf(e.sid)<0&&bmRoom.user.presenter_list.push(e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.admin_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.attendee_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.admin_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.attendee_list,e.sid)),"Member"==e.role&&(bmRoom.admin.attendee_list.indexOf(e.sid)<0&&bmRoom.admin.attendee_list.push(e.sid),bmRoom.user.attendee_list.indexOf(e.sid)<0&&bmRoom.user.attendee_list.push(e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.admin_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.admin.presenter_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.admin_list,e.sid),bmRoom.admin.removeItemInList(bmRoom.user.presenter_list,e.sid))}function cancelHandRaise(e){var t=$(e).attr("id").replace("raise-hand-","");"cancel-all-raise-hand"==t?bmRoom.socket.emit("cancel-raise-hand","all"):bmRoom.socket.emit("cancel-raise-hand",t)}function resize_scale(e){var t=e.naturalWidth,o=e.naturalHeight;if(t>o){$(e).width("100%");var i=$(e).width()/(t/o);$(e).height(i);var n=$("ul#bxslider").height();i>n&&$(e).height(n).width("auto")}else if(o>t){$("ul#bxslider li").height("100%"),$(e).height("100%").parent().height("100%");var s=$(e).height()*(t/o);$(e).width(s);var a=$("ul#bxslider").width();s>a&&$(e).width(a).height("auto")}else t==o&&($("ul#bxslider li").height("100%"),$(e).height("100%").width("auto"))}function get_whiteboard_file_title(e){$.ajax({url:"/content_objects/get_object_by_hash_id/"+e,type:"get"})}function open_uploaded_file(e,t){bmRoom.layout.closeAllOthers("whiteboard"),bmRoom.socket.emit("whiteboard:open_uploaded_file",[e,t]),bmRoom.saveRecordingAction("StartWhiteBoardEvent","WHITEBOARD","","","")}function drawLine(e,t){if(bmRoom.whiteboard.currentCtx){var o=convertXY(t);bmRoom.whiteboard.currentCtx.beginPath(),bmRoom.whiteboard.currentCtx.moveTo(bmRoom.whiteboard.drawClient.x,bmRoom.whiteboard.drawClient.y),bmRoom.whiteboard.currentCtx.quadraticCurveTo(bmRoom.whiteboard.drawClient.x,bmRoom.whiteboard.drawClient.y,o.x,o.y),bmRoom.whiteboard.currentCtx.stroke()}}function change_penpoint_style(e){$("#change_size_show").css({width:e+"px",height:e+"px","border-top-left-radius":e+"px","border-top-right-radius":e+"px","border-bottom-right-radius":e+"px","border-bottom-left-radius":e+"px","margin-left":"-"+e/2+"px","margin-top":"-"+e/2+"px"})}function set_the_last(){if($("#slider_thumbnail li:last").offset().left+$("#slider_thumbnail li:last").width()<$("#clroom-ppt-slide-body-out").offset().left+$("#clroom-ppt-slide-body-out").width()){var e=$("#slider_thumbnail").width()-$("#clroom-ppt-slide-body-out").width();e>0&&$("#slider_thumbnail").css("margin-left","-"+e+"px")}}function set_the_first(){if($("#slider_thumbnail li:first").offset().left-5>$("#clroom-ppt-slide-body-out").offset().left){var e=$("#slider_thumbnail").width()-$("#clroom-ppt-slide-body-out").width();e>0&&$("#slider_thumbnail").css("margin-left","0px")}}function noty(e){var t=0,o={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onCloseClick:"callback.onCloseClick",onClosed:"callback.afterClose"};return jQuery.each(e,function(i,n){if(o[i]){t++;var s=o[i].split(".");e[s[0]]||(e[s[0]]={}),e[s[0]][s[1]]=n?n:function(){},delete e[i]}}),e.closeWith||(e.closeWith=jQuery.noty.defaults.closeWith),e.hasOwnProperty("closeButton")&&(t++,e.closeButton&&e.closeWith.push("button"),delete e.closeButton),e.hasOwnProperty("closeOnSelfClick")&&(t++,e.closeOnSelfClick&&e.closeWith.push("click"),delete e.closeOnSelfClick),e.hasOwnProperty("closeOnSelfOver")&&(t++,e.closeOnSelfOver&&e.closeWith.push("hover"),delete e.closeOnSelfOver),e.hasOwnProperty("custom")&&(t++,"null"!=e.custom.container&&(e.custom=e.custom.container)),e.hasOwnProperty("cssPrefix")&&(t++,delete e.cssPrefix),"noty_theme_default"==e.theme&&(t++,e.theme="defaultTheme"),e.hasOwnProperty("dismissQueue")||(e.dismissQueue=jQuery.noty.defaults.dismissQueue),e.buttons&&jQuery.each(e.buttons,function(e,o){o.click&&(t++,o.onClick=o.click,delete o.click),o.type&&(t++,o.addClass=o.type,delete o.type)}),t&&"undefined"!=typeof console&&console.warn&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options."),jQuery.notyRenderer.init(e)}function play_bigroom_video(e,t,o){t="undefined"!=typeof t?t:!1;var i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/g,n=$(e).data("link"),s="";return a=n.replace(i,function(i,a){s=a,bmRoom.videoShare.currentVideo.youtubeLink=$(e).data("link"),bmRoom.videoShare.currentVideo.isMuted=0,bmRoom.videoShare.currentVideo.playingState="-1",bmRoom.videoShare.currentVideo.eventTime=Date.now(),bmRoom.videoShare.currentVideo.elapseTime=0,bmRoom.videoShare.currentVideo.volume=$(".volume-bar").attr("volume-value"),t&&(bmRoom.videoShare.currentVideo.playingState="1",bmRoom.videoShare.currentVideo.autoplay=999,bmRoom.videoShare.currentVideo.startAt=o),bmRoom.layout.closeAllOthers("youtube"),bmRoom.socket.emit("videoShare:load",bmRoom.videoShare.currentVideo),bmRoom.saveRecordingAction("StartYoutubeShareEvent","YOUTUBE","","",n),t?bmRoom.socket.emit("videoShare:action","autoplay"):bmRoom.socket.emit("videoShare:action","shared"),$(".clroom-modal-box, #bigroom_invite_people").hide()}),!1}function onPlayerReady(){switch($("#video-share-container").fitVids(),$("#total-video-duration").html(second_to_time(youtubePlayer.getDuration())),updateProgressBarDisplay(),Number(bmRoom.videoShare.currentVideo.playingState)){case-1:break;case 0:break;case 1:var e=Math.round((Date.now()-Number(bmRoom.videoShare.currentVideo.eventTime))/1e3);999==Number(bmRoom.videoShare.currentVideo.autoplay)&&(e=Math.round((Date.now()-Number(bmRoom.videoShare.currentVideo.startAt))/1e3));var t=Number(bmRoom.videoShare.currentVideo.elapseTime)+e;t<youtubePlayer.getDuration()&&playAndSeek(t);break;case 2:var t=Number(bmRoom.videoShare.currentVideo.elapseTime);playAndSeek(t);break;case 3:break;case 5:}}function onPlayerStateChange(e){e.data!=YT.PlayerState.PLAYING||done||(setTimeout(stopVideo,6e3),done=!0)}function stopVideo(){youtubePlayer.stopVideo()}function startProgressBar(){if(updateProgressBarDisplay(),clearProgressBarInterval(),youtubePlayer.getPlayerState()!=YT.PlayerState.PAUSED){var e=setInterval(function(){updateProgressBarDisplay(),youtubePlayer.getPlayerState()==YT.PlayerState.ENDED&&(bmRoom.videoShare.currentVideo.playingState=YT.PlayerState.ENDED,bmRoom.videoShare.currentVideo.elapseTime=0,$("#video-share-container .play-pause-video-button").removeClass("onactive"),clearProgressBarInterval())},1e3);progressBarHandle.push(e)}}function updateProgressBarDisplay(){ratio=youtubePlayer.getDuration()>0?youtubePlayer.getCurrentTime()/youtubePlayer.getDuration():0,$("#elapsed-progress").css("width",100*ratio+"%"),$("#elapsed-progress-handle").css("left",100*ratio-.5+"%"),$("#video-current-elapse").html(second_to_time(youtubePlayer.getCurrentTime())),$("#total-video-duration").html(second_to_time(youtubePlayer.getDuration()))}function cleanUpYouTubeEnding(){youtubePlayer.getPlayerState()==YT.PlayerState.ENDED&&clearProgressBarInterval()}function clearProgressBarInterval(){progressBarHandle.forEach(function(e){clearInterval(e)}),progressBarHandle=[]}function second_to_time(e){var t=Math.round(parseInt(e/3600)%24),o=Math.round(parseInt(e/60)%60),i=Math.round(e%60),n=(10>t?"0"+t:t)+":"+(10>o?"0"+o:o)+":"+(10>i?"0"+i:i);return n}function pauseProgressBar(){progressBarHandle.forEach(function(e){clearInterval(e)})}function setVolumeBar(e){youtubePlayer.setVolume(e.volume),$("#video-share-container .volume-bar").attr("volume-value",e.volume),$("#video-share-container .clroom-video-volume-current").css("width",e.volume+"%"),$("#video-share-container .clroom-video-volume-handle").css("right",100-e.volume+"%")}function playAndSeek(e){if(youtubePlayer.playVideo(),setVolumeBar(bmRoom.videoShare.currentVideo),e>0)var t=0,o=setInterval(function(){1==youtubePlayer.getPlayerState()?(youtubePlayer.seekTo(e+t,!0),ratio=(e+t)/youtubePlayer.getDuration(),$("#elapsed-progress").css("width",100*ratio+"%"),$("#elapsed-progress-handle").css("left",100*ratio-.5+"%"),clearInterval(o),1==Number(bmRoom.videoShare.currentVideo.isMuted)?(youtubePlayer.mute(),$("#video-share-container .mute-unmute-video-button").addClass("muteon")):(youtubePlayer.unMute(),$("#video-share-container .mute-unmute-video-button").removeClass("muteon")),2==Number(bmRoom.videoShare.currentVideo.playingState)?(youtubePlayer.pauseVideo(),$("#video-share-container .play-pause-video-button").removeClass("onactive"),pauseProgressBar()):($("#video-share-container .play-pause-video-button").addClass("onactive"),startProgressBar())):t++},1e3);else startProgressBar()}function onYouTubeIframeAPIReady(){}function playMp4Video(e,t,o){t="undefined"!=typeof t?t:!1;var i=$(e).data("link");return bmRoom.mp4Share.currentVideo.link=i,bmRoom.mp4Share.currentVideo.isMuted=0,bmRoom.mp4Share.currentVideo.playingState=0,bmRoom.mp4Share.currentVideo.eventTime=Date.now(),bmRoom.mp4Share.currentVideo.elapseTime=0,bmRoom.mp4Share.currentVideo.volume=$("#mp4-share-container .volume-bar").attr("volume-value"),t&&(bmRoom.mp4Share.currentVideo.playingState=1,bmRoom.mp4Share.currentVideo.autoplay=999,bmRoom.mp4Share.currentVideo.startAt=o),bmRoom.layout.closeAllOthers(),bmRoom.socket.emit("mp4Share:load",bmRoom.mp4Share.currentVideo),t||bmRoom.socket.emit("mp4Share:action","shared"),$(".clroom-modal-box, #bigroom_invite_people").hide(),!1}function updateMP4ProgressBarDisplay(){if(bmRoom.mp4Share.video){var e=bmRoom.mp4Share.video.currentTime,t=bmRoom.mp4Share.video.duration;ratio=t>0?e/t:0,e==t&&(bmRoom.mp4Share.currentVideo.playingState=3),$("#mp4-elapsed-progress").css("width",100*ratio+"%"),$("#mp4-elapsed-progress-handle").css("left",100*ratio-.5+"%"),$("#mp4-current-elapse").html(second_to_time(e)),$("#total-mp4-duration").html(second_to_time(t))}}function setVolumeBar(e){$("#mp4-share-container .volume-bar").attr("volume-value",e.volume),$("#mp4-share-container .clroom-video-volume-current").css("width",e.volume+"%"),$("#mp4-share-container .clroom-video-volume-handle").css("right",100-e.volume+"%")}function mp4PlayAndSeek(e){if(2!=Number(bmRoom.mp4Share.currentVideo.playingState)&&bmRoom.mp4Share.video.play(),setVolumeBar(bmRoom.mp4Share.currentVideo),e=parseFloat(e),e>0)var t=0,o=setInterval(function(){bmRoom.mp4Share.video?(bmRoom.mp4Share.video.currentTime=e+t,ratio=(e+t)/bmRoom.mp4Share.video.duration,$("#mp4-elapsed-progress").css("width",100*ratio+"%"),$("#mp4-elapsed-progress-handle").css("left",100*ratio-.5+"%"),clearInterval(o),1==Number(bmRoom.mp4Share.currentVideo.isMuted)?(bmRoom.mp4Share.volume=0,$("#mp4-share-container .mute-unmute-video-button").addClass("muteon")):(bmRoom.mp4Share.video.volume=parseInt(bmRoom.mp4Share.currentVideo.volume)/100,$("#mp4-share-container .mute-unmute-video-button").removeClass("muteon")),2==Number(bmRoom.mp4Share.currentVideo.playingState)?(bmRoom.mp4Share.video.pause(),$("#mp4-share-container .play-pause-video-button").removeClass("onactive")):$("#mp4-share-container .play-pause-video-button").addClass("onactive")):t++,setVolumeBar(bmRoom.mp4Share.currentVideo)},1e3)}function onMP4PlayerReady(){switch($("#mp4-share-container").fitVids(),$("#total-mp4-duration").html(second_to_time(bmRoom.mp4Share.video.duration)),updateMP4ProgressBarDisplay(),Number(bmRoom.mp4Share.currentVideo.playingState)){case 0:break;case 1:var e=Math.round((Date.now()-Number(bmRoom.mp4Share.currentVideo.eventTime))/1e3);999==Number(bmRoom.mp4Share.currentVideo.autoplay)&&(e=Math.round((Date.now()-Number(bmRoom.mp4Share.currentVideo.startAt))/1e3));var t=Number(bmRoom.mp4Share.currentVideo.elapseTime)+e;t<bmRoom.mp4Share.video.duration&&mp4PlayAndSeek(t);break;case 2:var t=Number(bmRoom.mp4Share.currentVideo.elapseTime);mp4PlayAndSeek(t);break;case 3:}}function second_to_time(e){var t=Math.round(parseInt(e/3600)%24),o=Math.round(parseInt(e/60)%60),i=Math.round(e%60),n=(10>t?"0"+t:t)+":"+(10>o?"0"+o:o)+":"+(10>i?"0"+i:i);return n}function checkHash(e){return e?e.match(/^#/)?e:"#"+e:"#"}function getCaretCharacterOffsetWithin(e){var t,o=0,i=e.ownerDocument||e.document,n=i.defaultView||i.parentWindow;if("undefined"!=typeof n.getSelection){if(t=n.getSelection(),t.rangeCount>0){var s=n.getSelection().getRangeAt(0),a=s.cloneRange();a.selectNodeContents(e),a.setEnd(s.endContainer,s.endOffset),o=a.toString().length}}else if((t=i.selection)&&"Control"!=t.type){var r=t.createRange(),l=i.body.createTextRange();l.moveToElementText(e),l.setEndPoint("EndToEnd",r),o=l.text.length}return o}function timeDifference(e,t){var o=Math.abs(e-t),i=Math.floor(o/1e3/60/60/24);o-=1e3*i*60*60*24;var n=Math.floor(o/1e3/60/60);o-=1e3*n*60*60;var s=Math.floor(o/1e3/60);o-=1e3*s*60;var a=Math.floor(o/1e3);return i>0?i+"d":n>0?n+"h":s>0?s+"m":a>0?a+"s":"now"}function bindKnockEvent(e){var t=$("#"+e+"-li .knock-btn > a");t.click(function(){var e=$(this).data("random-id"),t=$(this).data("knock-status"),o=$(this).data("user-name"),i=$(this).data("user-email");$.ajax({url:$("#server_url").val()+"/knock-to-enter-response",data:{obfuscated_id:bmRoom.twilioCall.obfuscatedId,user_name:o,user_email:i,knock_status:t},type:"get",dataType:"jsonp",crossDomain:!0,success:function(){}}),$("#"+e+"-li").remove(),bmRoom.socket.emit("knock:action",{random_id:e,name:o,email:i,confId:bmRoom.twilioCall.obfuscatedId,action:t,handler:{name:bmRoom.my.name}}),bmRoom.saveRecordingAction(t.capitalizeFirstLetter(),"KnockKnock","","","",bmRoom.socket.io.engine.id,bmRoom.my.name,"","knock-from-"+o),0==$("#knock-box-waiting-list > li").length&&$("#knock_notification_box").hide()})}function checkCreditCardType(e){$("#credit_card_raw_card_number").keyup(function(){var t=GetCreditCardTypeByNumber($("#credit_card_raw_card_number").val());"?"==t?$(e).children().removeClass("onactive"):($("."+t).addClass("onactive"),$("."+t).siblings().removeClass("onactive"),"amex-card"==t?"XXX"==$("#credit_card_raw_card_verification_code").attr("placeholder")&&$("#credit_card_raw_card_verification_code").attr("placeholder","XXXX"):"XXXX"==$("#credit_card_raw_card_verification_code").attr("placeholder")&&$("#credit_card_raw_card_verification_code").attr("placeholder","XXX"))
})}function setUpLandingPageCreditCardForm(){$("#credit-card-form").length>0&&!$("#credit-card-form").hasClass("close")&&($("#credit_card_usage").val(""),activateNewCardTab()),$("#saved_credit_card_form").is(":visible")&&$("#credit_card_usage").val($("#credit-card-select").val()),checkCreditCardType(".conf-creation-landing-addcard-topicon"),$(document).on("change","#credit-card-select",function(){$("#credit_card_usage").val($("#credit-card-select").val())}),$(document).on("click","#credit_card_used, #credit_card_new",function(){"onactive"!=this.className&&($("#credit_card_used, #credit_card_new").toggleClass("onactive"),$("#saved_credit_card_form, #add_credit_card_form").toggle()),$("#credit_card_usage").val("credit_card_used"==this.id?$("#credit-card-select").val():"")}),$(document).on("click","#enter_registration_coupon",function(){$(this).hide(),$("#enter_registration_coupon_form").show()}),$(document).on("click","#enter_registration_coupon_form button",function(e){return e.preventDefault(),$.ajax({url:"/conferences/"+$("#conference-obfuscated-id").val()+"/conference_registrations/apply_coupon_code?coupon_code="+$("#conference_coupon_code").val()}),!1}),$("input:checkbox").prettyCheckable({color:"green"})}function activateNewCardTab(){$("#credit_card_new").addClass("onactive"),$("#credit_card_used").removeClass("onactive"),$("#saved_credit_card_form").hide()}function setUpCreditCardForm(){$("#credit-card-form").hasClass("close")||($("#credit_card_billing_address_attributes_country").customSelect(),$("#credit_card_usage").val("")),$("#credit-card-selection-section").hasClass("close")||($("#credit-card-selection-section").is(":visible")&&$("#credit-card-select").msDropDown(),$("#credit_card_usage").val($("#credit-card-select").val())),checkCreditCardType(".creditcard-logo"),$(document).on("change","#credit-card-select",function(){$("#credit_card_usage").val($("#credit-card-select").val())}),$(document).on("click","#enter-new-credit-card-link",function(e){return $("#credit-card-form").removeClass("close"),$("#credit-card-form").hasClass("custom-select-active")||($("#credit_card_billing_address_attributes_country").customSelect(),$("#credit-card-form").addClass("custom-select-active")),$("#credit-card-selection-section").addClass("close"),$("#credit_card_usage").val(""),e.preventDefault(),!1}),$(document).on("click","#use-existing-card-link",function(e){return $("#credit-card-form").addClass("close"),$("#credit-card-selection-section").removeClass("close"),$("#credit-card-selection-section").hasClass("ms-drop-down-active")||($("#credit-card-select").msDropDown(),$("#credit-card-selection-section").addClass("ms-drop-down-active")),$("#credit_card_usage").val($("#credit-card-select").val()),e.preventDefault(),!1}),$("input:checkbox").prettyCheckable({color:"green"})}function GetCreditCardTypeByNumber(e){var t=(e+"").replace(/\s/g,"");return/^(34|37)/.test(t)&&15==t.length?"amex-card":/^(51|52|53|54|55)/.test(t)&&16==t.length?"master-card":!/^(4)/.test(t)||13!=t.length&&16!=t.length?/^(6011)/.test(t)&&16==t.length?"discover-card":"?":"visa-card"}function calculateTodayPrice(){regular_price=$("#regular_price").val(),remaining_credit=Math.round(100*$("#remaining_credit").val())/100,discounted_price="percent_discount"==$("#coupon_type").val()?Math.round(regular_price*(100-$("#coupon_discount_percent").val())*100)/100:"amount_discount"==$("#coupon_type").val()?Math.round(regular_price-100*$("#coupon_discount_amount").val())/100:regular_price,due_today=Math.round(100*(discounted_price-$("#remaining_credit").val()))/100,0>due_today&&(due_today=0),$(".js-credit-remaining").html(remaining_credit>discounted_price?"$"+discounted_price:"$"+remaining_credit),$(".js-today-total").html("yes"==$("#currently_in_trial").val()?"$0 (currently in trial)":"$"+due_today),$(".js-next-billing-cycle-date").html(due_today>0?$("#js_fresh_next_due_date").val():$("#js_next_due_date").val())}function update_room_logo_croods(e){$("#submit_room_logo_form #conference_crop_x").val(e.x),$("#submit_room_logo_form #conference_crop_y").val(e.y),$("#submit_room_logo_form #conference_crop_w").val(e.width),$("#submit_room_logo_form #conference_crop_h").val(e.height)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function o(e){var t=e.length,o=st.type(e);return"function"===o||st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,o){if(st.isFunction(t))return st.grep(e,function(e,i){return!!t.call(e,i,e)!==o});if(t.nodeType)return st.grep(e,function(e){return e===t!==o});if("string"==typeof t){if(mt.test(t))return st.filter(t,e,o);t=st.filter(t,e)}return st.grep(e,function(e){return st.inArray(e,t)>=0!==o})}function n(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=yt[e]={};return st.each(e.match(wt)||[],function(e,o){t[o]=!0}),t}function a(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1)):(ft.detachEvent("onreadystatechange",r),e.detachEvent("onload",r))}function r(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(a(),st.ready())}function l(e,t,o){if(void 0===o&&1===e.nodeType){var i="data-"+t.replace(Rt,"-$1").toLowerCase();if(o=e.getAttribute(i),"string"==typeof o){try{o="true"===o?!0:"false"===o?!1:"null"===o?null:+o+""===o?+o:Ct.test(o)?st.parseJSON(o):o}catch(n){}st.data(e,t,o)}else o=void 0}return o}function c(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,o,i){if(st.acceptData(e)){var n,s,a=st.expando,r=e.nodeType,l=r?st.cache:e,c=r?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==o||"string"!=typeof t)return c||(c=r?e[a]=G.pop()||st.guid++:a),l[c]||(l[c]=r?{}:{toJSON:st.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=st.extend(l[c],t):l[c].data=st.extend(l[c].data,t)),s=l[c],i||(s.data||(s.data={}),s=s.data),void 0!==o&&(s[st.camelCase(t)]=o),"string"==typeof t?(n=s[t],null==n&&(n=s[st.camelCase(t)])):n=s,n}}function u(e,t,o){if(st.acceptData(e)){var i,n,s=e.nodeType,a=s?st.cache:e,r=s?e[st.expando]:st.expando;if(a[r]){if(t&&(i=o?a[r]:a[r].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in i?t=[t]:(t=st.camelCase(t),t=t in i?[t]:t.split(" ")),n=t.length;for(;n--;)delete i[t[n]];if(o?!c(i):!st.isEmptyObject(i))return}(o||(delete a[r].data,c(a[r])))&&(s?st.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[r]:a[r]=null)}}}function h(){return!0}function m(){return!1}function p(){try{return ft.activeElement}catch(e){}}function f(e){var t=Ft.split("|"),o=e.createDocumentFragment();if(o.createElement)for(;t.length;)o.createElement(t.pop());return o}function g(e,t){var o,i,n=0,s=typeof e.getElementsByTagName!==xt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xt?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],o=e.childNodes||e;null!=(i=o[n]);n++)!t||st.nodeName(i,t)?s.push(i):st.merge(s,g(i,t));return void 0===t||t&&st.nodeName(e,t)?st.merge([e],s):s}function b(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return st.nodeName(e,"table")&&st.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==st.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var o,i=0;null!=(o=e[i]);i++)st._data(o,"globalEval",!t||st._data(t[i],"globalEval"))}function $(e,t){if(1===t.nodeType&&st.hasData(e)){var o,i,n,s=st._data(e),a=st._data(t,s),r=s.events;if(r){delete a.handle,a.events={};for(o in r)for(i=0,n=r[o].length;n>i;i++)st.event.add(t,o,r[o][i])}a.data&&(a.data=st.extend({},a.data))}}function k(e,t){var o,i,n;if(1===t.nodeType){if(o=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[st.expando]){n=st._data(t);for(i in n.events)st.removeEvent(t,i,n.handle);t.removeAttribute(st.expando)}"script"===o&&t.text!==e.text?(_(t).text=e.text,w(t)):"object"===o?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===o&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===o?t.defaultSelected=t.selected=e.defaultSelected:("input"===o||"textarea"===o)&&(t.defaultValue=e.defaultValue)}}function x(t,o){var i=st(o.createElement(t)).appendTo(o.body),n=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:st.css(i[0],"display");return i.detach(),n}function C(e){var t=ft,o=eo[e];return o||(o=x(e,t),"none"!==o&&o||(Jt=(Jt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),o=x(e,t),Jt.detach()),eo[e]=o),o}function R(e,t){return{get:function(){var o=e();if(null!=o)return o?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var o=t.charAt(0).toUpperCase()+t.slice(1),i=t,n=po.length;n--;)if(t=po[n]+o,t in e)return t;return i}function T(e,t){for(var o,i,n,s=[],a=0,r=e.length;r>a;a++)i=e[a],i.style&&(s[a]=st._data(i,"olddisplay"),o=i.style.display,t?(s[a]||"none"!==o||(i.style.display=""),""===i.style.display&&Dt(i)&&(s[a]=st._data(i,"olddisplay",C(i.nodeName)))):s[a]||(n=Dt(i),(o&&"none"!==o||!n)&&st._data(i,"olddisplay",n?o:st.css(i,"display"))));for(a=0;r>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function D(e,t,o){var i=co.exec(t);return i?Math.max(0,i[1]-(o||0))+(i[2]||"px"):t}function P(e,t,o,i,n){for(var s=o===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===o&&(a+=st.css(e,o+Tt[s],!0,n)),i?("content"===o&&(a-=st.css(e,"padding"+Tt[s],!0,n)),"margin"!==o&&(a-=st.css(e,"border"+Tt[s]+"Width",!0,n))):(a+=st.css(e,"padding"+Tt[s],!0,n),"padding"!==o&&(a+=st.css(e,"border"+Tt[s]+"Width",!0,n)));return a}function A(e,t,o){var i=!0,n="width"===t?e.offsetWidth:e.offsetHeight,s=to(e),a=it.boxSizing()&&"border-box"===st.css(e,"boxSizing",!1,s);if(0>=n||null==n){if(n=oo(e,t,s),(0>n||null==n)&&(n=e.style[t]),no.test(n))return n;i=a&&(it.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+P(e,t,o||(a?"border":"content"),i,s)+"px"}function E(e,t,o,i,n){return new E.prototype.init(e,t,o,i,n)}function I(){return setTimeout(function(){fo=void 0}),fo=st.now()}function M(e,t){var o,i={height:e},n=0;for(t=t?1:0;4>n;n+=2-t)o=Tt[n],i["margin"+o]=i["padding"+o]=e;return t&&(i.opacity=i.width=e),i}function j(e,t,o){for(var i,n=(yo[t]||[]).concat(yo["*"]),s=0,a=n.length;a>s;s++)if(i=n[s].call(o,t,e))return i}function O(e,t,o){var i,n,s,a,r,l,c,d,u=this,h={},m=e.style,p=e.nodeType&&Dt(e),f=st._data(e,"fxshow");o.queue||(r=st._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,st.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(o.overflow=[m.overflow,m.overflowX,m.overflowY],c=st.css(e,"display"),d=C(e.nodeName),"none"===c&&(c=d),"inline"===c&&"none"===st.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==d?m.zoom=1:m.display="inline-block")),o.overflow&&(m.overflow="hidden",it.shrinkWrapBlocks()||u.always(function(){m.overflow=o.overflow[0],m.overflowX=o.overflow[1],m.overflowY=o.overflow[2]}));for(i in t)if(n=t[i],bo.exec(n)){if(delete t[i],s=s||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||void 0===f[i])continue;p=!0}h[i]=f&&f[i]||st.style(e,i)}if(!st.isEmptyObject(h)){f?"hidden"in f&&(p=f.hidden):f=st._data(e,"fxshow",{}),s&&(f.hidden=!p),p?st(e).show():u.done(function(){st(e).hide()}),u.done(function(){var t;st._removeData(e,"fxshow");for(t in h)st.style(e,t,h[t])});for(i in h)a=j(p?f[i]:0,i,u),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function F(e,t){var o,i,n,s,a;for(o in e)if(i=st.camelCase(o),n=t[i],s=e[o],st.isArray(s)&&(n=s[1],s=e[o]=s[0]),o!==i&&(e[i]=s,delete e[o]),a=st.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(o in s)o in e||(e[o]=s[o],t[o]=n)}else t[i]=n}function z(e,t,o){var i,n,s=0,a=wo.length,r=st.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=fo||I(),o=Math.max(0,c.startTime+c.duration-t),i=o/c.duration||0,s=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(s);return r.notifyWith(e,[c,s,o]),1>s&&l?o:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},o),originalProperties:t,originalOptions:o,startTime:fo||I(),duration:o.duration,tweens:[],createTween:function(t,o){var i=st.Tween(e,c.opts,t,o,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var o=0,i=t?c.tweens.length:0;if(n)return this;for(n=!0;i>o;o++)c.tweens[o].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),d=c.props;for(F(d,c.opts.specialEasing);a>s;s++)if(i=wo[s].call(c,e,d,c.opts))return i;return st.map(d,j,c),st.isFunction(c.opts.start)&&c.opts.start.call(e,c),st.fx.timer(st.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var i,n=0,s=t.toLowerCase().match(wt)||[];if(st.isFunction(o))for(;i=s[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(o)):(e[i]=e[i]||[]).push(o)}}function H(e,t,o,i){function n(r){var l;return s[r]=!0,st.each(e[r]||[],function(e,r){var c=r(t,o,i);return"string"!=typeof c||a||s[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}var s={},a=e===Uo;return n(t.dataTypes[0])||!s["*"]&&n("*")}function N(e,t){var o,i,n=st.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:o||(o={}))[i]=t[i]);return o&&st.extend(!0,e,o),e}function B(e,t,o){for(var i,n,s,a,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(a in r)if(r[a]&&r[a].test(n)){l.unshift(a);break}if(l[0]in o)s=l[0];else{for(a in o){if(!l[0]||e.converters[a+" "+l[0]]){s=a;break}i||(i=a)}s=s||i}return s?(s!==l[0]&&l.unshift(s),o[s]):void 0}function W(e,t,o,i){var n,s,a,r,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=d.shift();s;)if(e.responseFields[s]&&(o[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=c[l+" "+s]||c["* "+s],!a)for(n in c)if(r=n.split(" "),r[1]===s&&(a=c[l+" "+r[0]]||c["* "+r[0]])){a===!0?a=c[n]:c[n]!==!0&&(s=r[0],d.unshift(r[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function q(e,t,o,i){var n;if(st.isArray(t))st.each(t,function(t,n){o||Xo.test(e)?i(e,n):q(e+"["+("object"==typeof n?t:"")+"]",n,o,i)});else if(o||"object"!==st.type(t))i(e,t);else for(n in t)q(e+"["+n+"]",t[n],o,i)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,Q=G.concat,Z=G.push,K=G.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,ot="".trim,it={},nt="1.11.0",st=function(e,t){return new st.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return t.toUpperCase()};st.fn=st.prototype={jquery:nt,constructor:st,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},map:function(e){return this.pushStack(st.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(0>e?t:0);return this.pushStack(o>=0&&t>o?[this[o]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:G.sort,splice:G.splice},st.extend=st.fn.extend=function(){var e,t,o,i,n,s,a=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[r]||{},r++),"object"==typeof a||st.isFunction(a)||(a={}),r===l&&(a=this,r--);l>r;r++)if(null!=(n=arguments[r]))for(i in n)e=a[i],o=n[i],a!==o&&(c&&o&&(st.isPlainObject(o)||(t=st.isArray(o)))?(t?(t=!1,s=e&&st.isArray(e)?e:[]):s=e&&st.isPlainObject(e)?e:{},a[i]=st.extend(c,s,o)):void 0!==o&&(a[i]=o));return a},st.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(o){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(rt,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n,s=0,a=e.length,r=o(e);if(i){if(r)for(;a>s&&(n=t.apply(e[s],i),n!==!1);s++);else for(s in e)if(n=t.apply(e[s],i),n===!1)break}else if(r)for(;a>s&&(n=t.call(e[s],s,e[s]),n!==!1);s++);else for(s in e)if(n=t.call(e[s],s,e[s]),n===!1)break;return e},trim:ot&&!ot.call("\ufeff\xa0")?function(e){return null==e?"":ot.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(o(Object(e))?st.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,o){var i;if(t){if(K)return K.call(t,e,o);for(i=t.length,o=o?0>o?Math.max(0,i+o):o:0;i>o;o++)if(o in t&&t[o]===e)return o}return-1},merge:function(e,t){for(var o=+t.length,i=0,n=e.length;o>i;)e[n++]=t[i++];if(o!==o)for(;void 0!==t[i];)e[n++]=t[i++];return e.length=n,e},grep:function(e,t,o){for(var i,n=[],s=0,a=e.length,r=!o;a>s;s++)i=!t(e[s],s),i!==r&&n.push(e[s]);return n},map:function(e,t,i){var n,s=0,a=e.length,r=o(e),l=[];if(r)for(;a>s;s++)n=t(e[s],s,i),null!=n&&l.push(n);else for(s in e)n=t(e[s],s,i),null!=n&&l.push(n);return Q.apply([],l)},guid:1,proxy:function(e,t){var o,i,n;return"string"==typeof t&&(n=e[t],t=e,e=n),st.isFunction(e)?(o=X.call(arguments,2),i=function(){return e.apply(t||this,o.concat(X.call(arguments)))},i.guid=e.guid=e.guid||st.guid++,i):void 0},now:function(){return+new Date},support:it}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var dt=/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */
function(e){function t(e,t,o,i){var n,s,a,r,l,c,u,p,f,g;if((t?t.ownerDocument||t:H)!==E&&A(t),t=t||E,o=o||[],!e||"string"!=typeof e)return o;if(1!==(r=t.nodeType)&&9!==r)return[];if(M&&!i){if(n=vt.exec(e))if(a=n[1]){if(9===r){if(s=t.getElementById(a),!s||!s.parentNode)return o;if(s.id===a)return o.push(s),o}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&z(t,s)&&s.id===a)return o.push(s),o}else{if(n[2])return J.apply(o,t.getElementsByTagName(e)),o;if((a=n[3])&&k.getElementsByClassName&&t.getElementsByClassName)return J.apply(o,t.getElementsByClassName(a)),o}if(k.qsa&&(!j||!j.test(e))){if(p=u=L,f=t,g=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?p=u.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+m(c[l]);f=_t.test(e)&&d(t.parentNode)||t,g=c.join(",")}if(g)try{return J.apply(o,f.querySelectorAll(g)),o}catch(b){}finally{u||t.removeAttribute("id")}}}return y(e.replace(lt,"$1"),t,o,i)}function o(){function e(o,i){return t.push(o+" ")>x.cacheLength&&delete e[t.shift()],e[o+" "]=i}var t=[];return e}function i(e){return e[L]=!0,e}function n(e){var t=E.createElement("div");try{return!!e(t)}catch(o){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var o=e.split("|"),i=e.length;i--;)x.attrHandle[o[i]]=t}function a(e,t){var o=t&&e,i=o&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(o)for(;o=o.nextSibling;)if(o===t)return-1;return e?1:-1}function r(e){return function(t){var o=t.nodeName.toLowerCase();return"input"===o&&t.type===e}}function l(e){return function(t){var o=t.nodeName.toLowerCase();return("input"===o||"button"===o)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(o,i){for(var n,s=e([],o.length,t),a=s.length;a--;)o[n=s[a]]&&(o[n]=!(i[n]=o[n]))})})}function d(e){return e&&typeof e.getElementsByTagName!==Y&&e}function u(){}function h(e,o){var i,n,s,a,r,l,c,d=q[e+" "];if(d)return o?0:d.slice(0);for(r=e,l=[],c=x.preFilter;r;){(!i||(n=ct.exec(r)))&&(n&&(r=r.slice(n[0].length)||r),l.push(s=[])),i=!1,(n=dt.exec(r))&&(i=n.shift(),s.push({value:i,type:n[0].replace(lt," ")}),r=r.slice(i.length));for(a in x.filter)!(n=pt[a].exec(r))||c[a]&&!(n=c[a](n))||(i=n.shift(),s.push({value:i,type:a,matches:n}),r=r.slice(i.length));if(!i)break}return o?r.length:r?t.error(e):q(e,l).slice(0)}function m(e){for(var t=0,o=e.length,i="";o>t;t++)i+=e[t].value;return i}function p(e,t,o){var i=t.dir,n=o&&"parentNode"===i,s=B++;return t.first?function(t,o,s){for(;t=t[i];)if(1===t.nodeType||n)return e(t,o,s)}:function(t,o,a){var r,l,c=[N,s];if(a){for(;t=t[i];)if((1===t.nodeType||n)&&e(t,o,a))return!0}else for(;t=t[i];)if(1===t.nodeType||n){if(l=t[L]||(t[L]={}),(r=l[i])&&r[0]===N&&r[1]===s)return c[2]=r[2];if(l[i]=c,c[2]=e(t,o,a))return!0}}}function f(e){return e.length>1?function(t,o,i){for(var n=e.length;n--;)if(!e[n](t,o,i))return!1;return!0}:e[0]}function g(e,t,o,i,n){for(var s,a=[],r=0,l=e.length,c=null!=t;l>r;r++)(s=e[r])&&(!o||o(s,i,n))&&(a.push(s),c&&t.push(r));return a}function b(e,t,o,n,s,a){return n&&!n[L]&&(n=b(n)),s&&!s[L]&&(s=b(s,a)),i(function(i,a,r,l){var c,d,u,h=[],m=[],p=a.length,f=i||w(t||"*",r.nodeType?[r]:r,[]),b=!e||!i&&t?f:g(f,h,e,r,l),v=o?s||(i?e:p||n)?[]:a:b;if(o&&o(b,v,r,l),n)for(c=g(v,m),n(c,[],r,l),d=c.length;d--;)(u=c[d])&&(v[m[d]]=!(b[m[d]]=u));if(i){if(s||e){if(s){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(b[d]=u);s(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=s?tt.call(i,u):h[d])>-1&&(i[c]=!(a[c]=u))}}else v=g(v===a?v.splice(p,v.length):v),s?s(null,a,v,l):J.apply(a,v)})}function v(e){for(var t,o,i,n=e.length,s=x.relative[e[0].type],a=s||x.relative[" "],r=s?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return tt.call(t,e)>-1},a,!0),d=[function(e,o,i){return!s&&(i||o!==T)||((t=o).nodeType?l(e,o,i):c(e,o,i))}];n>r;r++)if(o=x.relative[e[r].type])d=[p(f(d),o)];else{if(o=x.filter[e[r].type].apply(null,e[r].matches),o[L]){for(i=++r;n>i&&!x.relative[e[i].type];i++);return b(r>1&&f(d),r>1&&m(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(lt,"$1"),o,i>r&&v(e.slice(r,i)),n>i&&v(e=e.slice(i)),n>i&&m(e))}d.push(o)}return f(d)}function _(e,o){var n=o.length>0,s=e.length>0,a=function(i,a,r,l,c){var d,u,h,m=0,p="0",f=i&&[],b=[],v=T,_=i||s&&x.find.TAG("*",c),w=N+=null==v?1:Math.random()||.1,y=_.length;for(c&&(T=a!==E&&a);p!==y&&null!=(d=_[p]);p++){if(s&&d){for(u=0;h=e[u++];)if(h(d,a,r)){l.push(d);break}c&&(N=w)}n&&((d=!h&&d)&&m--,i&&f.push(d))}if(m+=p,n&&p!==m){for(u=0;h=o[u++];)h(f,b,a,r);if(i){if(m>0)for(;p--;)f[p]||b[p]||(b[p]=Z.call(l));b=g(b)}J.apply(l,b),c&&!i&&b.length>0&&m+o.length>1&&t.uniqueSort(l)}return c&&(N=w,T=v),f};return n?i(a):a}function w(e,o,i){for(var n=0,s=o.length;s>n;n++)t(e,o[n],i);return i}function y(e,t,o,i){var n,s,a,r,l,c=h(e);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&k.getById&&9===t.nodeType&&M&&x.relative[s[1].type]){if(t=(x.find.ID(a.matches[0].replace(yt,$t),t)||[])[0],!t)return o;e=e.slice(s.shift().value.length)}for(n=pt.needsContext.test(e)?0:s.length;n--&&(a=s[n],!x.relative[r=a.type]);)if((l=x.find[r])&&(i=l(a.matches[0].replace(yt,$t),_t.test(s[0].type)&&d(t.parentNode)||t))){if(s.splice(n,1),e=i.length&&m(s),!e)return J.apply(o,i),o;break}}return S(e,c)(i,t,!M,o,_t.test(e)&&d(t.parentNode)||t),o}var $,k,x,C,R,S,T,D,P,A,E,I,M,j,O,F,z,L="sizzle"+-new Date,H=e.document,N=0,B=0,W=o(),q=o(),U=o(),V=function(e,t){return e===t&&(P=!0),0},Y="undefined",G=1<<31,X={}.hasOwnProperty,Q=[],Z=Q.pop,K=Q.push,J=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,o=this.length;o>t;t++)if(this[t]===e)return t;return-1},ot="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=nt.replace("w","w#"),at="\\["+it+"*("+nt+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+it+"*\\]",rt=":("+nt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),dt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),mt=new RegExp("^"+st+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+ot+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,bt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,wt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),$t=function(e,t,o){var i="0x"+t-65536;return i!==i||o?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Q=et.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(kt){J={apply:Q.length?function(e,t){K.apply(e,et.call(t))}:function(e,t){for(var o=e.length,i=0;e[o++]=t[i++];);e.length=o-1}}}k=t.support={},R=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,o=e?e.ownerDocument||e:H,i=o.defaultView;return o!==E&&9===o.nodeType&&o.documentElement?(E=o,I=o.documentElement,M=!R(o),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),k.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=n(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=bt.test(o.getElementsByClassName)&&n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=n(function(e){return I.appendChild(e).id=L,!o.getElementsByName||!o.getElementsByName(L).length}),k.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==Y&&M){var o=t.getElementById(e);return o&&o.parentNode?[o]:[]}},x.filter.ID=function(e){var t=e.replace(yt,$t);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(yt,$t);return function(e){var o=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return o&&o.value===t}}),x.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var o,i=[],n=0,s=t.getElementsByTagName(e);if("*"===e){for(;o=s[n++];)1===o.nodeType&&i.push(o);return i}return s},x.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&M?t.getElementsByClassName(e):void 0},O=[],j=[],(k.qsa=bt.test(o.querySelectorAll))&&(n(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&j.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+it+"*(?:value|"+ot+")"),e.querySelectorAll(":checked").length||j.push(":checked")}),n(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(k.matchesSelector=bt.test(F=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&n(function(e){k.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",rt)}),j=j.length&&new RegExp(j.join("|")),O=O.length&&new RegExp(O.join("|")),t=bt.test(I.compareDocumentPosition),z=t||bt.test(I.contains)?function(e,t){var o=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(o.contains?o.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return P=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!k.sortDetached&&t.compareDocumentPosition(e)===i?e===o||e.ownerDocument===H&&z(H,e)?-1:t===o||t.ownerDocument===H&&z(H,t)?1:D?tt.call(D,e)-tt.call(D,t):0:4&i?-1:1)}:function(e,t){if(e===t)return P=!0,0;var i,n=0,s=e.parentNode,r=t.parentNode,l=[e],c=[t];if(!s||!r)return e===o?-1:t===o?1:s?-1:r?1:D?tt.call(D,e)-tt.call(D,t):0;if(s===r)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[n]===c[n];)n++;return n?a(l[n],c[n]):l[n]===H?-1:c[n]===H?1:0},o):E},t.matches=function(e,o){return t(e,null,null,o)},t.matchesSelector=function(e,o){if((e.ownerDocument||e)!==E&&A(e),o=o.replace(ut,"='$1']"),!(!k.matchesSelector||!M||O&&O.test(o)||j&&j.test(o)))try{var i=F.call(e,o);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(n){}return t(o,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&A(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&A(e);var o=x.attrHandle[t.toLowerCase()],i=o&&X.call(x.attrHandle,t.toLowerCase())?o(e,t,!M):void 0;return void 0!==i?i:k.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,o=[],i=0,n=0;if(P=!k.detectDuplicates,D=!k.sortStable&&e.slice(0),e.sort(V),P){for(;t=e[n++];)t===e[n]&&(i=o.push(n));for(;i--;)e.splice(o[i],1)}return D=null,e},C=t.getText=function(e){var t,o="",i=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=C(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[i++];)o+=C(t);return o},x=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(yt,$t),e[3]=(e[4]||e[5]||"").replace(yt,$t),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,o=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:o&&ht.test(o)&&(t=h(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(yt,$t).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,o,i){return function(n){var s=t.attr(n,e);return null==s?"!="===o:o?(s+="","="===o?s===i:"!="===o?s!==i:"^="===o?i&&0===s.indexOf(i):"*="===o?i&&s.indexOf(i)>-1:"$="===o?i&&s.slice(-i.length)===i:"~="===o?(" "+s+" ").indexOf(i)>-1:"|="===o?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,o,i,n){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),r="of-type"===t;return 1===i&&0===n?function(e){return!!e.parentNode}:function(t,o,l){var c,d,u,h,m,p,f=s!==a?"nextSibling":"previousSibling",g=t.parentNode,b=r&&t.nodeName.toLowerCase(),v=!l&&!r;if(g){if(s){for(;f;){for(u=t;u=u[f];)if(r?u.nodeName.toLowerCase()===b:1===u.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(d=g[L]||(g[L]={}),c=d[e]||[],m=c[0]===N&&c[1],h=c[0]===N&&c[2],u=m&&g.childNodes[m];u=++m&&u&&u[f]||(h=m=0)||p.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[N,m,h];break}}else if(v&&(c=(t[L]||(t[L]={}))[e])&&c[0]===N)h=c[1];else for(;(u=++m&&u&&u[f]||(h=m=0)||p.pop())&&((r?u.nodeName.toLowerCase()!==b:1!==u.nodeType)||!++h||(v&&((u[L]||(u[L]={}))[e]=[N,h]),u!==t)););return h-=n,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,o){var n,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[L]?s(o):s.length>1?(n=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,n=s(e,o),a=n.length;a--;)i=tt.call(e,n[a]),e[i]=!(t[i]=n[a])}):function(e){return s(e,0,n)}):s}},pseudos:{not:i(function(e){var t=[],o=[],n=S(e.replace(lt,"$1"));return n[L]?i(function(e,t,o,i){for(var s,a=n(e,null,i,[]),r=e.length;r--;)(s=a[r])&&(e[r]=!(t[r]=s))}):function(e,i,s){return t[0]=e,n(t,null,s,o),!o.pop()}}),has:i(function(e){return function(o){return t(e,o).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return mt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(yt,$t).toLowerCase(),function(t){var o;do if(o=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return o=o.toLowerCase(),o===e||0===o.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return ft.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,o){return[0>o?o+t:o]}),even:c(function(e,t){for(var o=0;t>o;o+=2)e.push(o);return e}),odd:c(function(e,t){for(var o=1;t>o;o+=2)e.push(o);return e}),lt:c(function(e,t,o){for(var i=0>o?o+t:o;--i>=0;)e.push(i);return e}),gt:c(function(e,t,o){for(var i=0>o?o+t:o;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[$]=r($);for($ in{submit:!0,reset:!0})x.pseudos[$]=l($);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,S=t.compile=function(e,t){var o,i=[],n=[],s=U[e+" "];if(!s){for(t||(t=h(e)),o=t.length;o--;)s=v(t[o]),s[L]?i.push(s):n.push(s);s=U(e,_(n,i))}return s},k.sortStable=L.split("").sort(V).join("")===L,k.detectDuplicates=!!P,A(),k.sortDetached=n(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,o){return o?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,o){return o||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||s(ot,function(e,t,o){var i;return o?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);st.find=dt,st.expr=dt.selectors,st.expr[":"]=st.expr.pseudos,st.unique=dt.uniqueSort,st.text=dt.getText,st.isXMLDoc=dt.isXML,st.contains=dt.contains;var ut=st.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;st.filter=function(e,t,o){var i=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?st.find.matchesSelector(i,e)?[i]:[]:st.find.matches(e,st.grep(t,function(e){return 1===e.nodeType}))},st.fn.extend({find:function(e){var t,o=[],i=this,n=i.length;if("string"!=typeof e)return this.pushStack(st(e).filter(function(){for(t=0;n>t;t++)if(st.contains(i[t],this))return!0}));for(t=0;n>t;t++)st.find(e,i[t],o);return o=this.pushStack(n>1?st.unique(o):o),o.selector=this.selector?this.selector+" "+e:e,o},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?st(e):e||[],!1).length}});var pt,ft=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bt=st.fn.init=function(e,t){var o,i;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!o||!o[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof st?t[0]:t,st.merge(this,st.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),ht.test(o[1])&&st.isPlainObject(t))for(o in t)st.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}if(i=ft.getElementById(o[2]),i&&i.parentNode){if(i.id!==o[2])return pt.find(e);this.length=1,this[0]=i}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(st):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))};bt.prototype=st.fn,pt=st(ft);var vt=/^(?:parents|prev(?:Until|All))/,_t={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(e,t,o){for(var i=[],n=e[t];n&&9!==n.nodeType&&(void 0===o||1!==n.nodeType||!st(n).is(o));)1===n.nodeType&&i.push(n),n=n[t];return i},sibling:function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o}}),st.fn.extend({has:function(e){var t,o=st(e,this),i=o.length;return this.filter(function(){for(t=0;i>t;t++)if(st.contains(this,o[t]))return!0})},closest:function(e,t){for(var o,i=0,n=this.length,s=[],a=ut.test(e)||"string"!=typeof e?st(e,t||this.context):0;n>i;i++)for(o=this[i];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(a?a.index(o)>-1:1===o.nodeType&&st.find.matchesSelector(o,e))){s.push(o);break}return this.pushStack(s.length>1?st.unique(s):s)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(st.unique(st.merge(this.get(),st(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,o){return st.dir(e,"parentNode",o)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,o){return st.dir(e,"nextSibling",o)},prevUntil:function(e,t,o){return st.dir(e,"previousSibling",o)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(o,i){var n=st.map(this,t,o);return"Until"!==e.slice(-5)&&(i=o),i&&"string"==typeof i&&(n=st.filter(i,n)),this.length>1&&(_t[e]||(n=st.unique(n)),vt.test(e)&&(n=n.reverse())),this.pushStack(n)}});var wt=/\S+/g,yt={};st.Callbacks=function(e){e="string"==typeof e?yt[e]||s(e):st.extend({},e);var t,o,i,n,a,r,l=[],c=!e.once&&[],d=function(s){for(o=e.memory&&s,i=!0,a=r||0,r=0,n=l.length,t=!0;l&&n>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){o=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):o?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function s(t){st.each(t,function(t,o){var i=st.type(o);"function"===i?e.unique&&u.has(o)||l.push(o):o&&o.length&&"string"!==i&&s(o)})}(arguments),t?n=l.length:o&&(r=i,d(o))}return this},remove:function(){return l&&st.each(arguments,function(e,o){for(var i;(i=st.inArray(o,l,i))>-1;)l.splice(i,1),t&&(n>=i&&n--,a>=i&&a--)}),this},has:function(e){return e?st.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],n=0,this},disable:function(){return l=c=o=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,o||u.disable(),this},locked:function(){return!c},fireWith:function(e,o){return!l||i&&!c||(o=o||[],o=[e,o.slice?o.slice():o],t?c.push(o):d(o)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],o="pending",i={state:function(){return o},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(o){st.each(t,function(t,s){var a=st.isFunction(e[t])&&e[t];n[s[1]](function(){var e=a&&a.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[s[0]+"With"](this===i?o.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,i):i}},n={};return i.pipe=i.then,st.each(t,function(e,s){var a=s[2],r=s[3];i[s[1]]=a.add,r&&a.add(function(){o=r},t[1^e][2].disable,t[2][2].lock),n[s[0]]=function(){return n[s[0]+"With"](this===n?i:this,arguments),this},n[s[0]+"With"]=a.fireWith}),i.promise(n),e&&e.call(n,n),n},when:function(e){var t,o,i,n=0,s=X.call(arguments),a=s.length,r=1!==a||e&&st.isFunction(e.promise)?a:0,l=1===r?e:st.Deferred(),c=function(e,o,i){return function(n){o[e]=this,i[e]=arguments.length>1?X.call(arguments):n,i===t?l.notifyWith(o,i):--r||l.resolveWith(o,i)}};if(a>1)for(t=new Array(a),o=new Array(a),i=new Array(a);a>n;n++)s[n]&&st.isFunction(s[n].promise)?s[n].promise().done(c(n,i,s)).fail(l.reject).progress(c(n,o,t)):--r;return r||l.resolveWith(i,s),l.promise()}});var $t;st.fn.ready=function(e){return st.ready.promise().done(e),this},st.extend({isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!ft.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||($t.resolveWith(ft,[st]),st.fn.trigger&&st(ft).trigger("ready").off("ready"))}}}),st.ready.promise=function(t){if(!$t)if($t=st.Deferred(),"complete"===ft.readyState)setTimeout(st.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1);else{ft.attachEvent("onreadystatechange",r),e.attachEvent("onload",r);var o=!1;try{o=null==e.frameElement&&ft.documentElement}catch(i){}o&&o.doScroll&&!function n(){if(!st.isReady){try{o.doScroll("left")}catch(e){return setTimeout(n,50)}a(),st.ready()}}()}return $t.promise(t)};var kt,xt="undefined";for(kt in st(it))break;it.ownLast="0"!==kt,it.inlineBlockNeedsLayout=!1,st(function(){var e,t,o=ft.getElementsByTagName("body")[0];o&&(e=ft.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=ft.createElement("div"),o.appendChild(e).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(o.style.zoom=1)),o.removeChild(e),e=t=null)}),function(){var e=ft.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),st.acceptData=function(e){var t=st.noData[(e.nodeName+" ").toLowerCase()],o=+e.nodeType||1;return 1!==o&&9!==o?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!c(e)},data:function(e,t,o){return d(e,t,o)},removeData:function(e,t){return u(e,t)},_data:function(e,t,o){return d(e,t,o,!0)},_removeData:function(e,t){return u(e,t,!0)}}),st.fn.extend({data:function(e,t){var o,i,n,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(n=st.data(s),1===s.nodeType&&!st._data(s,"parsedAttrs"))){for(o=a.length;o--;)i=a[o].name,0===i.indexOf("data-")&&(i=st.camelCase(i.slice(5)),l(s,i,n[i]));st._data(s,"parsedAttrs",!0)}return n}return"object"==typeof e?this.each(function(){st.data(this,e)}):arguments.length>1?this.each(function(){st.data(this,e,t)}):s?l(s,e,st.data(s,e)):void 0},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,t,o){var i;return e?(t=(t||"fx")+"queue",i=st._data(e,t),o&&(!i||st.isArray(o)?i=st._data(e,t,st.makeArray(o)):i.push(o)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var o=st.queue(e,t),i=o.length,n=o.shift(),s=st._queueHooks(e,t),a=function(){st.dequeue(e,t)};"inprogress"===n&&(n=o.shift(),i--),n&&("fx"===t&&o.unshift("inprogress"),delete s.stop,n.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return st._data(e,o)||st._data(e,o,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,o)})})}}),st.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?st.queue(this[0],e):void 0===t?this:this.each(function(){var o=st.queue(this,e,t);st._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,i=1,n=st.Deferred(),s=this,a=this.length,r=function(){--i||n.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)o=st._data(s[a],e+"queueHooks"),o&&o.empty&&(i++,o.empty.add(r));return r(),n.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Dt=function(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)},Pt=st.access=function(e,t,o,i,n,s,a){var r=0,l=e.length,c=null==o;if("object"===st.type(o)){n=!0;for(r in o)st.access(e,t,r,o[r],!0,s,a)}else if(void 0!==i&&(n=!0,st.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,o){return c.call(st(e),o)})),t))for(;l>r;r++)t(e[r],o,a?i:i.call(e[r],r,t(e[r],o)));return n?e:c?t.call(e):l?t(e[0],o):s},At=/^(?:checkbox|radio)$/i;!function(){var e=ft.createDocumentFragment(),t=ft.createElement("div"),o=ft.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,o.type="checkbox",o.checked=!0,e.appendChild(o),it.appendChecked=o.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=o=null}(),function(){var t,o,i=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})o="on"+t,(it[t+"Bubbles"]=o in e)||(i.setAttribute(o,"t"),it[t+"Bubbles"]=i.attributes[o].expando===!1);i=null}();var Et=/^(?:input|select|textarea)$/i,It=/^key/,Mt=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,t,o,i,n){var s,a,r,l,c,d,u,h,m,p,f,g=st._data(e);if(g){for(o.handler&&(l=o,o=l.handler,n=l.selector),o.guid||(o.guid=st.guid++),(a=g.events)||(a=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof st===xt||e&&st.event.triggered===e.type?void 0:st.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(wt)||[""],r=t.length;r--;)s=Ot.exec(t[r])||[],m=f=s[1],p=(s[2]||"").split(".").sort(),m&&(c=st.event.special[m]||{},m=(n?c.delegateType:c.bindType)||m,c=st.event.special[m]||{},u=st.extend({type:m,origType:f,data:i,handler:o,guid:o.guid,selector:n,needsContext:n&&st.expr.match.needsContext.test(n),namespace:p.join(".")},l),(h=a[m])||(h=a[m]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,p,d)!==!1||(e.addEventListener?e.addEventListener(m,d,!1):e.attachEvent&&e.attachEvent("on"+m,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=o.guid)),n?h.splice(h.delegateCount++,0,u):h.push(u),st.event.global[m]=!0);e=null}},remove:function(e,t,o,i,n){var s,a,r,l,c,d,u,h,m,p,f,g=st.hasData(e)&&st._data(e);if(g&&(d=g.events)){for(t=(t||"").match(wt)||[""],c=t.length;c--;)if(r=Ot.exec(t[c])||[],m=f=r[1],p=(r[2]||"").split(".").sort(),m){for(u=st.event.special[m]||{},m=(i?u.delegateType:u.bindType)||m,h=d[m]||[],r=r[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)a=h[s],!n&&f!==a.origType||o&&o.guid!==a.guid||r&&!r.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(s,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&u.teardown.call(e,p,g.handle)!==!1||st.removeEvent(e,m,g.handle),delete d[m])}else for(m in d)st.event.remove(e,m+t[c],o,i,!0);st.isEmptyObject(d)&&(delete g.handle,st._removeData(e,"events"))}},trigger:function(t,o,i,n){var s,a,r,l,c,d,u,h=[i||ft],m=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(r=d=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!jt.test(m+st.event.triggered)&&(m.indexOf(".")>=0&&(p=m.split("."),m=p.shift(),p.sort()),a=m.indexOf(":")<0&&"on"+m,t=t[st.expando]?t:new st.Event(m,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),o=null==o?[t]:st.makeArray(o,[t]),c=st.event.special[m]||{},n||!c.trigger||c.trigger.apply(i,o)!==!1)){if(!n&&!c.noBubble&&!st.isWindow(i)){for(l=c.delegateType||m,jt.test(l+m)||(r=r.parentNode);r;r=r.parentNode)h.push(r),d=r;
d===(i.ownerDocument||ft)&&h.push(d.defaultView||d.parentWindow||e)}for(u=0;(r=h[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||m,s=(st._data(r,"events")||{})[t.type]&&st._data(r,"handle"),s&&s.apply(r,o),s=a&&r[a],s&&s.apply&&st.acceptData(r)&&(t.result=s.apply(r,o),t.result===!1&&t.preventDefault());if(t.type=m,!n&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),o)===!1)&&st.acceptData(i)&&a&&i[m]&&!st.isWindow(i)){d=i[a],d&&(i[a]=null),st.event.triggered=m;try{i[m]()}catch(f){}st.event.triggered=void 0,d&&(i[a]=d)}return t.result}},dispatch:function(e){e=st.event.fix(e);var t,o,i,n,s,a=[],r=X.call(arguments),l=(st._data(this,"events")||{})[e.type]||[],c=st.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=st.event.handlers.call(this,e,l),t=0;(n=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,s=0;(i=n.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,o=((st.event.special[i.origType]||{}).handle||i.handler).apply(n.elem,r),void 0!==o&&(e.result=o)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var o,i,n,s,a=[],r=t.delegateCount,l=e.target;if(r&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],s=0;r>s;s++)i=t[s],o=i.selector+" ",void 0===n[o]&&(n[o]=i.needsContext?st(o,this).index(l)>=0:st.find(o,this,null,[l]).length),n[o]&&n.push(i);n.length&&a.push({elem:l,handlers:n})}return r<t.length&&a.push({elem:this,handlers:t.slice(r)}),a},fix:function(e){if(e[st.expando])return e;var t,o,i,n=e.type,s=e,a=this.fixHooks[n];for(a||(this.fixHooks[n]=a=Mt.test(n)?this.mouseHooks:It.test(n)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new st.Event(s),t=i.length;t--;)o=i[t],e[o]=s[o];return e.target||(e.target=s.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var o,i,n,s=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ft,n=i.documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return st.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,o,i){var n=st.extend(new st.Event,o,{type:e,isSimulated:!0,originalEvent:{}});i?st.event.trigger(n,null,t):st.event.dispatch.call(t,n),n.isDefaultPrevented()&&o.preventDefault()}},st.removeEvent=ft.removeEventListener?function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o,!1)}:function(e,t,o){var i="on"+t;e.detachEvent&&(typeof e[i]===xt&&(e[i]=null),e.detachEvent(i,o))},st.Event=function(e,t){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?h:m):this.type=e,t&&st.extend(this,t),this.timeStamp=e&&e.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(e,t)},st.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,i=this,n=e.relatedTarget,s=e.handleObj;return(!n||n!==i&&!st.contains(i,n))&&(e.type=s.origType,o=s.handler.apply(this,arguments),e.type=t),o}}}),it.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:void st.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,o=st.nodeName(t,"input")||st.nodeName(t,"button")?t.form:void 0;o&&!st._data(o,"submitBubbles")&&(st.event.add(o,"submit._submit",function(e){e._submit_bubble=!0}),st._data(o,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:void st.event.remove(this,"._submit")}}),it.changeBubbles||(st.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Et.test(this.nodeName)}}),it.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){var i=this.ownerDocument||this,n=st._data(i,t);n||i.addEventListener(e,o,!0),st._data(i,t,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this,n=st._data(i,t)-1;n?st._data(i,t,n):(i.removeEventListener(e,o,!0),st._removeData(i,t))}}}),st.fn.extend({on:function(e,t,o,i,n){var s,a;if("object"==typeof e){"string"!=typeof t&&(o=o||t,t=void 0);for(s in e)this.on(s,t,o,e[s],n);return this}if(null==o&&null==i?(i=t,o=t=void 0):null==i&&("string"==typeof t?(i=o,o=void 0):(i=o,o=t,t=void 0)),i===!1)i=m;else if(!i)return this;return 1===n&&(a=i,i=function(e){return st().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=st.guid++)),this.each(function(){st.event.add(this,e,i,o,t)})},one:function(e,t,o,i){return this.on(e,t,o,i,1)},off:function(e,t,o){var i,n;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,st(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(t===!1||"function"==typeof t)&&(o=t,t=void 0),o===!1&&(o=m),this.each(function(){st.event.remove(this,e,o,t)})},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];return o?st.event.trigger(e,t,o,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",zt=/ jQuery\d+="(?:null|\d+)"/g,Lt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Ht=/^\s+/,Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,Wt=/<tbody/i,qt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zt=f(ft),Kt=Zt.appendChild(ft.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,st.extend({clone:function(e,t,o){var i,n,s,a,r,l=st.contains(e.ownerDocument,e);if(it.html5Clone||st.isXMLDoc(e)||!Lt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(s=Kt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(i=g(s),r=g(e),a=0;null!=(n=r[a]);++a)i[a]&&k(n,i[a]);if(t)if(o)for(r=r||g(e),i=i||g(s),a=0;null!=(n=r[a]);a++)$(n,i[a]);else $(e,s);return i=g(s,"script"),i.length>0&&y(i,!l&&g(e,"script")),i=r=n=null,s},buildFragment:function(e,t,o,i){for(var n,s,a,r,l,c,d,u=e.length,h=f(t),m=[],p=0;u>p;p++)if(s=e[p],s||0===s)if("object"===st.type(s))st.merge(m,s.nodeType?[s]:s);else if(qt.test(s)){for(r=r||h.appendChild(t.createElement("div")),l=(Bt.exec(s)||["",""])[1].toLowerCase(),d=Qt[l]||Qt._default,r.innerHTML=d[1]+s.replace(Nt,"<$1></$2>")+d[2],n=d[0];n--;)r=r.lastChild;if(!it.leadingWhitespace&&Ht.test(s)&&m.push(t.createTextNode(Ht.exec(s)[0])),!it.tbody)for(s="table"!==l||Wt.test(s)?"<table>"!==d[1]||Wt.test(s)?0:r:r.firstChild,n=s&&s.childNodes.length;n--;)st.nodeName(c=s.childNodes[n],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(st.merge(m,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=h.lastChild}else m.push(t.createTextNode(s));for(r&&h.removeChild(r),it.appendChecked||st.grep(g(m,"input"),b),p=0;s=m[p++];)if((!i||-1===st.inArray(s,i))&&(a=st.contains(s.ownerDocument,s),r=g(h.appendChild(s),"script"),a&&y(r),o))for(n=0;s=r[n++];)Yt.test(s.type||"")&&o.push(s);return r=null,h},cleanData:function(e,t){for(var o,i,n,s,a=0,r=st.expando,l=st.cache,c=it.deleteExpando,d=st.event.special;null!=(o=e[a]);a++)if((t||st.acceptData(o))&&(n=o[r],s=n&&l[n])){if(s.events)for(i in s.events)d[i]?st.event.remove(o,i):st.removeEvent(o,i,s.handle);l[n]&&(delete l[n],c?delete o[r]:typeof o.removeAttribute!==xt?o.removeAttribute(r):o[r]=null,G.push(n))}}}),st.fn.extend({text:function(e){return Pt(this,function(e){return void 0===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var o,i=e?st.filter(e,this):this,n=0;null!=(o=i[n]);n++)t||1!==o.nodeType||st.cleanData(g(o)),o.parentNode&&(t&&st.contains(o.ownerDocument,o)&&y(g(o,"script")),o.parentNode.removeChild(o));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return Pt(this,function(e){var t=this[0]||{},o=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(zt,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!it.htmlSerialize&&Lt.test(e)||!it.leadingWhitespace&&Ht.test(e)||Qt[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Nt,"<$1></$2>");try{for(;i>o;o++)t=this[o]||{},1===t.nodeType&&(st.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(n){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,st.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var o,i,n,s,a,r,l=0,c=this.length,d=this,u=c-1,h=e[0],m=st.isFunction(h);if(m||c>1&&"string"==typeof h&&!it.checkClone&&Vt.test(h))return this.each(function(o){var i=d.eq(o);m&&(e[0]=h.call(this,o,i.html())),i.domManip(e,t)});if(c&&(r=st.buildFragment(e,this[0].ownerDocument,!1,this),o=r.firstChild,1===r.childNodes.length&&(r=o),o)){for(s=st.map(g(r,"script"),_),n=s.length;c>l;l++)i=r,l!==u&&(i=st.clone(i,!0,!0),n&&st.merge(s,g(i,"script"))),t.call(this[l],i,l);if(n)for(a=s[s.length-1].ownerDocument,st.map(s,w),l=0;n>l;l++)i=s[l],Yt.test(i.type||"")&&!st._data(i,"globalEval")&&st.contains(a,i)&&(i.src?st._evalUrl&&st._evalUrl(i.src):st.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xt,"")));r=o=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var o,i=0,n=[],s=st(e),a=s.length-1;a>=i;i++)o=i===a?this:this.clone(!0),st(s[i])[t](o),Z.apply(n,o.get());return this.pushStack(n)}});var Jt,eo={};!function(){var e,t,o=ft.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=o.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===o.style.backgroundClip,e=o=null,it.shrinkWrapBlocks=function(){var e,o,n,s;if(null==t){if(e=ft.getElementsByTagName("body")[0],!e)return;s="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",o=ft.createElement("div"),n=ft.createElement("div"),e.appendChild(o).appendChild(n),t=!1,typeof n.style.zoom!==xt&&(n.style.cssText=i+";width:1px;padding:1px;zoom:1",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t=3!==n.offsetWidth),e.removeChild(o),e=o=n=null}return t}}();var to,oo,io=/^margin/,no=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),so=/^(top|right|bottom|left)$/;e.getComputedStyle?(to=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},oo=function(e,t,o){var i,n,s,a,r=e.style;return o=o||to(e),a=o?o.getPropertyValue(t)||o[t]:void 0,o&&(""!==a||st.contains(e.ownerDocument,e)||(a=st.style(e,t)),no.test(a)&&io.test(t)&&(i=r.width,n=r.minWidth,s=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=o.width,r.width=i,r.minWidth=n,r.maxWidth=s)),void 0===a?a:a+""}):ft.documentElement.currentStyle&&(to=function(e){return e.currentStyle},oo=function(e,t,o){var i,n,s,a,r=e.style;return o=o||to(e),a=o?o[t]:void 0,null==a&&r&&r[t]&&(a=r[t]),no.test(a)&&!so.test(t)&&(i=r.left,n=e.runtimeStyle,s=n&&n.left,s&&(n.left=e.currentStyle.left),r.left="fontSize"===t?"1em":a,a=r.pixelLeft+"px",r.left=i,s&&(n.left=s)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,o,i=ft.getElementsByTagName("body")[0];i&&(t=ft.createElement("div"),o=ft.createElement("div"),t.style.cssText=c,i.appendChild(t).appendChild(o),o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",st.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){n=4===o.offsetWidth}),s=!0,a=!1,r=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(o,null)||{}).top,s="4px"===(e.getComputedStyle(o,null)||{width:"4px"}).width),i.removeChild(t),o=i=null)}var o,i,n,s,a,r,l=ft.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=l.getElementsByTagName("a")[0],o.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(o.style.opacity),it.cssFloat=!!o.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===l.style.backgroundClip,o=l=null,st.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,o,n=ft.createElement("div"),s=ft.getElementsByTagName("body")[0];if(s)return n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=ft.createElement("div"),e.style.cssText=c,s.appendChild(e).appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=n.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",o=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=o&&0===t[0].offsetHeight,s.removeChild(e),n=s=null,i},boxSizing:function(){return null==n&&t(),n},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,o,i,n;if(null==r&&e.getComputedStyle){if(t=ft.getElementsByTagName("body")[0],!t)return;o=ft.createElement("div"),i=ft.createElement("div"),o.style.cssText=c,t.appendChild(o).appendChild(i),n=i.appendChild(ft.createElement("div")),n.style.cssText=i.style.cssText=d,n.style.marginRight=n.style.width="0",i.style.width="1px",r=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight),t.removeChild(o)}return r}})}(),st.swap=function(e,t,o,i){var n,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];n=o.apply(e,i||[]);for(s in t)e.style[s]=a[s];return n};var ao=/alpha\([^)]*\)/i,ro=/opacity\s*=\s*([^)]*)/,lo=/^(none|table(?!-c[ea]).+)/,co=new RegExp("^("+St+")(.*)$","i"),uo=new RegExp("^([+-])=("+St+")","i"),ho={position:"absolute",visibility:"hidden",display:"block"},mo={letterSpacing:0,fontWeight:400},po=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=oo(e,"opacity");return""===o?"1":o}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,o,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,s,a,r=st.camelCase(t),l=e.style;if(t=st.cssProps[r]||(st.cssProps[r]=S(l,r)),a=st.cssHooks[t]||st.cssHooks[r],void 0===o)return a&&"get"in a&&void 0!==(n=a.get(e,!1,i))?n:l[t];if(s=typeof o,"string"===s&&(n=uo.exec(o))&&(o=(n[1]+1)*n[2]+parseFloat(st.css(e,t)),s="number"),null!=o&&o===o&&("number"!==s||st.cssNumber[r]||(o+="px"),it.clearCloneStyle||""!==o||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(o=a.set(e,o,i)))))try{l[t]="",l[t]=o}catch(c){}}},css:function(e,t,o,i){var n,s,a,r=st.camelCase(t);return t=st.cssProps[r]||(st.cssProps[r]=S(e.style,r)),a=st.cssHooks[t]||st.cssHooks[r],a&&"get"in a&&(s=a.get(e,!0,o)),void 0===s&&(s=oo(e,t,i)),"normal"===s&&t in mo&&(s=mo[t]),""===o||o?(n=parseFloat(s),o===!0||st.isNumeric(n)?n||0:s):s}}),st.each(["height","width"],function(e,t){st.cssHooks[t]={get:function(e,o,i){return o?0===e.offsetWidth&&lo.test(st.css(e,"display"))?st.swap(e,ho,function(){return A(e,t,i)}):A(e,t,i):void 0},set:function(e,o,i){var n=i&&to(e);return D(e,o,i?P(e,t,i,it.boxSizing()&&"border-box"===st.css(e,"boxSizing",!1,n),n):0)}}}),it.opacity||(st.cssHooks.opacity={get:function(e,t){return ro.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var o=e.style,i=e.currentStyle,n=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||o.filter||"";o.zoom=1,(t>=1||""===t)&&""===st.trim(s.replace(ao,""))&&o.removeAttribute&&(o.removeAttribute("filter"),""===t||i&&!i.filter)||(o.filter=ao.test(s)?s.replace(ao,n):s+" "+n)}}),st.cssHooks.marginRight=R(it.reliableMarginRight,function(e,t){return t?st.swap(e,{display:"inline-block"},oo,[e,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(o){for(var i=0,n={},s="string"==typeof o?o.split(" "):[o];4>i;i++)n[e+Tt[i]+t]=s[i]||s[i-2]||s[0];return n}},io.test(e)||(st.cssHooks[e+t].set=D)}),st.fn.extend({css:function(e,t){return Pt(this,function(e,t,o){var i,n,s={},a=0;if(st.isArray(t)){for(i=to(e),n=t.length;n>a;a++)s[t[a]]=st.css(e,t[a],!1,i);return s}return void 0!==o?st.style(e,t,o):st.css(e,t)},e,t,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Dt(this)?st(this).show():st(this).hide()})}}),st.Tween=E,E.prototype={constructor:E,init:function(e,t,o,i,n,s){this.elem=e,this.prop=o,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(st.cssNumber[o]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,o=E.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.fx=E.prototype.init,st.fx.step={};var fo,go,bo=/^(?:toggle|show|hide)$/,vo=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),_o=/queueHooks$/,wo=[O],yo={"*":[function(e,t){var o=this.createTween(e,t),i=o.cur(),n=vo.exec(t),s=n&&n[3]||(st.cssNumber[e]?"":"px"),a=(st.cssNumber[e]||"px"!==s&&+i)&&vo.exec(st.css(o.elem,e)),r=1,l=20;if(a&&a[3]!==s){s=s||a[3],n=n||[],a=+i||1;do r=r||".5",a/=r,st.style(o.elem,e,a+s);while(r!==(r=o.cur()/i)&&1!==r&&--l)}return n&&(a=o.start=+a||+i||0,o.unit=s,o.end=n[1]?a+(n[1]+1)*n[2]:+n[2]),o}]};st.Animation=st.extend(z,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var o,i=0,n=e.length;n>i;i++)o=e[i],yo[o]=yo[o]||[],yo[o].unshift(t)},prefilter:function(e,t){t?wo.unshift(e):wo.push(e)}}),st.speed=function(e,t,o){var i=e&&"object"==typeof e?st.extend({},e):{complete:o||!o&&t||st.isFunction(e)&&e,duration:e,easing:o&&t||t&&!st.isFunction(t)&&t};return i.duration=st.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in st.fx.speeds?st.fx.speeds[i.duration]:st.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){st.isFunction(i.old)&&i.old.call(this),i.queue&&st.dequeue(this,i.queue)},i},st.fn.extend({fadeTo:function(e,t,o,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:t},e,o,i)},animate:function(e,t,o,i){var n=st.isEmptyObject(e),s=st.speed(t,o,i),a=function(){var t=z(this,st.extend({},e),s);(n||st._data(this,"finish"))&&t.stop(!0)};return a.finish=a,n||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,o){var i=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=st.timers,a=st._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&_o.test(n)&&i(a[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(o),t=!1,s.splice(n,1));(t||!o)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,o=st._data(this),i=o[e+"queue"],n=o[e+"queueHooks"],s=st.timers,a=i?i.length:0;for(o.finish=!0,st.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete o.finish})}}),st.each(["toggle","show","hide"],function(e,t){var o=st.fn[t];st.fn[t]=function(e,i,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(M(t,!0),e,i,n)}}),st.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,o,i){return this.animate(t,e,o,i)}}),st.timers=[],st.fx.tick=function(){var e,t=st.timers,o=0;for(fo=st.now();o<t.length;o++)e=t[o],e()||t[o]!==e||t.splice(o--,1);t.length||st.fx.stop(),fo=void 0},st.fx.timer=function(e){st.timers.push(e),e()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){go||(go=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(go),go=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,o){var i=setTimeout(t,e);o.stop=function(){clearTimeout(i)}})},function(){var e,t,o,i,n=ft.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],o=ft.createElement("select"),i=o.appendChild(ft.createElement("option")),t=n.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==n.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!ft.createElement("form").enctype,o.disabled=!0,it.optDisabled=!i.disabled,t=ft.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=o=i=n=null}();var $o=/\r/g;st.fn.extend({val:function(e){var t,o,i,n=this[0];{if(arguments.length)return i=st.isFunction(e),this.each(function(o){var n;1===this.nodeType&&(n=i?e.call(this,o,st(this).val()):e,null==n?n="":"number"==typeof n?n+="":st.isArray(n)&&(n=st.map(n,function(e){return null==e?"":e+""})),t=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return t=st.valHooks[n.type]||st.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(o=t.get(n,"value"))?o:(o=n.value,"string"==typeof o?o.replace($o,""):null==o?"":o)}}}),st.extend({valHooks:{option:{get:function(e){var t=st.find.attr(e,"value");return null!=t?t:st.text(e)}},select:{get:function(e){for(var t,o,i=e.options,n=e.selectedIndex,s="select-one"===e.type||0>n,a=s?null:[],r=s?n+1:i.length,l=0>n?r:s?n:0;r>l;l++)if(o=i[l],!(!o.selected&&l!==n||(it.optDisabled?o.disabled:null!==o.getAttribute("disabled"))||o.parentNode.disabled&&st.nodeName(o.parentNode,"optgroup"))){if(t=st(o).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var o,i,n=e.options,s=st.makeArray(t),a=n.length;a--;)if(i=n[a],st.inArray(st.valHooks.option.get(i),s)>=0)try{i.selected=o=!0}catch(r){i.scrollHeight}else i.selected=!1;return o||(e.selectedIndex=-1),n}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(e,t){return st.isArray(t)?e.checked=st.inArray(st(e).val(),t)>=0:void 0}},it.checkOn||(st.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ko,xo,Co=st.expr.attrHandle,Ro=/^(?:checked|selected)$/i,So=it.getSetAttribute,To=it.input;st.fn.extend({attr:function(e,t){return Pt(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})}}),st.extend({attr:function(e,t,o){var i,n,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===xt?st.prop(e,t,o):(1===s&&st.isXMLDoc(e)||(t=t.toLowerCase(),i=st.attrHooks[t]||(st.expr.match.bool.test(t)?xo:ko)),void 0===o?i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=st.find.attr(e,t),null==n?void 0:n):null!==o?i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:(e.setAttribute(t,o+""),o):void st.removeAttr(e,t))},removeAttr:function(e,t){var o,i,n=0,s=t&&t.match(wt);if(s&&1===e.nodeType)for(;o=s[n++];)i=st.propFix[o]||o,st.expr.match.bool.test(o)?To&&So||!Ro.test(o)?e[i]=!1:e[st.camelCase("default-"+o)]=e[i]=!1:st.attr(e,o,""),e.removeAttribute(So?o:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&st.nodeName(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}}}),xo={set:function(e,t,o){return t===!1?st.removeAttr(e,o):To&&So||!Ro.test(o)?e.setAttribute(!So&&st.propFix[o]||o,o):e[st.camelCase("default-"+o)]=e[o]=!0,o}},st.each(st.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Co[t]||st.find.attr;Co[t]=To&&So||!Ro.test(t)?function(e,t,i){var n,s;return i||(s=Co[t],Co[t]=n,n=null!=o(e,t,i)?t.toLowerCase():null,Co[t]=s),n}:function(e,t,o){return o?void 0:e[st.camelCase("default-"+t)]?t.toLowerCase():null}}),To&&So||(st.attrHooks.value={set:function(e,t,o){return st.nodeName(e,"input")?void(e.defaultValue=t):ko&&ko.set(e,t,o)}}),So||(ko={set:function(e,t,o){var i=e.getAttributeNode(o);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(o)),i.value=t+="","value"===o||t===e.getAttribute(o)?t:void 0}},Co.id=Co.name=Co.coords=function(e,t,o){var i;return o?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},st.valHooks.button={get:function(e,t){var o=e.getAttributeNode(t);return o&&o.specified?o.value:void 0},set:ko.set},st.attrHooks.contenteditable={set:function(e,t,o){ko.set(e,""===t?!1:t,o)}},st.each(["width","height"],function(e,t){st.attrHooks[t]={set:function(e,o){return""===o?(e.setAttribute(t,"auto"),o):void 0}}})),it.style||(st.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Do=/^(?:input|select|textarea|button|object)$/i,Po=/^(?:a|area)$/i;st.fn.extend({prop:function(e,t){return Pt(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),st.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,o){var i,n,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!st.isXMLDoc(e),s&&(t=st.propFix[t]||t,n=st.propHooks[t]),void 0!==o?n&&"set"in n&&void 0!==(i=n.set(e,o,t))?i:e[t]=o:n&&"get"in n&&null!==(i=n.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=st.find.attr(e,"tabindex");return t?parseInt(t,10):Do.test(e.nodeName)||Po.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(st.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),it.enctype||(st.propFix.enctype="encoding");var Ao=/[\t\r\n\f]/g;st.fn.extend({addClass:function(e){var t,o,i,n,s,a,r=0,l=this.length,c="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(wt)||[];l>r;r++)if(o=this[r],i=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(Ao," "):" ")){for(s=0;n=t[s++];)i.indexOf(" "+n+" ")<0&&(i+=n+" ");a=st.trim(i),o.className!==a&&(o.className=a)}return this
},removeClass:function(e){var t,o,i,n,s,a,r=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(wt)||[];l>r;r++)if(o=this[r],i=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(Ao," "):"")){for(s=0;n=t[s++];)for(;i.indexOf(" "+n+" ")>=0;)i=i.replace(" "+n+" "," ");a=e?st.trim(i):"",o.className!==a&&(o.className=a)}return this},toggleClass:function(e,t){var o=typeof e;return"boolean"==typeof t&&"string"===o?t?this.addClass(e):this.removeClass(e):this.each(st.isFunction(e)?function(o){st(this).toggleClass(e.call(this,o,this.className,t),t)}:function(){if("string"===o)for(var t,i=0,n=st(this),s=e.match(wt)||[];t=s[i++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(o===xt||"boolean"===o)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",o=0,i=this.length;i>o;o++)if(1===this[o].nodeType&&(" "+this[o].className+" ").replace(Ao," ").indexOf(t)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}}),st.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,i){return this.on(t,e,o,i)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)}});var Eo=st.now(),Io=/\?/,Mo=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;st.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var o,i=null,n=st.trim(t+"");return n&&!st.trim(n.replace(Mo,function(e,t,n,s){return o&&t&&(i=0),0===i?e:(o=n||t,i+=!s-!n,"")}))?Function("return "+n)():st.error("Invalid JSON: "+t)},st.parseXML=function(t){var o,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,o=i.parseFromString(t,"text/xml")):(o=new ActiveXObject("Microsoft.XMLDOM"),o.async="false",o.loadXML(t))}catch(n){o=void 0}return o&&o.documentElement&&!o.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+t),o};var jo,Oo,Fo=/#.*$/,zo=/([?&])_=[^&]*/,Lo=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ho=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,No=/^(?:GET|HEAD)$/,Bo=/^\/\//,Wo=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qo={},Uo={},Vo="*/".concat("*");try{Oo=location.href}catch(Yo){Oo=ft.createElement("a"),Oo.href="",Oo=Oo.href}jo=Wo.exec(Oo.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oo,type:"GET",isLocal:Ho.test(jo[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,st.ajaxSettings),t):N(st.ajaxSettings,e)},ajaxPrefilter:L(qo),ajaxTransport:L(Uo),ajax:function(e,t){function o(e,t,o,i){var n,d,b,v,w,$=t;2!==_&&(_=2,r&&clearTimeout(r),c=void 0,a=i||"",y.readyState=e>0?4:0,n=e>=200&&300>e||304===e,o&&(v=B(u,y,o)),v=W(u,v,y,n),n?(u.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(st.lastModified[s]=w),w=y.getResponseHeader("etag"),w&&(st.etag[s]=w)),204===e||"HEAD"===u.type?$="nocontent":304===e?$="notmodified":($=v.state,d=v.data,b=v.error,n=!b)):(b=$,(e||!$)&&($="error",0>e&&(e=0))),y.status=e,y.statusText=(t||$)+"",n?p.resolveWith(h,[d,$,y]):p.rejectWith(h,[y,$,b]),y.statusCode(g),g=void 0,l&&m.trigger(n?"ajaxSuccess":"ajaxError",[y,u,n?d:b]),f.fireWith(h,[y,$]),l&&(m.trigger("ajaxComplete",[y,u]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,n,s,a,r,l,c,d,u=st.ajaxSetup({},t),h=u.context||u,m=u.context&&(h.nodeType||h.jquery)?st(h):st.event,p=st.Deferred(),f=st.Callbacks("once memory"),g=u.statusCode||{},b={},v={},_=0,w="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!d)for(d={};t=Lo.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(e,t){var o=e.toLowerCase();return _||(e=v[o]=v[o]||e,b[e]=t),this},overrideMimeType:function(e){return _||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)g[t]=[g[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),o(0,t),this}};if(p.promise(y).complete=f.add,y.success=y.done,y.error=y.fail,u.url=((e||u.url||Oo)+"").replace(Fo,"").replace(Bo,jo[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=st.trim(u.dataType||"*").toLowerCase().match(wt)||[""],null==u.crossDomain&&(i=Wo.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===jo[1]&&i[2]===jo[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(jo[3]||("http:"===jo[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=st.param(u.data,u.traditional)),H(qo,u,t,y),2===_)return y;l=u.global,l&&0===st.active++&&st.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!No.test(u.type),s=u.url,u.hasContent||(u.data&&(s=u.url+=(Io.test(s)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=zo.test(s)?s.replace(zo,"$1_="+Eo++):s+(Io.test(s)?"&":"?")+"_="+Eo++)),u.ifModified&&(st.lastModified[s]&&y.setRequestHeader("If-Modified-Since",st.lastModified[s]),st.etag[s]&&y.setRequestHeader("If-None-Match",st.etag[s])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&y.setRequestHeader("Content-Type",u.contentType),y.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Vo+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)y.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(u.beforeSend.call(h,y,u)===!1||2===_))return y.abort();w="abort";for(n in{success:1,error:1,complete:1})y[n](u[n]);if(c=H(Uo,u,t,y)){y.readyState=1,l&&m.trigger("ajaxSend",[y,u]),u.async&&u.timeout>0&&(r=setTimeout(function(){y.abort("timeout")},u.timeout));try{_=1,c.send(b,o)}catch($){if(!(2>_))throw $;o(-1,$)}}else o(-1,"No Transport");return y},getJSON:function(e,t,o){return st.get(e,t,o,"json")},getScript:function(e,t){return st.get(e,void 0,t,"script")}}),st.each(["get","post"],function(e,t){st[t]=function(e,o,i,n){return st.isFunction(o)&&(n=n||i,i=o,o=void 0),st.ajax({url:e,type:t,dataType:n,data:o,success:i})}}),st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st._evalUrl=function(e){return st.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},st.fn.extend({wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(st.isFunction(e)?function(t){st(this).wrapInner(e.call(this,t))}:function(){var t=st(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(o){st(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)};var Go=/%20/g,Xo=/\[\]$/,Qo=/\r?\n/g,Zo=/^(?:submit|button|image|reset|file)$/i,Ko=/^(?:input|select|textarea|keygen)/i;st.param=function(e,t){var o,i=[],n=function(e,t){t=st.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){n(this.name,this.value)});else for(o in e)q(o,e[o],t,n);return i.join("&").replace(Go,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&Ko.test(this.nodeName)&&!Zo.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var o=st(this).val();return null==o?null:st.isArray(o)?st.map(o,function(e){return{name:t.name,value:e.replace(Qo,"\r\n")}}):{name:t.name,value:o.replace(Qo,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Jo=0,ei={},ti=st.ajaxSettings.xhr();e.ActiveXObject&&st(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&st.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(o,i){var n,s=e.xhr(),a=++Jo;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)s[n]=e.xhrFields[n];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(n in o)void 0!==o[n]&&s.setRequestHeader(n,o[n]+"");s.send(e.hasContent&&e.data||null),t=function(o,n){var r,l,c;if(t&&(n||4===s.readyState))if(delete ei[a],t=void 0,s.onreadystatechange=st.noop,n)4!==s.readyState&&s.abort();else{c={},r=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(d){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&i(r,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=ei[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var t,o=ft.head||st("head")[0]||ft.documentElement;return{send:function(i,n){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,o){(o||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,o||n(200,"success"))},o.insertBefore(t,o.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var oi=[],ii=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oi.pop()||st.expando+"_"+Eo++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(t,o,i){var n,s,a,r=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=st.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(ii,"$1"+n):t.jsonp!==!1&&(t.url+=(Io.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return a||st.error(n+" was not called"),a[0]},t.dataTypes[0]="json",s=e[n],e[n]=function(){a=arguments},i.always(function(){e[n]=s,t[n]&&(t.jsonpCallback=o.jsonpCallback,oi.push(n)),a&&st.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),st.parseHTML=function(e,t,o){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(o=t,t=!1),t=t||ft;var i=ht.exec(e),n=!o&&[];return i?[t.createElement(i[1])]:(i=st.buildFragment([e],t,n),n&&n.length&&st(n).remove(),st.merge([],i.childNodes))};var ni=st.fn.load;st.fn.load=function(e,t,o){if("string"!=typeof e&&ni)return ni.apply(this,arguments);var i,n,s,a=this,r=e.indexOf(" ");return r>=0&&(i=e.slice(r,e.length),e=e.slice(0,r)),st.isFunction(t)?(o=t,t=void 0):t&&"object"==typeof t&&(s="POST"),a.length>0&&st.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){n=arguments,a.html(i?st("<div>").append(st.parseHTML(e)).find(i):e)}).complete(o&&function(e,t){a.each(o,n||[e.responseText,t,e])}),this},st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length};var si=e.document.documentElement;st.offset={setOffset:function(e,t,o){var i,n,s,a,r,l,c,d=st.css(e,"position"),u=st(e),h={};"static"===d&&(e.style.position="relative"),r=u.offset(),s=st.css(e,"top"),l=st.css(e,"left"),c=("absolute"===d||"fixed"===d)&&st.inArray("auto",[s,l])>-1,c?(i=u.position(),a=i.top,n=i.left):(a=parseFloat(s)||0,n=parseFloat(l)||0),st.isFunction(t)&&(t=t.call(e,o,r)),null!=t.top&&(h.top=t.top-r.top+a),null!=t.left&&(h.left=t.left-r.left+n),"using"in t?t.using.call(e,h):u.css(h)}},st.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){st.offset.setOffset(this,e,t)});var t,o,i={top:0,left:0},n=this[0],s=n&&n.ownerDocument;if(s)return t=s.documentElement,st.contains(t,n)?(typeof n.getBoundingClientRect!==xt&&(i=n.getBoundingClientRect()),o=Y(s),{top:i.top+(o.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(o.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,o={top:0,left:0},i=this[0];return"fixed"===st.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(o=e.offset()),o.top+=st.css(e[0],"borderTopWidth",!0),o.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-o.top-st.css(i,"marginTop",!0),left:t.left-o.left-st.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||si;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||si})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var o=/Y/.test(t);st.fn[e]=function(i){return Pt(this,function(e,i,n){var s=Y(e);return void 0===n?s?t in s?s[t]:s.document.documentElement[i]:e[i]:void(s?s.scrollTo(o?st(s).scrollLeft():n,o?n:st(s).scrollTop()):e[i]=n)},e,i,arguments.length,null)}}),st.each(["top","left"],function(e,t){st.cssHooks[t]=R(it.pixelPosition,function(e,o){return o?(o=oo(e,t),no.test(o)?st(e).position()[t]+"px":o):void 0})}),st.each({Height:"height",Width:"width"},function(e,t){st.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,i){st.fn[i]=function(i,n){var s=arguments.length&&(o||"boolean"!=typeof i),a=o||(i===!0||n===!0?"margin":"border");return Pt(this,function(t,o,i){var n;return st.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===i?st.css(t,o,a):st.style(t,o,i,a)},t,s?i:void 0,s,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st});var ai=e.jQuery,ri=e.$;return st.noConflict=function(t){return e.$===st&&(e.$=ri),t&&e.jQuery===st&&(e.jQuery=ai),st},typeof t===xt&&(e.jQuery=e.$=st),st}),/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
function(e,t,o){function i(o){var i=t.console;s[o]||(s[o]=!0,e.migrateWarnings.push(o),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+o),e.migrateTrace&&i.trace&&i.trace()))}function n(t,o,n,s){if(Object.defineProperty)try{return void Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return i(s),n},set:function(e){i(s),n=e}})}catch(a){}e._definePropertyBroken=!0,t[o]=n}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===o&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,r=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return o},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,m=/^(?:checked|selected)$/i;n(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,s,l){var c=n.toLowerCase(),p=t&&t.nodeType;return l&&(r.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(p)&&(a?n in a:e.isFunction(e.fn[n])))?e(t)[n](s):("type"===n&&s!==o&&d.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var n,s=e.prop(t,i);return s===!0||"boolean"!=typeof s&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():o},set:function(t,o,i){var n;return o===!1?e.removeAttr(t,i):(n=e.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},m.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),r.call(e,t,n,s))},e.attrHooks.value={get:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?l.apply(this,arguments):("input"!==o&&"option"!==o&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?c.apply(this,arguments):("input"!==o&&"option"!==o&&i("jQuery.fn.attr('value', val) no longer sets properties"),void(e.value=t))}};var p,f,g=e.fn.init,b=e.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,o,n){var s;return t&&"string"==typeof t&&!e.isPlainObject(o)&&(s=v.exec(e.trim(t)))&&s[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),s[3]&&i("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),o&&o.context&&(o=o.context),e.parseHTML)?g.call(this,e.parseHTML(s[2],o,!0),o,n):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?b.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(p=e.uaMatch(navigator.userAgent),f={},p.browser&&(f[p.browser]=!0,f.version=p.version),f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0),e.browser=f),n(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,o){return new t.fn.init(e,o)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof e&&!(n instanceof t)&&(n=t(n)),e.fn.init.call(this,i,n,o)},t.fn.init.prototype=t.fn;var o=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var _=e.fn.data;e.fn.data=function(t){var n,s,a=this[0];return!a||"events"!==t||1!==arguments.length||(n=e.data(a,t),s=e._data(a,t),n!==o&&n!==s||s===o)?_.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),s)};var w=/\/(java|ecma)script/i,y=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),y.apply(this,arguments)},e.clean||(e.clean=function(t,o,n,s){o=o||document,o=!o.nodeType&&o[0]||o,o=o.ownerDocument||o,i("jQuery.clean() is deprecated");var a,r,l,c,d=[];if(e.merge(d,e.buildFragment(t,o).childNodes),n)for(l=function(e){return!e.type||w.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},a=0;null!=(r=d[a]);a++)e.nodeName(r,"script")&&l(r)||(n.appendChild(r),"undefined"!=typeof r.getElementsByTagName&&(c=e.grep(e.merge([],r.getElementsByTagName("script")),l),d.splice.apply(d,[a+1,0].concat(c)),a+=c.length));return d});var $=e.event.add,k=e.event.remove,x=e.event.trigger,C=e.fn.toggle,R=e.fn.live,S=e.fn.die,T="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+T+")\\b"),P=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(P.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(P,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&n(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,o,n,s){e!==document&&D.test(t)&&i("AJAX events should be attached to document: "+t),$.call(this,e,A(t||""),o,n,s)},e.event.remove=function(e,t,o,i,n){k.call(this,e,A(t)||"",o,i,n)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,o){if(!e.isFunction(t)||!e.isFunction(o))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,s=t.guid||e.guid++,a=0,r=function(o){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),o.preventDefault(),n[i].apply(this,arguments)||!1};for(r.guid=s;a<n.length;)n[a++].guid=s;return this.click(r)},e.fn.live=function(t,o,n){return i("jQuery.fn.live() is deprecated"),R?R.apply(this,arguments):(e(this.context).on(t,this.selector,o,n),this)},e.fn.die=function(t,o){return i("jQuery.fn.die() is deprecated"),S?S.apply(this,arguments):(e(this.context).off(t,this.selector||"**",o),this)},e.event.trigger=function(e,t,o,n){return o||D.test(e)||i("Global events are undocumented and deprecated"),x.call(this,e,t,o||document,n)},e.each(T.split("|"),function(t,o){e.event.special[o]={setup:function(){var t=this;return t!==document&&(e.event.add(document,o+"."+e.guid,function(){e.event.trigger(o,null,t,!0)}),e._data(this,o,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,o+"."+e._data(this,o)),!1}}})}(jQuery,window),function(e){var t=null,o=null;e.modal=function(i,n){e.modal.close();var s,a;if(this.$body=e("body"),this.options=e.extend({},e.modal.defaults,n),this.options.maxWidth="960px",e(i).attr("data-maxWidth")&&(this.options.maxWidth=e(i).attr("data-maxWidth")),this.$newBlocker=e('<div class="modal-blocker2">').css({position:"fixed",top:0,right:0,bottom:0,left:0,overflowX:"hidden",overflowY:"auto",background:"rgba(32, 35, 41, .95)",paddingTop:"100px",paddingBottom:"50px",zIndex:this.options.zIndex}),i.is("a"))if(a=i.attr("href"),/^#/.test(a)){if(this.$elm=e(a),this.$elm.length>0?o=this.$elm:this.$elm=o,1!==this.$elm.length)return null;this.$body.append(this.$newBlocker),this.$newBlocker.append(this.$elm),this.open()}else this.$elm=e("<div>"),this.$body.append(this.$newBlocker),this.$newBlocker.append(this.$elm),s=function(e,t){t.elm.remove()},this.showSpinner(),i.trigger(e.modal.AJAX_SEND),e.get(a).done(function(o){t&&(i.trigger(e.modal.AJAX_SUCCESS),t.$elm.empty().append(o).on(e.modal.CLOSE,s),t.hideSpinner(),t.open(),i.trigger(e.modal.AJAX_COMPLETE))}).fail(function(){i.trigger(e.modal.AJAX_FAIL),t.hideSpinner(),i.trigger(e.modal.AJAX_COMPLETE)});else this.$elm=i,this.open()},e.modal.prototype={constructor:e.modal,open:function(){this.block(),this.show(),this.options.escapeClose&&e(document).on("keydown.modal",function(t){27==t.which&&e.modal.close()}),this.options.clickClose&&this.blocker.click(e.modal.close)},close:function(){this.unblock(),this.hide(),e(document).off("keydown.modal")},block:function(){this.$elm.trigger(e.modal.BEFORE_BLOCK,[this._ctx()]),this.blocker=e('<div class="jquery-modal blocker"></div>').css({width:"100%",height:"100%",position:"fixed",right:"20px",top:"0px",zIndex:this.options.zIndex+1}),this.$newBlocker.append(this.blocker),this.$elm.trigger(e.modal.BLOCK,[this._ctx()]),e("body").css("overflow","hidden")},unblock:function(){this.$newBlocker.remove(),this.blocker.remove(),e("body").css("overflow","visible")},show:function(){this.$elm.trigger(e.modal.BEFORE_OPEN,[this._ctx()]),this.options.showClose&&(this.closeButton=e('<a href="#close-modal" rel="modal:close" class="close-modal">'+this.options.closeText+"</a>"),this.$elm.append(this.closeButton)),this.$elm.addClass(this.options.modalClass+" current"),this.center(),this.$elm.show().trigger(e.modal.OPEN,[this._ctx()])},hide:function(){this.$elm.trigger(e.modal.BEFORE_CLOSE,[this._ctx()]),this.closeButton&&this.closeButton.remove(),this.$elm.removeClass("current").hide(),this.$elm.trigger(e.modal.CLOSE,[this._ctx()])},showSpinner:function(){this.options.showSpinner&&(this.spinner=this.spinner||e('<div class="'+this.options.modalClass+'-spinner"><div class="modal-spinner-in"></div></div>').append(this.options.spinnerHtml),this.$body.append(this.spinner),this.spinner.show())},hideSpinner:function(){this.spinner&&this.spinner.remove()},center:function(){this.$elm.css({position:"relative",top:"0px",margin:"0 auto",marginBottom:"50px",overflow:"visible",maxWidth:this.options.maxWidth,zIndex:this.options.zIndex+2})},_ctx:function(){return{elm:this.$elm,blocker:this.blocker,options:this.options}}},e.modal.prototype.resize=e.modal.prototype.center,e.modal.close=function(e){t&&(e&&e.preventDefault(),t.close(),t=null)},e.modal.showSpinner=function(e){t&&(e&&e.preventDefault(),t.showSpinner())},e.modal.hideSpinner=function(e){t&&(e&&e.preventDefault(),t.hideSpinner())},e.modal.getWidget=function(){return t?t.$elm:null},e.modal.resize=function(){t&&t.resize()},e.modal.defaults={overlay:"#000",opacity:.75,zIndex:21,escapeClose:!0,clickClose:!1,closeText:"Close",modalClass:"modal",spinnerHtml:null,showSpinner:!0,showClose:!0},e.modal.BEFORE_BLOCK="modal:before-block",e.modal.BLOCK="modal:block",e.modal.BEFORE_OPEN="modal:before-open",e.modal.OPEN="modal:open",e.modal.BEFORE_CLOSE="modal:before-close",e.modal.CLOSE="modal:close",e.modal.AJAX_SEND="modal:ajax:send",e.modal.AJAX_SUCCESS="modal:ajax:success",e.modal.AJAX_FAIL="modal:ajax:fail",e.modal.AJAX_COMPLETE="modal:ajax:complete",e.fn.modal=function(o){return 1===this.length&&(t=new e.modal(this,o)),this},e(document).on("click",'a[rel="modal:close"]',e.modal.close),e(document).on("click",'a[rel="modal:open"]',function(t){t.preventDefault(),e(this).modal()}),e(document).on("click",'a[rel="modal:open:ajaxpost"]',function(t){return t.preventDefault(),e(this).modal(),e(this).bind(e.modal.AJAX_COMPLETE,function(){e("form").submit(function(){return current_form=e(this),e.modal.showSpinner(),e.ajax({type:this.method,url:this.action+".json",data:e(this).serialize(),dataType:"html",success:function(){e.modal.hideSpinner(),e.modal.close()},error:function(t){e.modal.hideSpinner(),current_form.find(".error").remove();var o=jQuery.parseJSON(t.responseText);e.each(o.errors,function(e,t){current_form.find("#"+current_form.attr("id").split("_").pop()+"_"+e).after('<span class="error">'+t[0]+"</span>")})}}),!1})}),!1})}(jQuery),/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function o(t,o){var n,s,a,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,s=n.name,t.href&&s&&"map"===n.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||o:o)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var n=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(o,i){return"number"==typeof o?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},o)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(o){if(o!==t)return this.css("zIndex",o);if(this.length)for(var i,n,s=e(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(o){return!!e.data(o,t)}}):function(t,o,i){return!!e.data(t,i[3])},focusable:function(t){return o(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),n=isNaN(i);return(n||i>=0)&&o(t,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(o,i){function n(t,o,i,n){return e.each(s,function(){o-=parseFloat(e.css(t,"padding"+this))||0,i&&(o-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(o-=parseFloat(e.css(t,"margin"+this))||0)}),o}var s="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(o){return o===t?r["inner"+i].call(this):this.each(function(){e(this).css(a,n(this,o)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(a,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(o){return arguments.length?t.call(this,e.camelCase(o)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,o,i){var n,s=e.ui[t].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([o,i[n]])},call:function(e,t,o){var i,n=e.plugins[t];if(n&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<n.length;i++)e.options[n[i][0]]&&n[i][1].apply(e.element,o)}},hasScroll:function(t,o){if("hidden"===e(t).css("overflow"))return!1;var i=o&&"left"===o?"scrollLeft":"scrollTop",n=!1;return t[i]>0?!0:(t[i]=1,n=t[i]>0,t[i]=0,n)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var o=0,i=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var o,i=0;null!=(o=t[i]);i++)try{e(o).triggerHandler("remove")}catch(s){}n(t)},e.widget=function(t,o,i){var n,s,a,r,l={},c=t.split(".")[0];t=t.split(".")[1],n=c+"-"+t,i||(i=o,o=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},s=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new o,r.options=e.widget.extend({},r.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return o.prototype[t].apply(this,arguments)},n=function(e){return o.prototype[t].apply(this,e)};return function(){var t,o=this._super,s=this._superApply;return this._super=e,this._superApply=n,t=i.apply(this,arguments),this._super=o,this._superApply=s,t}}()):void(l[t]=i)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:n}),s?(e.each(s._childConstructors,function(t,o){var i=o.prototype;e.widget(i.namespace+"."+i.widgetName,a,o._proto)}),delete s._childConstructors):o._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(o){for(var n,s,a=i.call(arguments,1),r=0,l=a.length;l>r;r++)for(n in a[r])s=a[r][n],a[r].hasOwnProperty(n)&&s!==t&&(o[n]=e.isPlainObject(s)?e.isPlainObject(o[n])?e.widget.extend({},o[n],s):e.widget.extend({},s):s);return o},e.widget.bridge=function(o,n){var s=n.prototype.widgetFullName||o;e.fn[o]=function(a){var r="string"==typeof a,l=i.call(arguments,1),c=this;return a=!r&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,this.each(r?function(){var i,n=e.data(this,s);return n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,l),i!==n&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+o+" widget instance"):e.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,s);t?t.option(a||{})._init():e.data(this,s,new n(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=o++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(o,i){var n,s,a,r=o;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof o)if(r={},n=o.split("."),o=n.shift(),n.length){for(s=r[o]=e.widget.extend({},this.options[o]),a=0;a<n.length-1;a++)s[n[a]]=s[n[a]]||{},s=s[n[a]];if(o=n.pop(),1===arguments.length)return s[o]===t?null:s[o];s[o]=i}else{if(1===arguments.length)return this.options[o]===t?null:this.options[o];r[o]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,o,i){var n,s=this;"boolean"!=typeof t&&(i=o,o=t,t=!1),i?(o=n=e(o),this.bindings=this.bindings.add(o)):(i=o,o=this.element,n=this.widget()),e.each(i,function(i,a){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?n.delegate(d,c,r):o.bind(c,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function o(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(o,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,o,i){var n,s,a=this.options[t];if(i=i||{},o=e.Event(o),o.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),o.target=this.element[0],s=o.originalEvent)for(n in s)n in o||(o[n]=s[n]);return this.element.trigger(o,i),!(e.isFunction(a)&&a.apply(this.element[0],[o].concat(i))===!1||o.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,o){e.Widget.prototype["_"+t]=function(i,n,s){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?o:n.effect||o:t;n=n||{},"number"==typeof n&&(n={duration:n}),a=!e.isEmptyObject(n),n.complete=s,n.delay&&i.delay(n.delay),a&&e.effects&&e.effects.effect[r]?i[t](n):r!==t&&i[r]?i[r](n.duration,n.easing,s):i.queue(function(o){e(this)[t](),s&&s.call(i[0]),o()})}})}(jQuery),/*!
 * jQuery UI Accordion 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t=0,o={},i={};o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var o=e.ui.keyCode,i=this.headers.length,n=this.headers.index(t.target),s=!1;switch(t.keyCode){case o.RIGHT:case o.DOWN:s=this.headers[(n+1)%i];break;case o.LEFT:case o.UP:s=this.headers[(n-1+i)%i];break;case o.SPACE:case o.ENTER:this._eventHandler(t);break;case o.HOME:s=this.headers[0];break;case o.END:s=this.headers[i-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var o,i=this.options,n=i.heightStyle,s=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var o=e(this),i=o.attr("id"),n=o.next(),s=n.attr("id");i||(i=a+"-header-"+t,o.attr("id",i)),s||(s=a+"-panel-"+t,n.attr("id",s)),o.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(o=s.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(o-=t.outerHeight(!0))}),this.headers.each(function(){o-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,o-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(o=0,this.headers.next().each(function(){o=Math.max(o,e(this).css("height","").height())}).height(o))},_activate:function(t){var o=this._findActive(t)[0];o!==this.active[0]&&(o=o||this.active[0],this._eventHandler({target:o,currentTarget:o,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var o={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){o[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,o),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var o=this.options,i=this.active,n=e(t.currentTarget),s=n[0]===i[0],a=s&&o.collapsible,r=a?e():n.next(),l=i.next(),c={oldHeader:i,oldPanel:l,newHeader:a?e():n,newPanel:r};t.preventDefault(),s&&!o.collapsible||this._trigger("beforeActivate",t,c)===!1||(o.active=a?!1:this.headers.index(n),this.active=s?e():n,this._toggle(c),i.removeClass("ui-accordion-header-active ui-state-active"),o.icons&&i.children(".ui-accordion-header-icon").removeClass(o.icons.activeHeader).addClass(o.icons.header),s||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),o.icons&&n.children(".ui-accordion-header-icon").removeClass(o.icons.header).addClass(o.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var o=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=o,this.prevHide=i,this.options.animate?this._animate(o,i,t):(i.hide(),o.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr("aria-selected","false"),o.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):o.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,n){var s,a,r,l=this,c=0,d=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=d&&u.down||u,m=function(){l._toggleComplete(n)};return"number"==typeof h&&(r=h),"string"==typeof h&&(a=h),a=a||h.easing||u.easing,r=r||h.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(o,{duration:r,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(i,{duration:r,easing:a,complete:m,step:function(e,o){o.now=Math.round(e),"height"!==o.prop?c+=o.now:"content"!==l.options.heightStyle&&(o.now=Math.round(s-t.outerHeight()-c),c=0)}})):t.animate(o,r,a,m):e.animate(i,r,a,m)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function o(e,t,o){return[parseFloat(e[0])*(m.test(e[0])?t/100:1),parseFloat(e[1])*(m.test(e[1])?o/100:1)]}function i(t,o){return parseInt(e.css(t,o),10)||0}function n(t){var o=t[0];return 9===o.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(o)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,a=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,m=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var o,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return e("body").append(n),o=a.offsetWidth,n.css("overflow","scroll"),i=a.offsetWidth,o===i&&(i=n[0].clientWidth),n.remove(),s=o-i},getScrollInfo:function(t){var o=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===o||"auto"===o&&t.width<t.element[0].scrollWidth,s="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var o=e(t||window),i=e.isWindow(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:i,isDocument:n,offset:o.offset()||{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:i?o.width():o.outerWidth(),height:i?o.height():o.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var s,m,f,g,b,v,_=e(t.of),w=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(w),$=(t.collision||"flip").split(" "),k={};return v=n(_),_[0].preventDefault&&(t.at="left top"),m=v.width,f=v.height,g=v.offset,b=e.extend({},g),e.each(["my","at"],function(){var e,o,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",e=u.exec(i[0]),o=u.exec(i[1]),k[this]=[e?e[0]:0,o?o[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===$.length&&($[1]=$[0]),"right"===t.at[0]?b.left+=m:"center"===t.at[0]&&(b.left+=m/2),"bottom"===t.at[1]?b.top+=f:"center"===t.at[1]&&(b.top+=f/2),s=o(k.at,m,f),b.left+=s[0],b.top+=s[1],this.each(function(){var n,c,d=e(this),u=d.outerWidth(),h=d.outerHeight(),p=i(this,"marginLeft"),v=i(this,"marginTop"),x=u+p+i(this,"marginRight")+y.width,C=h+v+i(this,"marginBottom")+y.height,R=e.extend({},b),S=o(k.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?R.left-=u:"center"===t.my[0]&&(R.left-=u/2),"bottom"===t.my[1]?R.top-=h:"center"===t.my[1]&&(R.top-=h/2),R.left+=S[0],R.top+=S[1],e.support.offsetFractions||(R.left=l(R.left),R.top=l(R.top)),n={marginLeft:p,marginTop:v},e.each(["left","top"],function(o,i){e.ui.position[$[o]]&&e.ui.position[$[o]][i](R,{targetWidth:m,targetHeight:f,elemWidth:u,elemHeight:h,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[s[0]+S[0],s[1]+S[1]],my:t.my,at:t.at,within:w,elem:d})}),t.using&&(c=function(e){var o=g.left-R.left,i=o+m-u,n=g.top-R.top,s=n+f-h,l={target:{element:_,left:g.left,top:g.top,width:m,height:f},element:{element:d,left:R.left,top:R.top,width:u,height:h},horizontal:0>i?"left":o>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};u>m&&r(o+i)<m&&(l.horizontal="center"),h>f&&r(n+s)<f&&(l.vertical="middle"),l.important=a(r(o),r(i))>a(r(n),r(s))?"horizontal":"vertical",t.using.call(this,e,l)}),d.offset(e.extend(R,{using:c}))})},e.ui.position={fit:{left:function(e,t){var o,i=t.within,n=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,r=e.left-t.collisionPosition.marginLeft,l=n-r,c=r+t.collisionWidth-s-n;t.collisionWidth>s?l>0&&0>=c?(o=e.left+l+t.collisionWidth-s-n,e.left+=l-o):e.left=c>0&&0>=l?n:l>c?n+s-t.collisionWidth:n:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-r,e.left)},top:function(e,t){var o,i=t.within,n=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,l=n-r,c=r+t.collisionHeight-s-n;t.collisionHeight>s?l>0&&0>=c?(o=e.top+l+t.collisionHeight-s-n,e.top+=l-o):e.top=c>0&&0>=l?n:l>c?n+s-t.collisionHeight:n:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-r,e.top)}},flip:{left:function(e,t){var o,i,n=t.within,s=n.offset.left+n.scrollLeft,a=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,m="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>d?(o=e.left+h+m+p+t.collisionWidth-a-s,(0>o||o<r(d))&&(e.left+=h+m+p)):u>0&&(i=e.left-t.collisionPosition.marginLeft+h+m+p-l,(i>0||r(i)<u)&&(e.left+=h+m+p))},top:function(e,t){var o,i,n=t.within,s=n.offset.top+n.scrollTop,a=n.height,l=n.isWindow?n.scrollTop:n.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-a-l,h="top"===t.my[1],m=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>d?(i=e.top+m+p+f+t.collisionHeight-a-s,e.top+m+p+f>d&&(0>i||i<r(d))&&(e.top+=m+p+f)):u>0&&(o=e.top-t.collisionPosition.marginTop+m+p+f-l,e.top+m+p+f>u&&(o>0||r(o)<u)&&(e.top+=m+p+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,o,i,n,s,a=document.getElementsByTagName("body")[0],r=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(r),o=a||document.documentElement,o.insertBefore(t,o.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=e(r).offset().left,e.support.offsetFractions=n>10&&11>n,t.innerHTML="",o.removeChild(t)}()}(jQuery),/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var o=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&o.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),o.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var o=e(t.currentTarget);o.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,o)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var o=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,o)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,n,s,a,r,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,n=this.previousFilter||"",s=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),s===n?a=!0:s=n+s,r=new RegExp("^"+o(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())}),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(t.keyCode),r=new RegExp("^"+o(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,o=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),n=e("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var o,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),o=t.children(".ui-menu"),o.length&&e&&/^mouse/.test(e.type)&&this._startOpening(o),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var o,i,n,s,a,r;this._hasScroll()&&(o=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-o-i,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=t.height(),0>n?this.activeMenu.scrollTop(s+n):n+r>a&&this.activeMenu.scrollTop(s+n-a+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var o=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(o)},collapseAll:function(t,o){clearTimeout(this.timer),this.timer=this._delay(function(){var i=o?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,o){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(o,i)},nextPage:function(t){var o,i,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return o=e(this),o.offset().top-i-n<0}),this.focus(t,o)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var o,i,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return o=e(this),o.offset().top-i+n>0}),this.focus(t,o)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var o={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,o)}})}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,o,i,n=this.element[0].nodeName.toLowerCase(),s="textarea"===n,a="input"===n;this.isMultiLine=s?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,i=!0,void(o=!0);t=!1,i=!1,o=!1;var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",n);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case s.UP:t=!0,this._keyEvent("previous",n);break;case s.DOWN:t=!0,this._keyEvent("next",n);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case s.TAB:this.menu.active&&this.menu.select(n);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:o=!0,this._searchTimeout(n)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!o){var n=e.ui.keyCode;switch(i.keyCode){case n.PAGE_UP:this._move("previousPage",i);break;case n.PAGE_DOWN:this._move("nextPage",i);break;case n.UP:this._keyEvent("previous",i);break;case n.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var o=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===o||e.contains(o,i.target)||t.close()})})},menufocus:function(t,o){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=o.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var o=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=o})),!1!==this._trigger("select",e,{item:o})&&this._value(o.value),this.term=this._value(),this.close(e),this.selectedItem=o}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,o,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(o,i){i(e.ui.autocomplete.filter(t,o.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:o,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var o=this.menu.element.empty();this._renderMenu(o,t),this.isNewMenu=!0,this.menu.refresh(),o.show(),this._resizeMenu(),o.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,o){var i=this;e.each(o,function(e,o){i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,o){return e("<li>").append(e("<a>").text(o.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,o){var i=new RegExp(e.ui.autocomplete.escapeRegex(o),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),/*!
 * jQuery UI Button 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t,o="ui-button ui-widget ui-state-default ui-corner-all",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",n=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},s=function(t){var o=t.name,i=t.form,n=e([]);return o&&(o=o.replace(/'/g,"\\'"),n=i?e(i).find("[name='"+o+"']"):e("[name='"+o+"']",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,n),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,a=this.options,r="checkbox"===this.type||"radio"===this.type,l=r?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){i.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var t=i.element[0];s(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void i.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,o;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),o=this.element.is(":checked"),o&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",o)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" ui-state-active "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?s(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(i),o=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(o)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),/*!
 * jQuery UI Datepicker 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 *
 * Depends:
 *	jquery.ui.core.js
 */
function(e,t){function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var o="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(o,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(o,"mouseover",function(){e.datepicker._isDisabledDatepicker(s.inline?t.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function n(t,o){e.extend(t,o);for(var i in o)null==o[i]&&(t[i]=o[i]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var s,a="datepicker";e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return n(this._defaults,e||{}),this},_attachDatepicker:function(t,o){var i,n,s;i=t.nodeName.toLowerCase(),n="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),n),s.settings=e.extend({},o||{}),"input"===i?this._connectDatepicker(t,s):n&&this._inlineDatepicker(t,s)},_newInst:function(t,o){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:o,dpDiv:o?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,o){var i=e(t);o.append=e([]),o.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,o),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(o),e.data(t,a,o),o.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,o){var i,n,s,a=this._get(o,"appendText"),r=this._get(o,"isRTL");o.append&&o.append.remove(),a&&(o.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[r?"before":"after"](o.append)),t.unbind("focus",this._showDatepicker),o.trigger&&o.trigger.remove(),i=this._get(o,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(n=this._get(o,"buttonText"),s=this._get(o,"buttonImage"),o.trigger=e(this._get(o,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:n,title:n}):n)),t[r?"before":"after"](o.trigger),o.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,o,i,n,s=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(o=0,i=0,n=0;n<e.length;n++)e[n].length>o&&(o=e[n].length,i=n);return i},s.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,o){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(o.dpDiv),e.data(t,a,o),this._setDate(o,this._getDefaultDate(o),!0),this._updateDatepicker(o),this._updateAlternate(o),o.settings.disabled&&this._disableDatepicker(t),o.dpDiv.css("display","block"))},_dialogDatepicker:function(t,o,i,s,r){var l,c,d,u,h,m=this._dialogInst;return m||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},e.data(this._dialogInput[0],a,m)),n(m.settings,s||{}),o=o&&o.constructor===Date?this._formatDate(m,o):o,this._dialogInput.val(o),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,d/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],a,m),this},_destroyDatepicker:function(t){var o,i=e(t),n=e.data(t,a);i.hasClass(this.markerClassName)&&(o=t.nodeName.toLowerCase(),e.removeData(t,a),"input"===o?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===o||"span"===o)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var o,i,n=e(t),s=e.data(t,a);n.hasClass(this.markerClassName)&&(o=t.nodeName.toLowerCase(),"input"===o?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===o||"span"===o)&&(i=n.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var o,i,n=e(t),s=e.data(t,a);n.hasClass(this.markerClassName)&&(o=t.nodeName.toLowerCase(),"input"===o?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===o||"span"===o)&&(i=n.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,a)}catch(o){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(o,i,s){var a,r,l,c,d=this._getInst(o);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):d?"all"===i?e.extend({},d.settings):this._get(d,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=s),void(d&&(this._curInst===d&&this._hideDatepicker(),r=this._getDateDatepicker(o,!0),l=this._getMinMaxDate(d,"min"),c=this._getMinMaxDate(d,"max"),n(d.settings,a),null!==l&&a.dateFormat!==t&&a.minDate===t&&(d.settings.minDate=this._formatDate(d,l)),null!==c&&a.dateFormat!==t&&a.maxDate===t&&(d.settings.maxDate=this._formatDate(d,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(o):this._enableDatepicker(o)),this._attachments(e(o),d),this._autoSize(d),this._setDate(d,r),this._updateAlternate(d),this._updateDatepicker(d))))},_changeDatepicker:function(e,t,o){this._optionDatepicker(e,t,o)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var o=this._getInst(e);o&&(this._setDate(o,t),this._updateDatepicker(o),this._updateAlternate(o))},_getDateDatepicker:function(e,t){var o=this._getInst(e);return o&&!o.inline&&this._setDateFromField(o,t),o?this._getDate(o):null},_doKeyDown:function(t){var o,i,n,s=e.datepicker._getInst(t.target),a=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),n[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,n[0]),o=e.datepicker._get(s,"onSelect"),o?(i=e.datepicker._formatDate(s),o.apply(s.input?s.input[0]:null,[i,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var o,i,n=e.datepicker._getInst(t.target);return e.datepicker._get(n,"constrainInput")?(o=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!o||o.indexOf(i)>-1):void 0},_doKeyUp:function(t){var o,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{o=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),o&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var o,i,s,a,r,l,c;o=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==o&&(e.datepicker._curInst.dpDiv.stop(!0,!0),o&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),i=e.datepicker._get(o,"beforeShow"),s=i?i.apply(t,[t,o]):{},s!==!1&&(n(o.settings,s),o.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(o),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),r={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,o.dpDiv.empty(),o.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(o),r=e.datepicker._checkOffset(o,r,a),o.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),o.inline||(l=e.datepicker._get(o,"showAnim"),c=e.datepicker._get(o,"duration"),o.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?o.dpDiv.show(l,e.datepicker._get(o,"showOptions"),c):o.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(o)&&o.input.focus(),e.datepicker._curInst=o))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var o,i=this._getNumberOfMonths(t),n=i[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(o=t.yearshtml,setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,o,i){var n=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return o.left-=this._get(t,"isRTL")?n-a:0,o.left-=i&&o.left===t.input.offset().left?e(document).scrollLeft():0,o.top-=i&&o.top===t.input.offset().top+r?e(document).scrollTop():0,o.left-=Math.min(o.left,o.left+n>l&&l>n?Math.abs(o.left+n-l):0),o.top-=Math.min(o.top,o.top+s>c&&c>s?Math.abs(s+r):0),o},_findPos:function(t){for(var o,i=this._getInst(t),n=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return o=e(t).offset(),[o.left,o.top]},_hideDatepicker:function(t){var o,i,n,s,r=this._curInst;!r||t&&r!==e.data(t,a)||this._datepickerShowing&&(o=this._get(r,"showAnim"),i=this._get(r,"duration"),n=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[o]||e.effects[o])?r.dpDiv.hide(o,e.datepicker._get(r,"showOptions"),i,n):r.dpDiv["slideDown"===o?"slideUp":"fadeIn"===o?"fadeOut":"hide"](o?i:null,n),o||n(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var o=e(t.target),i=e.datepicker._getInst(o[0]);(o[0].id!==e.datepicker._mainDivId&&0===o.parents("#"+e.datepicker._mainDivId).length&&!o.hasClass(e.datepicker.markerClassName)&&!o.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||o.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,o,i){var n=e(t),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,o+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var o,i=e(t),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(o=new Date,n.selectedDay=o.getDate(),n.drawMonth=n.selectedMonth=o.getMonth(),n.drawYear=n.selectedYear=o.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(t,o,i){var n=e(t),s=this._getInst(n[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(o.options[o.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(t,o,i,n){var s,a=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(s=this._getInst(a[0]),s.selectedDay=s.currentDay=e("a",n).html(),s.selectedMonth=s.currentMonth=o,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var o=e(t);this._selectDate(o,"")},_selectDate:function(t,o){var i,n=e(t),s=this._getInst(n[0]);o=null!=o?o:this._formatDate(s),s.input&&s.input.val(o),this._updateAlternate(s),i=this._get(s,"onSelect"),i?i.apply(s.input?s.input[0]:null,[o,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var o,i,n,s=this._get(t,"altField");s&&(o=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(o,i,this._getFormatConfig(t)),e(s).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,o=new Date(e.getTime());return o.setDate(o.getDate()+4-(o.getDay()||7)),t=o.getTime(),o.setMonth(0),o.setDate(1),Math.floor(Math.round((t-o)/864e5)/7)+1},parseDate:function(t,o,i){if(null==t||null==o)throw"Invalid arguments";if(o="object"==typeof o?o.toString():o+"",""===o)return null;var n,s,a,r,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,m=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,b=-1,v=-1,_=!1,w=function(e){var o=n+1<t.length&&t.charAt(n+1)===e;return o&&n++,o},y=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{1,"+i+"}"),s=o.substring(l).match(n);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},$=function(t,i,n){var s=-1,a=e.map(w(t)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var i=t[1];return o.substr(l,i.length).toLowerCase()===i.toLowerCase()?(s=t[0],l+=i.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},k=function(){if(o.charAt(l)!==t.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<t.length;n++)if(_)"'"!==t.charAt(n)||w("'")?k():_=!1;else switch(t.charAt(n)){case"d":b=y("d");break;case"D":$("D",u,h);break;case"o":v=y("o");break;case"m":g=y("m");break;case"M":g=$("M",m,p);break;case"y":f=y("y");break;case"@":r=new Date(y("@")),f=r.getFullYear(),g=r.getMonth()+1,b=r.getDate();break;case"!":r=new Date((y("!")-this._ticksTo1970)/1e4),f=r.getFullYear(),g=r.getMonth()+1,b=r.getDate();break;case"'":w("'")?k():_=!0;break;default:k()}if(l<o.length&&(a=o.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=f?0:-100)),v>-1)for(g=1,b=v;;){if(s=this._getDaysInMonth(f,g-1),s>=b)break;g++,b-=s}if(r=this._daylightSavingAdjust(new Date(f,g-1,b)),r.getFullYear()!==f||r.getMonth()+1!==g||r.getDate()!==b)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,o){if(!t)return"";var i,n=(o?o.dayNamesShort:null)||this._defaults.dayNamesShort,s=(o?o.dayNames:null)||this._defaults.dayNames,a=(o?o.monthNamesShort:null)||this._defaults.monthNamesShort,r=(o?o.monthNames:null)||this._defaults.monthNames,l=function(t){var o=i+1<e.length&&e.charAt(i+1)===t;return o&&i++,o},c=function(e,t,o){var i=""+t;if(l(e))for(;i.length<o;)i="0"+i;return i},d=function(e,t,o,i){return l(e)?i[t]:o[t]},u="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),n,s);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),a,r);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,o="",i=!1,n=function(o){var i=t+1<e.length&&e.charAt(t+1)===o;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||n("'")?o+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":o+="0123456789";break;case"D":case"M":return null;case"'":n("'")?o+="'":i=!0;break;default:o+=e.charAt(t)}return o},_get:function(e,o){return e.settings[o]!==t?e.settings[o]:this._defaults[o]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var o=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),s=n,a=this._getFormatConfig(e);try{s=this.parseDate(o,i,a)||n}catch(r){i=t?"":i}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=i?s.getDate():0,e.currentMonth=i?s.getMonth():0,e.currentYear=i?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,o,i){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(o){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),o,e.datepicker._getFormatConfig(t))}catch(i){}for(var n=(o.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=n.getFullYear(),a=n.getMonth(),r=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(o);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(s,a))}c=l.exec(o)}return new Date(s,a,r)},a=null==o||""===o?i:"string"==typeof o?s(o):"number"==typeof o?isNaN(o)?i:n(o):new Date(o.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,o){var i=!t,n=e.selectedMonth,s=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),n===e.selectedMonth&&s===e.selectedYear||o||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var o=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-o,"M")},next:function(){e.datepicker._adjustDate(i,+o,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,o,i,n,s,a,r,l,c,d,u,h,m,p,f,g,b,v,_,w,y,$,k,x,C,R,S,T,D,P,A,E,I,M,j,O,F,z,L,H=new Date,N=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),B=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),K=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,et=e.drawYear;if(0>J&&(J+=12,et--),K)for(t=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-V[0]*V[1]+1,K.getDate())),t=Z&&Z>t?Z:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,o=this._get(e,"prevText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(et,J-G,1)),this._getFormatConfig(e)):o,i=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+o+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+o+"</span></a>",n=this._get(e,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(et,J+G,1)),this._getFormatConfig(e)):n,s=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?Q:N,a=U?this.formatDate(a,r,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),m=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),f=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),b=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),w="",$=0;$<V[0];$++){for(k="",this.maxRows=4,x=0;x<V[1];x++){if(C=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),R=" ui-corner-all",S="",X){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(x){case 0:S+=" ui-datepicker-group-first",R=" ui-corner-"+(B?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",R=" ui-corner-"+(B?"left":"right");break;default:S+=" ui-datepicker-group-middle",R=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+R+"'>"+(/all|left/.test(R)&&0===$?B?s:i:"")+(/all|right/.test(R)&&0===$?B?i:s:"")+this._generateMonthYearHeader(e,J,et,Z,K,$>0||x>0,p,f)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",y=0;7>y;y++)D=(y+d)%7,T+="<th"+((y+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D]+"'>"+m[D]+"</span></th>";for(S+=T+"</tr></thead><tbody>",P=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),A=(this._getFirstDayOfMonth(et,J)-d+7)%7,E=Math.ceil((A+P)/7),I=X&&this.maxRows>E?this.maxRows:E,this.maxRows=I,M=this._daylightSavingAdjust(new Date(et,J,1-A)),j=0;I>j;j++){for(S+="<tr>",O=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(M)+"</td>":"",y=0;7>y;y++)F=g?g.apply(e.input?e.input[0]:null,[M]):[!0,""],z=M.getMonth()!==J,L=z&&!v||!F[0]||Z&&Z>M||K&&M>K,O+="<td class='"+((y+d+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(M.getTime()===C.getTime()&&J===e.selectedMonth&&e._keyEvent||_.getTime()===M.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!b?"":" "+F[1]+(M.getTime()===Q.getTime()?" "+this._currentClass:"")+(M.getTime()===N.getTime()?" ui-datepicker-today":""))+"'"+(z&&!b||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(z&&!b?"&#xa0;":L?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===N.getTime()?" ui-state-highlight":"")+(M.getTime()===Q.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);S+=O+"</tr>"}J++,J>11&&(J=0,et++),S+="</tbody></table>"+(X?"</div>"+(V[0]>0&&x===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}w+=k}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,o,i,n,s,a,r){var l,c,d,u,h,m,p,f,g=this._get(e,"changeMonth"),b=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",w="";if(s||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===o,c=n&&n.getFullYear()===o,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=i.getMonth())&&(!c||d<=n.getMonth())&&(w+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+r[d]+"</option>");w+="</select>"}if(v||(_+=w+(!s&&g&&b?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!b)_+="<span class='ui-datepicker-year'>"+o+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),m=function(e){var t=e.match(/c[+\-].*/)?o+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},p=m(u[0]),f=Math.max(p,m(u[1]||"")),p=i?Math.max(p,i.getFullYear()):p,f=n?Math.min(f,n.getFullYear()):f,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===o?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),v&&(_+=(!s&&g&&b?"":"&#xa0;")+w),_+="</div>"},_adjustInstDate:function(e,t,o){var i=e.drawYear+("Y"===o?t:0),n=e.drawMonth+("M"===o?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,n))+("D"===o?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,n,s)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===o||"Y"===o)&&this._notifyChange(e)
},_restrictMinMax:function(e,t){var o=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),n=o&&o>t?o:t;return i&&n>i?i:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,o,i){var n=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(o,i+(0>t?t:n[0]*n[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var o,i,n=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),a=null,r=null,l=this._get(e,"yearRange");return l&&(o=l.split(":"),i=(new Date).getFullYear(),a=parseInt(o[0],10),r=parseInt(o[1],10),o[0].match(/[+\-].*/)&&(a+=i),o[1].match(/[+\-].*/)&&(r+=i)),(!n||t.getTime()>=n.getTime())&&(!s||t.getTime()<=s.getTime())&&(!a||t.getFullYear()>=a)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,o,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,o,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var o=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(o)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(o)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(o))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(o){return!0===e.data(o.target,t.widgetName+".preventClickEvent")?(e.removeData(o.target,t.widgetName+".preventClickEvent"),o.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(o){if(!t){this._mouseStarted&&this._mouseUp(o),this._mouseDownEvent=o;var i=this,n=1===o.which,s="string"==typeof this.options.cancel&&o.target.nodeName?e(o.target).closest(this.options.cancel).length:!1;return n&&!s&&this._mouseCapture(o)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(o)&&this._mouseDelayMet(o)&&(this._mouseStarted=this._mouseStart(o)!==!1,!this._mouseStarted)?(o.preventDefault(),!0):(!0===e.data(o.target,this.widgetName+".preventClickEvent")&&e.removeData(o.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),o.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Draggable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var o=this.options;return this.helper||o.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(o.iframeFix===!0?"iframe":o.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var o=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,o){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!o){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var o=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){o._trigger("stop",t)!==!1&&o._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var o=this.options,i=e.isFunction(o.helper)?e(o.helper.apply(this.element[0],[t])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,i,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),o=e(n.containment),i=o[0],void(i&&(t="hidden"!==o.css("overflow"),this.containment=[(parseInt(o.css("borderLeftWidth"),10)||0)+(parseInt(o.css("paddingLeft"),10)||0),(parseInt(o.css("borderTopWidth"),10)||0)+(parseInt(o.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(o.css("borderRightWidth"),10)||0)-(parseInt(o.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(o.css("borderBottomWidth"),10)||0)-(parseInt(o.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=o))):void(this.containment=null)},_convertPositionTo:function(t,o){o||(o=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:o.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:o.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var o,i,n,s,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),o=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):o=this.containment,t.pageX-this.offset.click.left<o[0]&&(l=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(c=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(l=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(c=o[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=o?n-this.offset.click.top>=o[1]||n-this.offset.click.top>o[3]?n:n-this.offset.click.top>=o[1]?n-a.grid[1]:n+a.grid[1]:n,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=o?s-this.offset.click.left>=o[0]||s-this.offset.click.left>o[2]?s:s-this.offset.click.left>=o[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,o,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[o,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,o,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,o){var i=e(this).data("ui-draggable"),n=i.options,s=e.extend({},o,{item:i.element});i.sortables=[],e(n.connectToSortable).each(function(){var o=e.data(this,"ui-sortable");o&&!o.options.disabled&&(i.sortables.push({instance:o,shouldRevert:o.options.revert}),o.refreshPositions(),o._trigger("activate",t,s))})},stop:function(t,o){var i=e(this).data("ui-draggable"),n=e.extend({},o,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,o){var i=e(this).data("ui-draggable"),n=this;e.each(i.sortables,function(){var s=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return o.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),o=e(this).data("ui-draggable").options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,o){var i=e(o.helper),n=e(this).data("ui-draggable").options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(t,o){var i=e(this).data("ui-draggable").options;i._opacity&&e(o.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var o=e(this).data("ui-draggable"),i=o.options,n=!1;o.scrollParent[0]!==document&&"HTML"!==o.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(o.overflowOffset.top+o.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?o.scrollParent[0].scrollTop=n=o.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-o.overflowOffset.top<i.scrollSensitivity&&(o.scrollParent[0].scrollTop=n=o.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(o.overflowOffset.left+o.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?o.scrollParent[0].scrollLeft=n=o.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-o.overflowOffset.left<i.scrollSensitivity&&(o.scrollParent[0].scrollLeft=n=o.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(o,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),o=t.options;t.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var o=e(this),i=o.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:i.top,left:i.left})})},drag:function(t,o){var i,n,s,a,r,l,c,d,u,h,m=e(this).data("ui-draggable"),p=m.options,f=p.snapTolerance,g=o.offset.left,b=g+m.helperProportions.width,v=o.offset.top,_=v+m.helperProportions.height;for(u=m.snapElements.length-1;u>=0;u--)r=m.snapElements[u].left,l=r+m.snapElements[u].width,c=m.snapElements[u].top,d=c+m.snapElements[u].height,r-f>b||g>l+f||c-f>_||v>d+f||!e.contains(m.snapElements[u].item.ownerDocument,m.snapElements[u].item)?(m.snapElements[u].snapping&&m.options.snap.release&&m.options.snap.release.call(m.element,t,e.extend(m._uiHash(),{snapItem:m.snapElements[u].item})),m.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(c-_)<=f,n=Math.abs(d-v)<=f,s=Math.abs(r-b)<=f,a=Math.abs(l-g)<=f,i&&(o.position.top=m._convertPositionTo("relative",{top:c-m.helperProportions.height,left:0}).top-m.margins.top),n&&(o.position.top=m._convertPositionTo("relative",{top:d,left:0}).top-m.margins.top),s&&(o.position.left=m._convertPositionTo("relative",{top:0,left:r-m.helperProportions.width}).left-m.margins.left),a&&(o.position.left=m._convertPositionTo("relative",{top:0,left:l}).left-m.margins.left)),h=i||n||s||a,"outer"!==p.snapMode&&(i=Math.abs(c-v)<=f,n=Math.abs(d-_)<=f,s=Math.abs(r-g)<=f,a=Math.abs(l-b)<=f,i&&(o.position.top=m._convertPositionTo("relative",{top:c,left:0}).top-m.margins.top),n&&(o.position.top=m._convertPositionTo("relative",{top:d-m.helperProportions.height,left:0}).top-m.margins.top),s&&(o.position.left=m._convertPositionTo("relative",{top:0,left:r}).left-m.margins.left),a&&(o.position.left=m._convertPositionTo("relative",{top:0,left:l-m.helperProportions.width}).left-m.margins.left)),!m.snapElements[u].snapping&&(i||n||s||a||h)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,t,e.extend(m._uiHash(),{snapItem:m.snapElements[u].item})),m.snapElements[u].snapping=i||n||s||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,o=this.data("ui-draggable").options,i=e.makeArray(e(o.stack)).sort(function(t,o){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(o).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(o){e(this).css("zIndex",t+o)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,o){var i=e(o.helper),n=e(this).data("ui-draggable").options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(t,o){var i=e(this).data("ui-draggable").options;i._zIndex&&e(o.helper).css("zIndex",i._zIndex)}})}(jQuery),/*!
 * jQuery UI Resizable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e){return parseInt(e,10)||0}function o(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,o,i,n,s,a=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},o=0;o<t.length;o++)i=e.trim(t[o]),s="ui-resizable-"+i,n=e("<div class='ui-resizable-handle "+s+"'></div>"),n.css({zIndex:r.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(t){var o,i,n,s;t=t||this.element;for(o in this.handles)this.handles[o].constructor===String&&(this.handles[o]=e(this.handles[o],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[o],this.element),s=/sw|ne|nw|se|n|s/.test(o)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()),e(this.handles[o]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,o=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(o(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),o(this.originalElement),this},_mouseCapture:function(t){var o,i,n=!1;for(o in this.handles)i=e(this.handles[o])[0],(i===t.target||e.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(o){var i,n,s,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),i=t(this.helper.css("left")),n=t(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,n+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:n},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:o.pageX,top:o.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",o),!0},_mouseDrag:function(t){var o,i=this.helper,n={},s=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,c=this.size.width,d=this.size.height,u=t.pageX-s.left||0,h=t.pageY-s.top||0,m=this._change[a];return m?(o=m.apply(this,[t,u,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(o=this._updateRatio(o,t)),o=this._respectSize(o,t),this._updateCache(o),this._propagate("resize",t),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==l&&(n.left=this.position.left+"px"),this.size.width!==c&&(n.width=this.size.width+"px"),this.size.height!==d&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var o,i,n,s,a,r,l,c=this.options,d=this;return this._helper&&(o=this._proportionallyResizeElements,i=o.length&&/textarea/i.test(o[0].nodeName),n=i&&e.ui.hasScroll(o[0],"left")?0:d.sizeDiff.height,s=i?0:d.sizeDiff.width,a={width:d.helper.width()-s,height:d.helper.height()-n},r=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:r})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,n,s,a,r=this.options;a={minWidth:o(r.minWidth)?r.minWidth:0,maxWidth:o(r.maxWidth)?r.maxWidth:1/0,minHeight:o(r.minHeight)?r.minHeight:0,maxHeight:o(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,s=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),s<a.maxHeight&&(a.maxHeight=s)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),o(e.left)&&(this.position.left=e.left),o(e.top)&&(this.position.top=e.top),o(e.height)&&(this.size.height=e.height),o(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return o(e.height)?e.width=e.height*this.aspectRatio:o(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=o(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=o(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=o(e.width)&&t.minWidth&&t.minWidth>e.width,r=o(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),a&&d&&(e.left=l-t.minWidth),n&&d&&(e.left=l-t.maxWidth),r&&u&&(e.top=c-t.minHeight),s&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,o,i,n,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(n=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],o=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],i=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;t<o.length;t++)this.borderDif[t]=(parseInt(o[t],10)||0)+(parseInt(i[t],10)||0);n.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,o=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var o=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:o.width-t}},n:function(e,t,o){var i=this.originalSize,n=this.originalPosition;return{top:n.top+o,height:i.height-o}},s:function(e,t,o){return{height:this.originalSize.height+o}},se:function(t,o,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,o,i]))},sw:function(t,o,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,o,i]))},ne:function(t,o,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,o,i]))},nw:function(t,o,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,o,i]))}},_propagate:function(t,o){e.ui.plugin.call(this,t,[o,this.ui()]),"resize"!==t&&this._trigger(t,o,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var o=e(this).data("ui-resizable"),i=o.options,n=o._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),a=s&&e.ui.hasScroll(n[0],"left")?0:o.sizeDiff.height,r=s?0:o.sizeDiff.width,l={width:o.size.width-r,height:o.size.height-a},c=parseInt(o.element.css("left"),10)+(o.position.left-o.originalPosition.left)||null,d=parseInt(o.element.css("top"),10)+(o.position.top-o.originalPosition.top)||null;o.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(o.element.css("width"),10),height:parseInt(o.element.css("height"),10),top:parseInt(o.element.css("top"),10),left:parseInt(o.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:i.width,height:i.height}),o._updateCache(i),o._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var o,i,n,s,a,r,l,c=e(this).data("ui-resizable"),d=c.options,u=c.element,h=d.containment,m=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;m&&(c.containerElement=e(m),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(o=e(m),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=t(o.css("padding"+n))}),c.containerOffset=o.offset(),c.containerPosition=o.position(),c.containerSize={height:o.innerHeight()-i[3],width:o.innerWidth()-i[1]},n=c.containerOffset,s=c.containerSize.height,a=c.containerSize.width,r=e.ui.hasScroll(m,"left")?m.scrollWidth:a,l=e.ui.hasScroll(m)?m.scrollHeight:s,c.parentData={element:m,left:n.left,top:n.top,width:r,height:l}))},resize:function(t){var o,i,n,s,a=e(this).data("ui-resizable"),r=a.options,l=a.containerOffset,c=a.position,d=a._aspectRatio||t.shiftKey,u={top:0,left:0},h=a.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),d&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),d&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,o=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),i=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-l.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),s=/relative|absolute/.test(a.containerElement.css("position")),n&&s&&(o-=Math.abs(a.parentData.left)),o+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-o,d&&(a.size.height=a.size.width/a.aspectRatio)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,d&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),o=t.options,i=t.containerOffset,n=t.containerPosition,s=t.containerElement,a=e(t.helper),r=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!o.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-n.left-i.left,width:l,height:c}),t._helper&&!o.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-n.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),o=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof o.alsoResize||o.alsoResize.parentNode?i(o.alsoResize):o.alsoResize.length?(o.alsoResize=o.alsoResize[0],i(o.alsoResize)):e.each(o.alsoResize,function(e){i(e)})},resize:function(t,o){var i=e(this).data("ui-resizable"),n=i.options,s=i.originalSize,a=i.originalPosition,r={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0},l=function(t,i){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),s={},a=i&&i.length?i:t.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var o=(n[t]||0)+(r[t]||0);o&&o>=0&&(s[t]=o||null)}),t.css(s)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?l(n.alsoResize):e.each(n.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),o=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),o=t.options,i=t.size,n=t.originalSize,s=t.originalPosition,a=t.axis,r="number"==typeof o.grid?[o.grid,o.grid]:o.grid,l=r[0]||1,c=r[1]||1,d=Math.round((i.width-n.width)/l)*l,u=Math.round((i.height-n.height)/c)*c,h=n.width+d,m=n.height+u,p=o.maxWidth&&o.maxWidth<h,f=o.maxHeight&&o.maxHeight<m,g=o.minWidth&&o.minWidth>h,b=o.minHeight&&o.minHeight>m;o.grid=r,g&&(h+=l),b&&(m+=c),p&&(h-=l),f&&(m-=c),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=m):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=m,t.position.top=s.top-u):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=m,t.position.left=s.left-d):(m-c>0?(t.size.height=m,t.position.top=s.top-u):(t.size.height=c,t.position.top=s.top+n.height-c),h-l>0?(t.size.width=h,t.position.left=s.left-d):(t.size.width=l,t.position.left=s.left+n.width-l))}})}(jQuery),/*!
 * jQuery UI Dialog 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var o=e(this).css(t).offset().top;0>o&&e(this).css("top",t.top-o)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var o,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{o=this.document[0].activeElement,o&&"body"!==o.nodeName.toLowerCase()&&e(o).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var o=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return o&&!t&&this._trigger("focus",e),o},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function o(){var t=this.document[0].activeElement,o=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);o||this._focusTabbable()}t.preventDefault(),o.call(this),this._delay(o)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var o=this.uiDialog.find(":tabbable"),i=o.filter(":first"),n=o.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(n.focus(1),t.preventDefault()):(i.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,o=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(o)||e.isArray(o)&&!o.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(o,function(o,i){var n,s;i=e.isFunction(i)?{click:i,text:o}:i,i=e.extend({type:"button"},i),n=i.click,i.click=function(){n.apply(t.element[0],arguments)},s={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var o=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,n){e(this).addClass("ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",i,t(n))},drag:function(e,i){o._trigger("drag",e,t(i))},stop:function(n,s){i.position=[s.position.left-o.document.scrollLeft(),s.position.top-o.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",n,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var o=this,i=this.options,n=i.resizable,s=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,n){e(this).addClass("ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",i,t(n))},resize:function(e,i){o._trigger("resize",e,t(i))},stop:function(n,s){i.height=e(this).height(),i.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",n,t(s))}}).css("position",s)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(i){var n=this,s=!1,a={};e.each(i,function(e,i){n._setOption(e,i),e in t&&(s=!0),e in o&&(a[e]=i)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var o,i,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(o=n.is(":data(ui-draggable)"),o&&!t&&n.draggable("destroy"),!o&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=n.is(":data(ui-resizable)"),i&&!t&&n.resizable("destroy"),i&&"string"==typeof t&&n.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,o,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),o="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:o,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,o=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(i){t._allowInteraction(i)||(i.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(o)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,o=this.options.position,i=[],n=[0,0];o?(("string"==typeof o||"object"==typeof o&&"0"in o)&&(i=o.split?o.split(" "):[o[0],o[1]],1===i.length&&(i[1]=i[0]),e.each(["left","top"],function(e,t){+i[e]===i[e]&&(n[e]=i[e],i[e]=t)}),o={my:i[0]+(n[0]<0?n[0]:"+"+n[0])+" "+i[1]+(n[1]<0?n[1]:"+"+n[1]),at:i.join(" ")}),o=e.extend({},e.ui.dialog.prototype.options.position,o)):o=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(o),t||this.uiDialog.hide()}})}(jQuery),/*!
 * jQuery UI Droppable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(e){function t(e,t,o){return e>t&&t+o>e}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,o=this.options,i=o.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},e.ui.ddmanager.droppables[o.scope]=e.ui.ddmanager.droppables[o.scope]||[],e.ui.ddmanager.droppables[o.scope].push(this),o.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,o=e.ui.ddmanager.droppables[this.options.scope];t<o.length;t++)o[t]===this&&o.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,o){"accept"===t&&(this.accept=e.isFunction(o)?o:function(e){return e.is(o)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),o&&this._trigger("activate",t,this.ui(o))},_deactivate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),o&&this._trigger("deactivate",t,this.ui(o))},_over:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(o)))},_out:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(o)))},_drop:function(t,o){var i=o||e.ui.ddmanager.current,n=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,o,i){if(!o.offset)return!1;var n,s,a=(e.positionAbs||e.position.absolute).left,r=(e.positionAbs||e.position.absolute).top,l=a+e.helperProportions.width,c=r+e.helperProportions.height,d=o.offset.left,u=o.offset.top,h=d+o.proportions().width,m=u+o.proportions().height;switch(i){case"fit":return a>=d&&h>=l&&r>=u&&m>=c;case"intersect":return d<a+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&u<r+e.helperProportions.height/2&&c-e.helperProportions.height/2<m;case"pointer":return n=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(s,u,o.proportions().height)&&t(n,d,o.proportions().width);case"touch":return(r>=u&&m>=r||c>=u&&m>=c||u>r&&c>m)&&(a>=d&&h>=a||l>=d&&h>=l||d>a&&l>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,o){var i,n,s=e.ui.ddmanager.droppables[t.options.scope]||[],a=o?o.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(n=0;n<r.length;n++)if(r[n]===s[i].element[0]){s[i].proportions().height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===a&&s[i]._activate.call(s[i],o),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(t,o){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,o)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))}),i},dragStart:function(t,o){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)})},drag:function(t,o){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,o),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,n,s,a=e.ui.intersect(t,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===n}),s.length&&(i=e.data(s[0],"ui-droppable"),i.greedyChild="isover"===r)),i&&"isover"===r&&(i.isover=!1,i.isout=!0,i._out.call(i,o)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,o),i&&"isout"===r&&(i.isout=!1,i.isover=!0,i._over.call(i,o)))}})},dragStop:function(t,o){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)}}}(jQuery),/*!
 * jQuery UI Effects 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e,t){var o="ui-effects-";e.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(e,t){function o(e,t,o){var i=u[t.type]||{};return null==e?o||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var o=c(),i=o._rgba=[];return t=t.toLowerCase(),p(l,function(e,n){var s,a=n.re.exec(t),r=a&&n.parse(a),l=n.space||"rgba";return r?(s=o[l](r),o[d[l].cache]=s[d[l].cache],i=o._rgba=s._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),o):s[t]}function n(e,t,o){return o=(o+1)%1,1>6*o?e+(t-e)*o*6:1>2*o?t:2>3*o?e+(t-e)*(2/3-o)*6:e}var s,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,o,i,n){return new e.Color.fn.parse(t,o,i,n)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},m=e("<p>")[0],p=e.each;m.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=m.style.backgroundColor.indexOf("rgba")>-1,p(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(n,a,r,l){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(a),a=t);var u=this,h=e.type(n),m=this._rgba=[];return a!==t&&(n=[n,a,r,l],h="array"),"string"===h?this.parse(i(n)||s._default):"array"===h?(p(d.rgba.props,function(e,t){m[t.idx]=o(n[t.idx],t)}),this):"object"===h?(n instanceof c?p(d,function(e,t){n[t.cache]&&(u[t.cache]=n[t.cache].slice())}):p(d,function(t,i){var s=i.cache;p(i.props,function(e,t){if(!u[s]&&i.to){if("alpha"===e||null==n[e])return;u[s]=i.to(u._rgba)}u[s][t.idx]=o(n[e],t,!0)}),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,i.from&&(u._rgba=i.from(u[s])))}),this):void 0},is:function(e){var t=c(e),o=!0,i=this;return p(d,function(e,n){var s,a=t[n.cache];return a&&(s=i[n.cache]||n.to&&n.to(i._rgba)||[],p(n.props,function(e,t){return null!=a[t.idx]?o=a[t.idx]===s[t.idx]:void 0})),o}),o},_space:function(){var e=[],t=this;return p(d,function(o,i){t[i.cache]&&e.push(o)}),e.pop()},transition:function(e,t){var i=c(e),n=i._space(),s=d[n],a=0===this.alpha()?c("transparent"):this,r=a[s.cache]||s.to(a._rgba),l=r.slice();return i=i[s.cache],p(s.props,function(e,n){var s=n.idx,a=r[s],c=i[s],d=u[n.type]||{};null!==c&&(null===a?l[s]=c:(d.mod&&(c-a>d.mod/2?a+=d.mod:a-c>d.mod/2&&(a-=d.mod)),l[s]=o((c-a)*t+a,n)))}),this[n](l)},blend:function(t){if(1===this._rgba[3])return this;var o=this._rgba.slice(),i=o.pop(),n=c(t)._rgba;return c(e.map(o,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var t="rgba(",o=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===o[3]&&(o.pop(),t="rgb("),t+o.join()+")"},toHslaString:function(){var t="hsla(",o=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===o[3]&&(o.pop(),t="hsl("),t+o.join()+")"},toHexString:function(t){var o=this._rgba.slice(),i=o.pop();return t&&o.push(~~(255*i)),"#"+e.map(o,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,o,i=e[0]/255,n=e[1]/255,s=e[2]/255,a=e[3],r=Math.max(i,n,s),l=Math.min(i,n,s),c=r-l,d=r+l,u=.5*d;return t=l===r?0:i===r?60*(n-s)/c+360:n===r?60*(s-i)/c+120:60*(i-n)/c+240,o=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(t)%360,o,u,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,o=e[1],i=e[2],s=e[3],a=.5>=i?i*(1+o):i+o-i*o,r=2*i-a;return[Math.round(255*n(r,a,t+1/3)),Math.round(255*n(r,a,t)),Math.round(255*n(r,a,t-1/3)),s]},p(d,function(i,n){var s=n.props,a=n.cache,l=n.to,d=n.from;c.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var n,r=e.type(i),u="array"===r||"object"===r?i:arguments,h=this[a].slice();return p(s,function(e,t){var i=u["object"===r?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=o(i,t)}),d?(n=c(d(h)),n[a]=h,n):c(h)},p(s,function(t,o){c.fn[t]||(c.fn[t]=function(n){var s,a=e.type(n),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),d=c[o.idx];return"undefined"===a?d:("function"===a&&(n=n.call(this,d),a=e.type(n)),null==n&&o.empty?this:("string"===a&&(s=r.exec(n),s&&(n=d+parseFloat(s[2])*("+"===s[1]?1:-1))),c[o.idx]=n,this[l](c)))})})}),c.hook=function(t){var o=t.split(" ");p(o,function(t,o){e.cssHooks[o]={set:function(t,n){var s,a,r="";if("transparent"!==n&&("string"!==e.type(n)||(s=i(n)))){if(n=c(s||n),!h.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===o?t.parentNode:t;(""===r||"transparent"===r)&&a&&a.style;)try{r=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[o]=n}catch(l){}}},e.fx.step[o]=function(t){t.colorInit||(t.start=c(t.elem,o),t.end=c(t.end),t.colorInit=!0),e.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(o,i){t["border"+i+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function o(t){var o,i,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)o=n[i],"string"==typeof n[o]&&(s[e.camelCase(o)]=n[o]);else for(o in n)"string"==typeof n[o]&&(s[o]=n[o]);return s}function i(t,o){var i,n,a={};for(i in o)n=o[i],t[i]!==n&&(s[i]||(e.fx.step[i]||!isNaN(parseFloat(n)))&&(a[i]=n));return a}var n=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,o){e.fx.step[o]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,o,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,s,a,r){var l=e.speed(s,a,r);return this.queue(function(){var s,a=e(this),r=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var t=e(this);return{el:t,start:o(this)}}),s=function(){e.each(n,function(e,o){t[o]&&a[o+"Class"](t[o])})},s(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),c=c.map(function(){var t=this,o=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,i),o.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(o,i,n,s){return i?e.effects.animateClass.call(this,{add:o},i,n,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(o,i,n,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:o},i,n,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(o){return function(i,n,s,a,r){return"boolean"==typeof n||n===t?s?e.effects.animateClass.call(this,n?{add:i}:{remove:i},s,a,r):o.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,s,a)}}(e.fn.toggleClass),switchClass:function(t,o,i,n,s){return e.effects.animateClass.call(this,{add:o,remove:t},i,n,s)}})}(),function(){function i(t,o,i,n){return e.isPlainObject(t)&&(o=t,t=t.effect),t={effect:t},null==o&&(o={}),e.isFunction(o)&&(n=o,i=null,o={}),("number"==typeof o||e.fx.speeds[o])&&(n=i,i=o,o={}),e.isFunction(i)&&(n=i,i=null),o&&e.extend(t,o),i=i||o.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=n||o.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.4",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(o+t[i],e[0].style[t[i]])},restore:function(e,i){var n,s;for(s=0;s<i.length;s++)null!==i[s]&&(n=e.data(o+i[s]),n===t&&(n=""),e.css(i[s],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var o,i;switch(e[0]){case"top":o=0;break;case"middle":o=.5;break;case"bottom":o=1;break;default:o=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:o}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(a){s=document.body}return t.wrap(i),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){o[i]=t.css(i),isNaN(parseInt(o[i],10))&&(o[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),i.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t},setTransition:function(t,o,i,n){return n=n||{},e.each(o,function(e,o){var s=t.cssUnit(o);s[0]>0&&(n[o]=s[0]*i+s[1])}),n}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(s)&&s.call(n[0]),e.isFunction(t)&&t()}var n=e(this),s=o.complete,r=o.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):a.call(n[0],o,i)}var o=i.apply(this,arguments),n=o.mode,s=o.queue,a=e.effects.effect[o.effect];return e.fx.off||!a?n?this[n](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):s===!1?this.each(t):this.queue(s||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var o=i.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var o=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){o.indexOf(t)>0&&(i=[parseFloat(o),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,o){t[o]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,o=4;e<((t=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,o){e.easing["easeIn"+t]=o,e.easing["easeOut"+t]=function(e){return 1-o(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?o(2*e)/2:1-o(-2*e+2)/2}})}()}(jQuery),/*!
 * jQuery UI Effects Blind 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){var t=/up|down|vertical/,o=/up|left|vertical|horizontal/;e.effects.effect.blind=function(i,n){var s,a,r,l=e(this),c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(l,i.mode||"hide"),u=i.direction||"up",h=t.test(u),m=h?"height":"width",p=h?"top":"left",f=o.test(u),g={},b="show"===d;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),s=e.effects.createWrapper(l).css({overflow:"hidden"}),a=s[m](),r=parseFloat(s.css(p))||0,g[m]=b?a:0,f||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[p]=b?r:a+r),b&&(s.css(m,0),f||s.css(p,r+a)),s.animate(g,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){"hide"===d&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),n()}})}}(jQuery),/*!
 * jQuery UI Effects Bounce 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.bounce=function(t,o){var i,n,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",h=t.distance,m=t.times||5,p=2*m+(d||c?1:0),f=t.duration/p,g=t.easing,b="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,_=a.queue(),w=_.length;for((d||c)&&r.push("opacity"),e.effects.save(a,r),a.show(),e.effects.createWrapper(a),h||(h=a["top"===b?"outerHeight":"outerWidth"]()/3),d&&(s={opacity:1},s[b]=0,a.css("opacity",0).css(b,v?2*-h:2*h).animate(s,f,g)),c&&(h/=Math.pow(2,m-1)),s={},s[b]=0,i=0;m>i;i++)n={},n[b]=(v?"-=":"+=")+h,a.animate(n,f,g).animate(s,f,g),h=c?2*h:h/2;c&&(n={opacity:0},n[b]=(v?"-=":"+=")+h,a.animate(n,f,g)),a.queue(function(){c&&a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),o()}),w>1&&_.splice.apply(_,[1,0].concat(_.splice(w,p+1))),a.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Clip 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.clip=function(t,o){var i,n,s,a=e(this),r=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),c="show"===l,d=t.direction||"vertical",u="vertical"===d,h=u?"height":"width",m=u?"top":"left",p={};e.effects.save(a,r),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?i:a,s=n[h](),c&&(n.css(h,0),n.css(m,s/2)),p[h]=c?s:0,p[m]=c?0:s/2,n.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||a.hide(),e.effects.restore(a,r),e.effects.removeWrapper(a),o()}})}}(jQuery),/*!
 * jQuery UI Effects Drop 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.drop=function(t,o){var i,n=e(this),s=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(n,t.mode||"hide"),r="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};e.effects.save(n,s),n.show(),e.effects.createWrapper(n),i=t.distance||n["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(c,"pos"===d?-i:i),u[c]=(r?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+i,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),o()}})}}(jQuery),/*!
 * jQuery UI Effects Explode 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.explode=function(t,o){function i(){_.push(this),_.length===u*h&&n()}function n(){m.css({visibility:"visible"}),e(_).remove(),f||m.hide(),o()}var s,a,r,l,c,d,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=u,m=e(this),p=e.effects.setMode(m,t.mode||"hide"),f="show"===p,g=m.show().css("visibility","hidden").offset(),b=Math.ceil(m.outerWidth()/h),v=Math.ceil(m.outerHeight()/u),_=[];for(s=0;u>s;s++)for(l=g.top+s*v,d=s-(u-1)/2,a=0;h>a;a++)r=g.left+a*b,c=a-(h-1)/2,m.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*b,top:-s*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:b,height:v,left:r+(f?c*b:0),top:l+(f?d*v:0),opacity:f?0:1}).animate({left:r+(f?0:c*b),top:l+(f?0:d*v),opacity:f?1:0},t.duration||500,t.easing,i)}}(jQuery),/*!
 * jQuery UI Effects Fade 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.fade=function(t,o){var i=e(this),n=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:o})}}(jQuery),/*!
 * jQuery UI Effects Fold 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.fold=function(t,o){var i,n,s=e(this),a=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"hide"),l="show"===r,c="hide"===r,d=t.size||15,u=/([0-9]+)%/.exec(d),h=!!t.horizFirst,m=l!==h,p=m?["width","height"]:["height","width"],f=t.duration/2,g={},b={};e.effects.save(s,a),s.show(),i=e.effects.createWrapper(s).css({overflow:"hidden"}),n=m?[i.width(),i.height()]:[i.height(),i.width()],u&&(d=parseInt(u[1],10)/100*n[c?0:1]),l&&i.css(h?{height:0,width:d}:{height:d,width:0}),g[p[0]]=l?n[0]:d,b[p[1]]=l?n[1]:0,i.animate(g,f,t.easing).animate(b,f,t.easing,function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),o()})}}(jQuery),/*!
 * jQuery UI Effects Highlight 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.highlight=function(t,o){var i=e(this),n=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===s&&(a.opacity=0),e.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,n),o()}})}}(jQuery),/*!
 * jQuery UI Effects Pulsate 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.pulsate=function(t,o){var i,n=e(this),s=e.effects.setMode(n,t.mode||"show"),a="show"===s,r="hide"===s,l=a||"hide"===s,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,h=n.queue(),m=h.length;for((a||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),i=1;c>i;i++)n.animate({opacity:u},d,t.easing),u=1-u;n.animate({opacity:u},d,t.easing),n.queue(function(){r&&n.hide(),o()}),m>1&&h.splice.apply(h,[1,0].concat(h.splice(m,c+1))),n.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Scale 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.puff=function(t,o){var i=e(this),n=e.effects.setMode(i,t.mode||"hide"),s="hide"===n,a=parseInt(t.percent,10)||150,r=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:o,percent:s?a:100,from:s?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),i.effect(t)},e.effects.effect.scale=function(t,o){var i=e(this),n=e.extend(!0,{},t),s=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",l=t.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=o,"effect"!==s&&(n.origin=l||["middle","center"],n.restore=!0),n.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),n.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},n.fade&&("show"===s&&(n.from.opacity=0,n.to.opacity=1),"hide"===s&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)},e.effects.effect.size=function(t,o){var i,n,s,a=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],m=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==m,f=t.scale||"both",g=t.origin||["middle","center"],b=a.css("position"),v=p?r:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===m&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===m?(a.from=t.to||_,a.to=t.from||i):(a.from=t.from||("show"===m?_:i),a.to=t.to||("hide"===m?_:i)),s={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===f||"both"===f)&&(s.from.y!==s.to.y&&(v=v.concat(u),a.from=e.effects.setTransition(a,u,s.from.y,a.from),a.to=e.effects.setTransition(a,u,s.to.y,a.to)),s.from.x!==s.to.x&&(v=v.concat(h),a.from=e.effects.setTransition(a,h,s.from.x,a.from),a.to=e.effects.setTransition(a,h,s.to.x,a.to))),("content"===f||"both"===f)&&s.from.y!==s.to.y&&(v=v.concat(d).concat(c),a.from=e.effects.setTransition(a,d,s.from.y,a.from),a.to=e.effects.setTransition(a,d,s.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(n=e.effects.getBaseline(g,i),a.from.top=(i.outerHeight-a.outerHeight())*n.y,a.from.left=(i.outerWidth-a.outerWidth())*n.x,a.to.top=(i.outerHeight-a.to.outerHeight)*n.y,a.to.left=(i.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===f||"both"===f)&&(u=u.concat(["marginTop","marginBottom"]).concat(d),h=h.concat(["marginLeft","marginRight"]),c=r.concat(u).concat(h),a.find("*[width]").each(function(){var o=e(this),i={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()};p&&e.effects.save(o,c),o.from={height:i.height*s.from.y,width:i.width*s.from.x,outerHeight:i.outerHeight*s.from.y,outerWidth:i.outerWidth*s.from.x},o.to={height:i.height*s.to.y,width:i.width*s.to.x,outerHeight:i.height*s.to.y,outerWidth:i.width*s.to.x},s.from.y!==s.to.y&&(o.from=e.effects.setTransition(o,u,s.from.y,o.from),o.to=e.effects.setTransition(o,u,s.to.y,o.to)),s.from.x!==s.to.x&&(o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to)),o.css(o.from),o.animate(o.to,t.duration,t.easing,function(){p&&e.effects.restore(o,c)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===m&&a.hide(),e.effects.restore(a,v),p||("static"===b?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,o){var i=parseInt(o,10),n=e?a.to.left:a.to.top;return"auto"===o?n+"px":i+n+"px"})})),e.effects.removeWrapper(a),o()}})}}(jQuery),/*!
 * jQuery UI Effects Shake 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.shake=function(t,o){var i,n=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),h="up"===r||"down"===r?"top":"left",m="up"===r||"left"===r,p={},f={},g={},b=n.queue(),v=b.length;for(e.effects.save(n,s),n.show(),e.effects.createWrapper(n),p[h]=(m?"-=":"+=")+l,f[h]=(m?"+=":"-=")+2*l,g[h]=(m?"-=":"+=")+2*l,n.animate(p,u,t.easing),i=1;c>i;i++)n.animate(f,u,t.easing).animate(g,u,t.easing);n.animate(f,u,t.easing).animate(p,u/2,t.easing).queue(function(){"hide"===a&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),o()}),v>1&&b.splice.apply(b,[1,0].concat(b.splice(v,d+1))),n.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Slide 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.slide=function(t,o){var i,n=e(this),s=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(n,t.mode||"show"),r="show"===a,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(n,s),n.show(),i=t.distance||n["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(c,d?isNaN(i)?"-"+i:-i:i),u[c]=(r?d?"+=":"-=":d?"-=":"+=")+i,n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),o()}})}}(jQuery),/*!
 * jQuery UI Effects Transfer 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.transfer=function(t,o){var i=e(this),n=e(t.to),s="fixed"===n.css("position"),a=e("body"),r=s?a.scrollTop():0,l=s?a.scrollLeft():0,c=n.offset(),d={top:c.top-r,left:c.left-l,height:n.innerHeight(),width:n.innerWidth()},u=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-r,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){h.remove(),o()})}}(jQuery),/*!
 * jQuery UI Progressbar 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(e,t){e.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,o=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(o.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),/*!
 * jQuery UI Selectable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,o=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(o.options.filter,o.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),o=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:o.left,top:o.top,right:o.left+t.outerWidth(),bottom:o.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var o=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,o._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,n=e.data(this,"selectable-item");return n?(i=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),n.unselecting=!i,n.selecting=i,n.selected=i,i?o._trigger("selecting",t,{selecting:n.element}):o._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,n=this.options,s=this.opos[0],a=this.opos[1],r=t.pageX,l=t.pageY;return s>r&&(o=r,r=s,s=o),a>l&&(o=l,l=a,a=o),this.helper.css({left:s,top:a,width:r-s,height:l-a}),this.selectees.each(function(){var o=e.data(this,"selectable-item"),c=!1;o&&o.element!==i.element[0]&&("touch"===n.tolerance?c=!(o.left>r||o.right<s||o.top>l||o.bottom<a):"fit"===n.tolerance&&(c=o.left>s&&o.right<r&&o.top>a&&o.bottom<l),c?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var o=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,o._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,o._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),/*!
 * jQuery UI Slider 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,o,i=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(o=i.values&&i.values.length||1,n.length>o&&(n.slice(o).remove(),n=n.slice(0,o)),t=n.length;o>t;t++)a.push(s);this.handles=n.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,o="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),o="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(o+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var o,i,n,s,a,r,l,c,d=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(o),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var o=Math.abs(i-d.values(t));(n>o||n===o&&(t===d._lastChangedValue||d.values(t)===u.min))&&(n=o,s=e(this),a=t)}),r=this._start(t,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},o=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,o),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,o,i,n,s;return"horizontal"===this.orientation?(t=this.elementSize.width,o=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,o=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=o/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),s=this._valueMin()+i*n,this._trimAlignValue(s)},_start:function(e,t){var o={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("start",e,o)},_slide:function(e,t,o){var i,n,s;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&o>i||1===t&&i>o)&&(o=i),o!==this.values(t)&&(n=this.values(),n[t]=o,s=this._trigger("slide",e,{handle:this.handles[t],value:o,values:n}),i=this.values(t?0:1),s!==!1&&this.values(t,o))):o!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:o}),s!==!1&&this.value(o))},_stop:function(e,t){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("stop",e,o)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,o)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,o){var i,n,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(o),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,n=arguments[0],s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(n[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,o){var i,n=0;switch("range"===t&&this.options.range===!0&&("min"===o?(this.options.value=this._values(0),this.options.values=null):"max"===o&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;n>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,o,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(o=this.options.values.slice(),i=0;i<o.length;i+=1)o[i]=this._trimAlignValue(o[i]);return o}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,o=(e-this._valueMin())%t,i=e-o;return 2*Math.abs(o)>=t&&(i+=o>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,o,i,n,s,a=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(i){o=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d["horizontal"===l.orientation?"left":"bottom"]=o+"%",e(this).stop(1,1)[c?"animate":"css"](d,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:o+"%"},r.animate),1===i&&l.range[c?"animate":"css"]({width:o-t+"%"},{queue:!1,duration:r.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:o+"%"},r.animate),1===i&&l.range[c?"animate":"css"]({height:o-t+"%"},{queue:!1,duration:r.animate}))),t=o}):(i=this.value(),n=this._valueMin(),s=this._valueMax(),o=s!==n?(i-n)/(s-n)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=o+"%",this.handle.stop(1,1)[c?"animate":"css"](d,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:o+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-o+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:o+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-o+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(o){var i,n,s,a,r=e(o.target).data("ui-slider-handle-index");switch(o.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(o.target).addClass("ui-state-active"),i=this._start(o,r),i===!1))return}switch(a=this.options.step,n=s=this.options.values&&this.options.values.length?this.values(r):this.value(),o.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;s=this._trimAlignValue(n+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;s=this._trimAlignValue(n-a)}this._slide(o,r,s)},click:function(e){e.preventDefault()},keyup:function(t){var o=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,o),this._change(t,o),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e,t,o){return e>t&&t+o>e}function o(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||o(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,o){"disabled"===t?(this.options[t]=o,this.widget().toggleClass("ui-sortable-disabled",!!o)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,o){var i=null,n=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(i=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(i=e(t.target)),i&&(!this.options.handle||o||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,o,i){var n,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var o,i,n,s,a=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o=this.items.length-1;o>=0;o--)if(i=this.items[o],n=i.item[0],s=this._intersectsWithPointer(i),s&&i.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,o){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,o);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var o=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(o).each(function(){var o=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);o&&i.push((t.key||o[1]+"[]")+"="+(t.key&&t.expression?o[1]:o[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var o=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},o.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,o=t+this.helperProportions.width,i=this.positionAbs.top,n=i+this.helperProportions.height,s=e.left,a=s+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||i+c>r&&l>i+c,h="y"===this.options.axis||t+d>s&&a>t+d,m=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?m:s<t+this.helperProportions.width/2&&o-this.helperProportions.width/2<a&&r<i+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var o="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=o&&i,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var o=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&o||"up"===n&&!o)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function o(){r.push(this)}var i,n,s,a,r=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(s=e(c[i]),n=s.length-1;n>=0;n--)a=e.data(s[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(o);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var o=0;o<t.length;o++)if(t[o]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var o,i,n,s,a,r,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(o=h.length-1;o>=0;o--)for(n=e(h[o]),i=n.length-1;i>=0;i--)s=e.data(n[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(o=u.length-1;o>=0;o--)for(a=u[o][1],r=u[o][0],i=0,c=r.length;c>i;i++)l=e(r[i]),l.data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var o,i,n,s;for(o=this.items.length-1;o>=0;o--)i=this.items[o],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),s=n.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(o=this.containers.length-1;o>=0;o--)s=this.containers[o].element.offset(),this.containers[o].containerCache.left=s.left,this.containers[o].containerCache.top=s.top,this.containers[o].containerCache.width=this.containers[o].element.outerWidth(),this.containers[o].containerCache.height=this.containers[o].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var o,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(o=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+i+">",t.document[0]).addClass(o||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}):"img"===i&&n.attr("src",t.currentItem.attr("src")),o||n.css("visibility","hidden"),n},update:function(e,n){(!o||i.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var n,s,a,r,l,c,d,u,h,m,p=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(p&&e.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",i,this._uiHash(this)),this.containers[n].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",i,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(a=1e4,r=null,m=p.floating||o(this.currentItem),l=m?"left":"top",c=m?"width":"height",d=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)e.contains(this.containers[f].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!m||t(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(u=this.items[s].item.offset()[l],h=!1,Math.abs(u-d)>Math.abs(u+this.items[s][c]-d)&&(h=!0,u+=this.items[s][c]),Math.abs(u-d)<a&&(a=Math.abs(u-d),r=this.items[s],this.direction=h?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;r?this._rearrange(i,r,null,!0):this._rearrange(i,null,this.containers[f].element,!0),this._trigger("change",i,this._uiHash()),this.containers[f]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",i,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var o=this.options,i=e.isFunction(o.helper)?e(o.helper.apply(this.element[0],[t,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||o.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||o.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],o=e(n.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[o.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,o.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,o.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,o.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,o){o||(o=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);return{top:o.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop())*i,left:o.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())*i}},_generatePosition:function(t){var o,i,n=this.options,s=t.pageX,a=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(o=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?o-this.offset.click.top>=this.containment[1]&&o-this.offset.click.top<=this.containment[3]?o:o-this.offset.click.top>=this.containment[1]?o-n.grid[1]:o+n.grid[1]:o,i=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,o,i){o?o[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function o(e,t,o){return function(i){o._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var o=t||this;return{helper:o.helper,placeholder:o.placeholder||e([]),position:o.position,originalPosition:o.originalPosition,offset:o.positionAbs,item:o.currentItem,sender:t?t.element:null}}})}(jQuery),/*!
 * jQuery UI Spinner 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.widget.js
 *  jquery.ui.button.js
 */
function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},o=this.element;return e.each(["min","max","step"],function(e,i){var n=o.attr(i);void 0!==n&&n.length&&(t[i]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function o(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),o.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,o.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var o=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,o.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-o.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,o){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,o)},e),this._spin(t*this.options.step,o)},_spin:function(e,t){var o=this.value()||0;this.counter||(this.counter=1),o=this._adjustValue(o+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:o})===!1||(this._value(o),this.counter++)},_increment:function(t){var o=this.options.incremental;return o?e.isFunction(o)?o(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),o=t.indexOf(".");return-1===o?0:t.length-o-1},_adjustValue:function(e){var t,o,i=this.options;return t=null!==i.min?i.min:0,o=e-t,o=Math.round(o/i.step)*i.step,e=t+o,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var o=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(o))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var o;""!==e&&(o=this._parse(e),null!==o&&(t||(o=this._adjustValue(o)),e=this._format(o))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),/*!
 * jQuery UI Tabs 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e,t){function o(){return++n}function i(e){return e=e.cloneNode(!1),e.hash.length>1&&decodeURIComponent(e.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var n=0,s=/#.*$/;e.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,o=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",o.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),o.active=this._initialActive(),e.isArray(o.disabled)&&(o.disabled=e.unique(o.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(o.active):e(),this._refresh(),this.active.length&&this.load(o.active)},_initialActive:function(){var t=this.options.active,o=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(o,n){return e(n).attr("aria-controls")===i?(t=o,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=o?!1:0)),!o&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var o=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(o),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),t.ctrlKey||(o.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,o){function i(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=o?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+o()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,o=this.tablist.children(":has(a[href])");t.disabled=e.map(o.filter(".ui-state-disabled"),function(e){return o.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(o,n){var s,a,r,l=e(n).uniqueId().attr("id"),c=e(n).closest("li"),d=c.attr("aria-controls");i(n)?(s=n.hash,a=t.element.find(t._sanitizeSelector(s))):(r=t._tabId(c),s="#"+r,a=t.element.find(s),a.length||(a=t._createPanel(r),a.insertAfter(t.panels[o-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),d&&c.data("ui-tabs-aria-controls",d),c.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var o,i=0;o=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(o).addClass("ui-state-disabled").attr("aria-disabled","true"):e(o).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var o={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){o[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,o),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var o,i=this.element.parent();"fill"===t?(o=i.height(),o-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(o-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){o-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,o-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(o=0,this.panels.each(function(){o=Math.max(o,e(this).height("").height())}).height(o))},_eventHandler:function(t){var o=this.options,i=this.active,n=e(t.currentTarget),s=n.closest("li"),a=s[0]===i[0],r=a&&o.collapsible,l=r?e():this._getPanelForTab(s),c=i.length?this._getPanelForTab(i):e(),d={oldTab:i,oldPanel:c,newTab:r?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||a&&!o.collapsible||this._trigger("beforeActivate",t,d)===!1||(o.active=r?!1:this.tabs.index(s),this.active=a?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,d))},_toggle:function(t,o){function i(){s.running=!1,s._trigger("activate",t,o)}function n(){o.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&s.options.show?s._show(a,s.options.show,i):(a.show(),i())}var s=this,a=o.newPanel,r=o.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(o.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),o.oldTab.attr("aria-selected","false"),a.length&&r.length?o.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),o.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var o,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),o=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:o,currentTarget:o,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),o=t.data("ui-tabs-aria-controls");o?t.attr("aria-controls",o).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(o){var i=this.options.disabled;i!==!1&&(o===t?i=!1:(o=this._getIndex(o),i=e.isArray(i)?e.map(i,function(e){return e!==o?e:null}):e.map(this.tabs,function(e,t){return t!==o?t:null})),this._setupDisabled(i))},disable:function(o){var i=this.options.disabled;if(i!==!0){if(o===t)i=!0;else{if(o=this._getIndex(o),-1!==e.inArray(o,i))return;i=e.isArray(i)?e.merge([o],i).sort():[o]}this._setupDisabled(i)}},load:function(t,o){t=this._getIndex(t);var n=this,s=this.tabs.eq(t),a=s.find(".ui-tabs-anchor"),r=this._getPanelForTab(s),l={tab:s,panel:r};i(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,o,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){r.html(e),n._trigger("load",o,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&n.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,o,i){var n=this;return{url:t.attr("href"),beforeSend:function(t,s){return n._trigger("beforeLoad",o,e.extend({jqXHR:t,ajaxSettings:s},i))}}},_getPanelForTab:function(t){var o=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+o))}})}(jQuery),/*!
 * jQuery UI Tooltip 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){function t(t,o){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(o),t.data("ui-tooltip-id",o).attr("aria-describedby",e.trim(i.join(" ")))}function o(t){var o=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(o,i);-1!==n&&i.splice(n,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var i=0;e.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,o){var i=this;return"disabled"===t?(this[o?"_disable":"_enable"](),void(this.options[t]=o)):(this._super(t,o),void("content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(o,i){var n=e.Event("blur");n.target=n.currentTarget=i[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var o=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,o.close(t,!0)),i.attr("title")&&(i.uniqueId(),o.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(e,t){var o,i=this.options.content,n=this,s=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(o=i.call(e[0],function(o){e.data("ui-tooltip-open")&&n._delay(function(){t&&(t.type=s),this._open(t,e,o)})}),void(o&&this._open(t,e,o)))},_open:function(o,i,n){function s(e){c.of=e,a.is(":hidden")||a.position(c)}var a,r,l,c=e.extend({},this.options.position);if(n){if(a=this._find(i),a.length)return void a.find(".ui-tooltip-content").html(n);i.is("[title]")&&(o&&"mouseover"===o.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),t(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&o&&/^mouse/.test(o.type)?(this._on(this.document,{mousemove:s}),s(o)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(s(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",o,{tooltip:a}),r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var o=e.Event(t);o.currentTarget=i[0],this.close(o,!0)}},remove:function(){this._removeTooltip(a)}},o&&"mouseover"!==o.type||(r.mouseleave="close"),o&&"focusin"!==o.type||(r.focusout="close"),this._on(!0,i,r)}},close:function(t){var i=this,n=e(t?t.currentTarget:this.element),s=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),o(n),s.stop(!0),this._hide(s,this.options.hide,function(){i._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,o){e(o.element).attr("title",o.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var o="ui-tooltip-"+i++,n=e("<div>").attr({id:o,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[o]=t,n},_find:function(t){var o=t.data("ui-tooltip-id");return o?e("#"+o):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(o,i){var n=e.Event("blur");n.target=n.currentTarget=i[0],t.close(n,!0),e("#"+o).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(jQuery),function(e){var t;t=function(){function e(){}return e.prototype.setup=function(e,t,o,i){var n,s;return null==o&&(o=1),s=t.w/e.w,n=t.h/e.h,this.minZoom="fit"===(null!=i?i.minZoom:void 0)?n>s?s:n:n>s?n:s,this.maxZoom=this.minZoom<1/o?1/o:this.minZoom},e.prototype.getZoom=function(e){return this.minZoom&&this.maxZoom?e*(this.maxZoom-this.minZoom)+this.minZoom:null},e.prototype.getSliderPos=function(e){return this.minZoom&&this.maxZoom?this.minZoom===this.maxZoom?0:(e-this.minZoom)/(this.maxZoom-this.minZoom):null},e.prototype.isZoomable=function(){return this.minZoom&&this.maxZoom?this.minZoom!==this.maxZoom:null},e.prototype.fixZoom=function(e){return e<this.minZoom?this.minZoom:e>this.maxZoom?this.maxZoom:e},e}();var o;o=function(){function o(t,i){var n;this.element=t,this.$el=e(this.element),n={$fileInput:this.$("input.cropit-image-input"),$preview:this.$(".cropit-image-preview"),$zoomSlider:this.$("input.cropit-image-zoom-input"),$previewContainer:this.$(".cropit-image-preview-container")},this.options=e.extend({},o._DEFAULTS,n,i),this.init()}return o._DEFAULTS={exportZoom:1,imageBackground:!1,imageBackgroundBorderWidth:0,imageState:null,allowCrossOrigin:!1,allowDragNDrop:!0,freeMove:!1,minZoom:"fill"},o.PREVIEW_EVENTS=function(){return["mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","touchleave"].map(function(e){return""+e+".cropit"}).join(" ")}(),o.PREVIEW_MOVE_EVENTS="mousemove.cropit touchmove.cropit",o.ZOOM_INPUT_EVENTS=function(){return["mousemove","touchmove","change"].map(function(e){return""+e+".cropit"}).join(" ")}(),o.prototype.init=function(){var o,i,n,s;return this.image=new Image,this.options.allowCrossOrigin&&(this.image.crossOrigin="Anonymous"),this.$fileInput=this.options.$fileInput.attr({accept:"image/*"}),this.$preview=this.options.$preview.css({backgroundRepeat:"no-repeat"}),this.$zoomSlider=this.options.$zoomSlider.attr({min:0,max:1,step:.01}),this.previewSize={w:this.options.width||this.$preview.width(),h:this.options.height||this.$preview.height()},this.options.width&&this.$preview.width(this.previewSize.w),this.options.height&&this.$preview.height(this.previewSize.h),this.options.imageBackground&&(e.isArray(this.options.imageBackgroundBorderWidth)?this.imageBgBorderWidthArray=this.options.imageBackgroundBorderWidth:(this.imageBgBorderWidthArray=[],[0,1,2,3].forEach(function(e){return function(t){return e.imageBgBorderWidthArray[t]=e.options.imageBackgroundBorderWidth}}(this))),o=this.options.$previewContainer,this.$imageBg=e("<img />").addClass("cropit-image-background").attr("alt","").css("position","absolute"),this.$imageBgContainer=e("<div />").addClass("cropit-image-background-container").css({position:"absolute",zIndex:0,left:-this.imageBgBorderWidthArray[3]+window.parseInt(this.$preview.css("border-left-width")),top:-this.imageBgBorderWidthArray[0]+window.parseInt(this.$preview.css("border-top-width")),width:this.previewSize.w+this.imageBgBorderWidthArray[1]+this.imageBgBorderWidthArray[3],height:this.previewSize.h+this.imageBgBorderWidthArray[0]+this.imageBgBorderWidthArray[2]}).append(this.$imageBg),this.imageBgBorderWidthArray[0]>0&&this.$imageBgContainer.css({overflow:"hidden"}),o.css("position","relative").prepend(this.$imageBgContainer),this.$preview.css("position","relative"),this.$preview.hover(function(e){return function(){return e.$imageBg.addClass("cropit-preview-hovered")}}(this),function(e){return function(){return e.$imageBg.removeClass("cropit-preview-hovered")}}(this))),this.initialOffset={x:0,y:0},this.initialZoom=0,this.initialZoomSliderPos=0,this.imageLoaded=!1,this.moveContinue=!1,this.zoomer=new t,this.options.allowDragNDrop&&jQuery.event.props.push("dataTransfer"),this.bindListeners(),this.$zoomSlider.val(this.initialZoomSliderPos),this.setOffset((null!=(i=this.options.imageState)?i.offset:void 0)||this.initialOffset),this.zoom=(null!=(n=this.options.imageState)?n.zoom:void 0)||this.initialZoom,this.loadImage((null!=(s=this.options.imageState)?s.src:void 0)||null)},o.prototype.bindListeners=function(){return this.$fileInput.on("change.cropit",this.onFileChange.bind(this)),this.$preview.on(o.PREVIEW_EVENTS,this.onPreviewEvent.bind(this)),this.$zoomSlider.on(o.ZOOM_INPUT_EVENTS,this.onZoomSliderChange.bind(this)),this.options.allowDragNDrop?(this.$preview.on("dragover.cropit dragleave.cropit",this.onDragOver.bind(this)),this.$preview.on("drop.cropit",this.onDrop.bind(this))):void 0},o.prototype.unbindListeners=function(){return this.$fileInput.off("change.cropit"),this.$preview.off(o.PREVIEW_EVENTS),this.$preview.off("dragover.cropit dragleave.cropit drop.cropit"),this.$zoomSlider.off(o.ZOOM_INPUT_EVENTS)},o.prototype.reset=function(){return this.zoom=this.initialZoom,this.offset=this.initialOffset},o.prototype.onFileChange=function(){var e;return"function"==typeof(e=this.options).onFileChange&&e.onFileChange(),this.loadFileReader(this.$fileInput.get(0).files[0])},o.prototype.loadFileReader=function(e){var t;return t=new FileReader,(null!=e?e.type.match("image"):void 0)?(this.setImageLoadingClass(),t.readAsDataURL(e),t.onload=this.onFileReaderLoaded.bind(this),t.onerror=this.onFileReaderError.bind(this)):null!=e?this.onFileReaderError():void 0},o.prototype.onFileReaderLoaded=function(e){return this.reset(),this.loadImage(e.target.result)},o.prototype.onFileReaderError=function(){var e;return"function"==typeof(e=this.options).onFileReaderError?e.onFileReaderError():void 0},o.prototype.onDragOver=function(e){return e.preventDefault(),e.dataTransfer.dropEffect="copy",this.$preview.toggleClass("cropit-drag-hovered","dragover"===e.type)},o.prototype.onDrop=function(e){var t;return e.preventDefault(),e.stopPropagation(),t=Array.prototype.slice.call(e.dataTransfer.files,0),t.some(function(e){return function(t){return t.type.match("image")?(e.loadFileReader(t),!0):void 0}}(this)),this.$preview.removeClass("cropit-drag-hovered")},o.prototype.loadImage=function(e){var t;return this.imageSrc=e,this.imageSrc?("function"==typeof(t=this.options).onImageLoading&&t.onImageLoading(),this.setImageLoadingClass(),this.image.onload=this.onImageLoaded.bind(this),this.image.onerror=this.onImageError.bind(this),this.image.src=this.imageSrc):void 0},o.prototype.onImageLoaded=function(){var e;return this.setImageLoadedClass(),this.setOffset(this.offset),this.$preview.css("background-image","url("+this.imageSrc+")"),this.options.imageBackground&&this.$imageBg.attr("src",this.imageSrc),this.imageSize={w:this.image.width,h:this.image.height},this.setupZoomer(),this.imageLoaded=!0,"function"==typeof(e=this.options).onImageLoaded?e.onImageLoaded():void 0},o.prototype.onImageError=function(){var e;return"function"==typeof(e=this.options).onImageError?e.onImageError():void 0},o.prototype.setImageLoadingClass=function(){return this.$preview.removeClass("cropit-image-loaded").addClass("cropit-image-loading")},o.prototype.setImageLoadedClass=function(){return this.$preview.removeClass("cropit-image-loading").addClass("cropit-image-loaded")},o.prototype.getEventPosition=function(e){var t,o,i,n;return(null!=(t=e.originalEvent)&&null!=(o=t.touches)?o[0]:void 0)&&(e=null!=(i=e.originalEvent)&&null!=(n=i.touches)?n[0]:void 0),e.clientX&&e.clientY?{x:e.clientX,y:e.clientY}:void 0},o.prototype.onPreviewEvent=function(t){return this.imageLoaded?(this.moveContinue=!1,this.$preview.off(o.PREVIEW_MOVE_EVENTS),"mousedown"===t.type||"touchstart"===t.type?(this.origin=this.getEventPosition(t),this.moveContinue=!0,this.$preview.on(o.PREVIEW_MOVE_EVENTS,this.onMove.bind(this))):e(document.body).focus(),t.stopPropagation(),!1):void 0},o.prototype.onMove=function(e){var t;return t=this.getEventPosition(e),this.moveContinue&&t&&this.setOffset({x:this.offset.x+t.x-this.origin.x,y:this.offset.y+t.y-this.origin.y}),this.origin=t,e.stopPropagation(),!1},o.prototype.setOffset=function(e){return this.offset=this.fixOffset(e),this.$preview.css("background-position",""+this.offset.x+"px "+this.offset.y+"px"),this.options.imageBackground?this.$imageBg.css({left:this.offset.x+this.imageBgBorderWidthArray[3],top:this.offset.y+this.imageBgBorderWidthArray[0]}):void 0},o.prototype.fixOffset=function(e){var t;return this.imageLoaded?(t={x:e.x,y:e.y},this.options.freeMove||(t.x=this.imageSize.w*this.zoom>=this.previewSize.w?Math.min(0,Math.max(t.x,this.previewSize.w-this.imageSize.w*this.zoom)):Math.max(0,Math.min(t.x,this.previewSize.w-this.imageSize.w*this.zoom)),t.y=this.imageSize.h*this.zoom>=this.previewSize.h?Math.min(0,Math.max(t.y,this.previewSize.h-this.imageSize.h*this.zoom)):Math.max(0,Math.min(t.y,this.previewSize.h-this.imageSize.h*this.zoom))),t.x=this.round(t.x),t.y=this.round(t.y),t):e},o.prototype.onZoomSliderChange=function(){var e;if(this.imageLoaded)return this.zoomSliderPos=Number(this.$zoomSlider.val()),e=this.zoomer.getZoom(this.zoomSliderPos),this.setZoom(e)},o.prototype.enableZoomSlider=function(){var e;return this.$zoomSlider.removeAttr("disabled"),"function"==typeof(e=this.options).onZoomEnabled?e.onZoomEnabled():void 0},o.prototype.disableZoomSlider=function(){var e;return this.$zoomSlider.attr("disabled",!0),"function"==typeof(e=this.options).onZoomDisabled?e.onZoomDisabled():void 0},o.prototype.setupZoomer=function(){return this.zoomer.setup(this.imageSize,this.previewSize,this.options.exportZoom,this.options),this.zoom=this.fixZoom(this.zoom),this.setZoom(this.zoom),this.isZoomable()?this.enableZoomSlider():this.disableZoomSlider()},o.prototype.setZoom=function(e){var t,o,i,n,s;return e=this.fixZoom(e),s=this.round(this.imageSize.w*e),n=this.round(this.imageSize.h*e),i=this.zoom,t=this.previewSize.w/2-(this.previewSize.w/2-this.offset.x)*e/i,o=this.previewSize.h/2-(this.previewSize.h/2-this.offset.y)*e/i,this.zoom=e,this.setOffset({x:t,y:o}),this.zoomSliderPos=this.zoomer.getSliderPos(this.zoom),this.$zoomSlider.val(this.zoomSliderPos),this.$preview.css("background-size",""+s+"px "+n+"px"),this.options.imageBackground?this.$imageBg.css({width:s,height:n}):void 0},o.prototype.fixZoom=function(e){return this.zoomer.fixZoom(e)},o.prototype.isZoomable=function(){return this.zoomer.isZoomable()},o.prototype.getCroppedImageData=function(t){var o,i,n,s,a;return this.imageSrc?(s={type:"image/png",quality:.75,originalSize:!1,fillBg:"#fff"},t=e.extend({},s,t),n={w:this.previewSize.w,h:this.previewSize.h},a=t.originalSize?1/this.zoom:this.options.exportZoom,o=e("<canvas />").attr({width:n.w*a,height:n.h*a}).get(0),i=o.getContext("2d"),"image/jpeg"===t.type&&(i.fillStyle=t.fillBg,i.fillRect(0,0,o.width,o.height)),i.drawImage(this.image,this.offset.x*a,this.offset.y*a,this.zoom*a*this.imageSize.w,this.zoom*a*this.imageSize.h),o.toDataURL(t.type,t.quality)):null},o.prototype.getImageState=function(){return{src:this.imageSrc,offset:this.offset,zoom:this.zoom}},o.prototype.getImageSrc=function(){return this.imageSrc},o.prototype.getOffset=function(){return this.offset},o.prototype.getZoom=function(){return this.zoom},o.prototype.getImageSize=function(){return this.imageSize?{width:this.imageSize.w,height:this.imageSize.h}:null},o.prototype.getPreviewSize=function(){return{width:this.previewSize.w,height:this.previewSize.h}},o.prototype.setPreviewSize=function(e){return(null!=e?e.width:void 0)>0&&(null!=e?e.height:void 0)>0?(this.previewSize={w:e.width,h:e.height},this.$preview.css({width:this.previewSize.w,height:this.previewSize.h}),this.options.imageBackground&&this.$imageBgContainer.css({width:this.previewSize.w+this.imageBgBorderWidthArray[1]+this.imageBgBorderWidthArray[3],height:this.previewSize.h+this.imageBgBorderWidthArray[0]+this.imageBgBorderWidthArray[2]}),this.imageLoaded?this.setupZoomer():void 0):void 0},o.prototype.disable=function(){return this.unbindListeners(),this.disableZoomSlider(),this.$el.addClass("cropit-disabled")},o.prototype.reenable=function(){return this.bindListeners(),this.enableZoomSlider(),this.$el.removeClass("cropit-disabled")},o.prototype.round=function(e){return+(Math.round(100*e)+"e-2")},o.prototype.$=function(e){return this.$el?this.$el.find(e):null},o}();var i,n;i="cropit",n={init:function(t){return this.each(function(){var n;return e.data(this,i)?void 0:(n=new o(this,t),e.data(this,i,n))})},destroy:function(){return this.each(function(){return e.removeData(this,i)})},isZoomable:function(){var e;return e=this.first().data(i),null!=e?e.isZoomable():void 0},"export":function(e){var t;return t=this.first().data(i),null!=t?t.getCroppedImageData(e):void 0},imageState:function(){var e;return e=this.first().data(i),null!=e?e.getImageState():void 0},imageSrc:function(t){var o;return null!=t?this.each(function(){var o;return o=e.data(this,i),null!=o&&o.reset(),null!=o?o.loadImage(t):void 0}):(o=this.first().data(i),null!=o?o.getImageSrc():void 0)},offset:function(t){var o;return null!=t&&null!=t.x&&null!=t.y?this.each(function(){var o;return o=e.data(this,i),null!=o?o.setOffset(t):void 0}):(o=this.first().data(i),null!=o?o.getOffset():void 0)},zoom:function(t){var o;return null!=t?this.each(function(){var o;return o=e.data(this,i),null!=o?o.setZoom(t):void 0}):(o=this.first().data(i),null!=o?o.getZoom():void 0)},imageSize:function(){var e;return e=this.first().data(i),null!=e?e.getImageSize():void 0},previewSize:function(t){var o;return null!=t?this.each(function(){var o;return o=e.data(this,i),null!=o?o.setPreviewSize(t):void 0}):(o=this.first().data(i),null!=o?o.getPreviewSize():void 0)},disable:function(){return this.each(function(){var t;return t=e.data(this,i),t.disable()})},reenable:function(){return this.each(function(){var t;return t=e.data(this,i),t.reenable()})}},e.fn.cropit=function(e){return n[e]?n[e].apply(this,[].slice.call(arguments,1)):n.init.apply(this,arguments)}}(window.jQuery),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var o,i=e(document);e.rails=o={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var o=e('meta[name="csrf-token"]').attr("content");o&&t.setRequestHeader("X-CSRF-Token",o)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),o=e("meta[name=csrf-param]").attr("content");e('form input[name="'+o+'"]').val(t)},fire:function(t,o,i){var n=e.Event(o);return t.trigger(n,i),n.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var n,s,a,r,l,c,d,u;if(o.fire(i,"ajax:before")){if(r=i.data("cross-domain"),l=r===t?null:r,c=i.data("with-credentials")||null,d=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){n=i.attr("method"),s=i.attr("action"),a=i.serializeArray();var h=i.data("ujs:submit-button");h&&(a.push(h),i.data("ujs:submit-button",null))}else i.is(o.inputChangeSelector)?(n=i.data("method"),s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(o.buttonClickSelector)?(n=i.data("method")||"get",s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(n=i.data("method"),s=o.href(i),a=i.data("params")||null);u={type:n||"GET",data:a,dataType:d,beforeSend:function(e,n){return n.dataType===t&&e.setRequestHeader("accept","*

 /*
Copyright 2012 Igor Vaynberg

Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/

/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var t=0,o=Array.prototype.slice;e.cleanData=function(t){return function(o){var i,n,s;for(s=0;null!=(n=o[s]);s++)try{i=e._data(n,"events"),i&&i.remove&&e(n).triggerHandler("remove")}catch(a){}t(o)}}(e.cleanData),e.widget=function(t,o,i){var n,s,a,r,l={},c=t.split(".")[0];return t=t.split(".")[1],n=c+"-"+t,i||(i=o,o=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},s=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new o,r.options=e.widget.extend({},r.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return o.prototype[t].apply(this,arguments)},n=function(e){return o.prototype[t].apply(this,e)};return function(){var t,o=this._super,s=this._superApply;return this._super=e,this._superApply=n,t=i.apply(this,arguments),this._super=o,this._superApply=s,t}}()):void(l[t]=i)}),a.prototype=e.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:n}),s?(e.each(s._childConstructors,function(t,o){var i=o.prototype;e.widget(i.namespace+"."+i.widgetName,a,o._proto)}),delete s._childConstructors):o._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,s=o.call(arguments,1),a=0,r=s.length;r>a;a++)for(i in s[a])n=s[a][i],s[a].hasOwnProperty(i)&&void 0!==n&&(t[i]=e.isPlainObject(n)?e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(s){var a="string"==typeof s,r=o.call(arguments,1),l=this;return a?this.each(function(){var o,i=e.data(this,n);return"instance"===s?(l=i,!1):i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(o=i[s].apply(i,r),o!==i&&void 0!==o?(l=o&&o.jquery?l.pushStack(o.get()):o,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,n);t?(t.option(s||{}),t._init&&t._init()):e.data(this,n,new i(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(o,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),o),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,o){var i,n,s,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(n=a[t]=e.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=o}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=o}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,o,i){var n,s=this;"boolean"!=typeof t&&(i=o,o=t,t=!1),i?(o=n=e(o),this.bindings=this.bindings.add(o)):(i=o,o=this.element,n=this.widget()),e.each(i,function(i,a){function r(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?n.delegate(d,c,r):o.bind(c,r)})},_off:function(t,o){o=(o||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(o).undelegate(o),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function o(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(o,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,o,i){var n,s,a=this.options[t];if(i=i||{},o=e.Event(o),o.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),o.target=this.element[0],s=o.originalEvent)for(n in s)n in o||(o[n]=s[n]);return this.element.trigger(o,i),!(e.isFunction(a)&&a.apply(this.element[0],[o].concat(i))===!1||o.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,o){e.Widget.prototype["_"+t]=function(i,n,s){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?o:n.effect||o:t;n=n||{},"number"==typeof n&&(n={duration:n}),a=!e.isEmptyObject(n),n.complete=s,n.delay&&i.delay(n.delay),a&&e.effects&&e.effects.effect[r]?i[t](n):r!==t&&i[r]?i[r](n.duration,n.easing,s):i.queue(function(o){e(this)[t](),s&&s.call(i[0]),o()})}});e.widget}),/*
 * jQuery Iframe Transport Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(o){if(o.async){var i,n,s,a=o.initialIframeSrc||"javascript:false;";return{send:function(r,l){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",o.formAcceptCharset),s=/\?/.test(o.url)?"&":"?","DELETE"===o.type?(o.url=o.url+s+"_method=DELETE",o.type="POST"):"PUT"===o.type?(o.url=o.url+s+"_method=PUT",o.type="POST"):"PATCH"===o.type&&(o.url=o.url+s+"_method=PATCH",o.type="POST"),t+=1,n=e('<iframe src="'+a+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,s=e.isArray(o.paramName)?o.paramName:[o.paramName];n.unbind("load").bind("load",function(){var t;try{if(t=n.contents(),!t.length||!t[0].firstChild)throw new Error}catch(o){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",n.prop("name")).prop("action",o.url).prop("method",o.type),o.formData&&e.each(o.formData,function(t,o){e('<input type="hidden"/>').prop("name",o.name).val(o.value).appendTo(i)}),o.fileInput&&o.fileInput.length&&"POST"===o.type&&(t=o.fileInput.clone(),o.fileInput.after(function(e){return t[e]}),o.paramName&&o.fileInput.each(function(t){e(this).prop("name",s[t]||o.paramName)}),i.append(o.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),o.fileInput.removeAttr("form")),i.submit(),t&&t.length&&o.fileInput.each(function(o,i){var n=e(t[o]);e(i).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(i)})}),i.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",a),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var o=t&&t[0];return o&&e.isXMLDoc(o)?o:e.parseXML(o.XMLDocument&&o.XMLDocument.xml||e(o.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var o="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var n=i.dataTransfer;n&&-1!==e.inArray("Files",n.types)&&this._trigger(t,e.Event(t,{delegatedEvent:i}))!==!1&&(i.preventDefault(),o&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,o){return t=this.messages[t]||t.toString(),o&&e.each(o,function(e,o){t=t.replace("{"+e+"}",o)}),t},formData:function(e){return e.serializeArray()},add:function(t,o){return t.isDefaultPrevented()?!1:void((o.autoUpload||o.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&o.process().done(function(){o.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,o){var i=e-this.timestamp;return(!this.bitrate||!o||i>o)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var o;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(o=[],e.each(t.formData,function(e,t){o.push({name:e,value:t})}),o):[]},_getTotal:function(t){var o=0;return e.each(t,function(e,t){o+=t.size||1}),o},_initProgressObject:function(t){var o={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,o):t._progress=o},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,o){if(t.lengthComputable){var i,n=Date.now?Date.now():(new Date).getTime();if(o._time&&o.progressInterval&&n-o._time<o.progressInterval&&t.loaded!==t.total)return;o._time=n,i=Math.floor(t.loaded/t.total*(o.chunkSize||o._progress.total))+(o.uploadedBytes||0),this._progress.loaded+=i-o._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,o.bitrateInterval),o._progress.loaded=o.loaded=i,o._progress.bitrate=o.bitrate=o._bitrateTimer.getBitrate(n,i,o.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),o),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var o=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,o._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var o,i=this,n=t.files[0],s=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),s&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),s?e.support.xhrFormDataFileUpload&&(t.postMessage?(o=this._getFormData(t),t.blob?o.push({name:a,value:t.blob}):e.each(t.files,function(i,n){o.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||a,value:n})})):(i._isInstanceOf("FormData",t.formData)?o=t.formData:(o=new FormData,e.each(this._getFormData(t),function(e,t){o.append(t.name,t.value)})),t.blob?o.append(a,t.blob,n.name):e.each(t.files,function(n,s){(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s))&&o.append("array"===e.type(t.paramName)&&t.paramName[n]||a,s,s.uploadName||s.name)})),t.data=o):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var o=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&o&&o!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var o=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],o.each(function(){for(var t=e(this),o=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)i.push(o),n-=1}),i.length||(i=[o.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var o=e.extend({},this.options,t);return this._initFormSettings(o),this._initDataSettings(o),o},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,o,i){var n=e.Deferred(),s=n.promise();return o=o||this.options.context||s,t===!0?n.resolveWith(o,i):t===!1&&n.rejectWith(o,i),s.abort=n.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,o){var i=this,n=function(t){return e.Deferred().resolveWith(i,t).promise()};o.process=function(t,s){return(t||s)&&(o._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return o.errorThrown?e.Deferred().rejectWith(i,[o]).promise():n(arguments)}).pipe(t,s)),this._processQueue||n([this])},o.submit=function(){return"pending"!==this.state()&&(o.jqXHR=this.jqXHR=i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},o.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},o.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},o.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},o.progress=function(){return this._progress},o.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),o=t&&t.split("-"),i=o&&o.length>1&&parseInt(o[1],10);return i&&i+1},_chunkedUpload:function(t,o){t.uploadedBytes=t.uploadedBytes||0;var i,n,s=this,a=t.files[0],r=a.size,l=t.uploadedBytes,c=t.maxChunkSize||r,d=this._blobSlice,u=e.Deferred(),h=u.promise();return this._isXHRUpload(t)&&d&&(l||r>c)&&!t.data?o?!0:l>=r?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(n=function(){var o=e.extend({},t),h=o._progress.loaded;o.blob=d.call(a,l,l+c,a.type),o.chunkSize=o.blob.size,o.contentRange="bytes "+l+"-"+(l+o.chunkSize-1)+"/"+r,s._initXHRData(o),s._initProgressListener(o),i=(s._trigger("chunksend",null,o)!==!1&&e.ajax(o)||s._getXHRPromise(!1,o.context)).done(function(i,a,c){l=s._getUploadedBytes(c)||l+o.chunkSize,h+o.chunkSize-o._progress.loaded&&s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-o.uploadedBytes,total:l-o.uploadedBytes}),o),t.uploadedBytes=o.uploadedBytes=l,o.result=i,o.textStatus=a,o.jqXHR=c,s._trigger("chunkdone",null,o),s._trigger("chunkalways",null,o),r>l?n():u.resolveWith(o.context,[i,a,c])}).fail(function(e,t,i){o.jqXHR=e,o.textStatus=t,o.errorThrown=i,s._trigger("chunkfail",null,o),s._trigger("chunkalways",null,o),u.rejectWith(o.context,[e,t,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},n(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,o,i,n){var s=n._progress.total,a=n._response;n._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),n),a.result=n.result=t,a.textStatus=n.textStatus=o,a.jqXHR=n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,o,i){var n=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),n.jqXHR=i.jqXHR=e,n.textStatus=i.textStatus=t,n.errorThrown=i.errorThrown=o,this._trigger("fail",null,i)},_onAlways:function(e,t,o,i){this._trigger("always",null,i)},_onSend:function(t,o){o.submit||this._addConvenienceMethods(t,o);var i,n,s,a,r=this,l=r._getAJAXSettings(o),c=function(){return r._sending+=1,l._bitrateTimer=new r._BitrateTimer,i=i||((n||r._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&r._getXHRPromise(!1,l.context,n)||r._chunkedUpload(l)||e.ajax(l)).done(function(e,t,o){r._onDone(e,t,o,l)}).fail(function(e,t,o){r._onFail(e,t,o,l)}).always(function(e,t,o){if(r._onAlways(e,t,o,l),r._sending-=1,r._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>r._sending)for(var i=r._slots.shift();i;){if("pending"===r._getDeferredState(i)){i.resolve();break}i=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=e.Deferred(),this._slots.push(s),a=s.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return n=[void 0,"abort","abort"],i?i.abort():(s&&s.rejectWith(l.context,n),c())},this._enhancePromise(a)):c()},_onAdd:function(t,o){var i,n,s,a,r=this,l=!0,c=e.extend({},this.options,o),d=o.files,u=d.length,h=c.limitMultiFileUploads,m=c.limitMultiFileUploadSize,p=c.limitMultiFileUploadSizeOverhead,f=0,g=this._getParamName(c),b=0;if(!u)return!1;if(m&&void 0===d[0].size&&(m=void 0),(c.singleFileUploads||h||m)&&this._isXHRUpload(c))if(c.singleFileUploads||m||!h)if(!c.singleFileUploads&&m)for(s=[],i=[],a=0;u>a;a+=1)f+=d[a].size+p,(a+1===u||f+d[a+1].size+p>m||h&&a+1-b>=h)&&(s.push(d.slice(b,a+1)),n=g.slice(b,a+1),n.length||(n=g),i.push(n),b=a+1,f=0);else i=g;else for(s=[],i=[],a=0;u>a;a+=h)s.push(d.slice(a,a+h)),n=g.slice(a,a+h),n.length||(n=g),i.push(n);else s=[d],i=[g];return o.originalFiles=d,e.each(s||d,function(n,a){var c=e.extend({},o);return c.files=s?a:[a],c.paramName=i[n],r._initResponseObject(c),r._initProgressObject(c),r._addConvenienceMethods(t,c),l=r._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var o=t.fileInput,i=o.clone(!0),n=o.is(document.activeElement);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),o.after(i).detach(),n&&i.focus(),e.cleanData(o.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===o[0]?i[0]:t}),o[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,o){var i,n=this,s=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])},r=function(e){n._handleFileTreeEntries(e,o+t.name+"/").done(function(e){s.resolve(e)}).fail(a)},l=function(){i.readEntries(function(e){e.length?(c=c.concat(e),l()):r(c)},a)},c=[];return o=o||"",t.isFile?t._file?(t._file.relativePath=o,s.resolve(t._file)):t.file(function(e){e.relativePath=o,s.resolve(e)},a):t.isDirectory?(i=t.createReader(),l()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,o){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,o)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var o=t.items;return o&&o.length&&(o[0].webkitGetAsEntry||o[0].getAsEntry)?this._handleFileTreeEntries(e.map(o,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var o,i,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(o=e.makeArray(t.prop("files")),o.length)void 0===o[0].name&&o[0].fileName&&e.each(o,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();o=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(o).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var o=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(n){i.files=n,o.options.replaceFileInput&&o._replaceFileInput(i),o._trigger("change",e.Event("change",{delegatedEvent:t}),i)!==!1&&o._onAdd(t,i)})},_onPaste:function(t){var o=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};o&&o.length&&(e.each(o,function(e,t){var o=t.getAsFile&&t.getAsFile();o&&i.files.push(o)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)!==!1&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var o=this,i=t.dataTransfer,n={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,o._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==!1&&o._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,o){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,o),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),o=t.pop();return t.shift(),new RegExp(t.join("/"),o)},_isRegExpOption:function(t,o){return"url"!==t&&"string"===e.type(o)&&/^\/.*\/[igm]{0,3}$/.test(o)},_initDataAttributes:function(){var t=this,o=this.options,i=this.element.data();e.each(this.element[0].attributes,function(e,n){var s,a=n.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),s=i[a],t._isRegExpOption(a,s)&&(s=t._getRegExp(s)),o[a]=s)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var o=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,o._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var o,i,n=this,s=e.Deferred(),a=s.promise();return a.abort=function(){return i=!0,o?o.abort():(s.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void s.reject();t.files=e,o=n._onSend(null,t),o.then(function(e,t,o){s.resolve(e,t,o)},function(e,t,o){s.reject(e,t,o)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),window.DrawingBoard={},DrawingBoard.Board=function(e,t,o){if(this.opts=$.extend({},DrawingBoard.Board.defaultOpts,t),this.ev=new DrawingBoard.Utils.MicroEvent,this.id=e,this.$el=$(document.getElementById(e)),!this.$el.length)return!1;var i='<div class="drawing-board-canvas-wrapper"></canvas><canvas id="'+this.opts.canvasId+'" class="drawing-board-canvas"></canvas><div class="drawing-board-cursor drawing-board-utils-hidden"></div></div>';return this.opts.controlsPosition.indexOf("bottom")>-1?i+='<div class="drawing-board-controls drawing-board-controls-hidden"></div>':i='<div class="drawing-board-controls drawing-board-controls-hidden"></div>'+i,this.$el.addClass("drawing-board").append(i),this.dom={$canvasWrapper:this.$el.find(".drawing-board-canvas-wrapper"),$canvas:this.$el.find(".drawing-board-canvas"),$cursor:this.$el.find(".drawing-board-cursor"),$controls:this.$el.find(".drawing-board-controls")},this.dom.$controls.hide(),this.dom.$controls.append('<div class="hide-btn">O/F</div>'),$.each(["left","right","center"],$.proxy(function(e,t){return this.opts.controlsPosition.indexOf(t)>-1?(this.dom.$controls.attr("data-align",t),!1):void 0},this)),this.canvas=this.dom.$canvas.get(0),this.ctx=this.canvas&&this.canvas.getContext&&this.canvas.getContext("2d")?this.canvas.getContext("2d"):null,this.color=this.opts.color,this.ctx?(this.storage=this._getStorage(),this.initHistory(),this.reset({webStorage:!1,history:!1,background:!1}),this.initControls(),this.resize(),this.reset({webStorage:!1,history:!0,background:!0}),this.restoreWebStorage(),this.initHistory(),this.initDropEvents(),this.initDrawEvents(),this.opts.base64&&this.opts.base64Size&&this.setImg(this.opts.base64,this.opts.base64Size),void(o&&o())):(this.opts.errorMessage&&this.$el.html(this.opts.errorMessage),!1)},DrawingBoard.Board.defaultOpts={controls:["Color","DrawingMode","Size","Navigation"],controlsPosition:"top left",color:"#000000",size:1,background:null,eraserColor:"background",webStorage:"session",droppable:!1,enlargeYourContainer:!1,errorMessage:'<p>It seems you use an obsolete browser. <a href="http://browsehappy.com/" target="_blank">Update it</a> to start drawing.</p>',customWidth:null,customHeight:null,canvasId:null,base64:null,base64Size:null},DrawingBoard.Board.prototype={reset:function(e){e=$.extend({color:this.opts.color,size:this.opts.size,webStorage:!0,history:!0,background:!1},e),this.setMode("pencil"),e.background&&this.resetBackground(this.opts.background,e.history),e.color&&this.setColor(e.color),e.size&&(this.ctx.lineWidth=e.size),this.ctx.lineCap="round",this.ctx.lineJoin="round",e.webStorage&&this.saveWebStorage(),e.history&&this.initHistory(),this.blankCanvas=this.getImg(),this.ev.trigger("board:reset",e)},resetBackground:function(e,t){e=e||this.opts.background,t="undefined"!=typeof t?t:!0;var o=DrawingBoard.Utils.isColor(e),i=this.getMode();this.setMode("pencil"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.width),o?(this.ctx.fillStyle=e,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)):e&&this.setImg(e),this.setMode(i)},resize:function(){this.dom.$controls.toggleClass("drawing-board-controls-hidden",!this.controls||!this.controls.length||!bmRoom.whiteboard.isAdmin);var e,t,o=[this.$el.width(),DrawingBoard.Utils.boxBorderWidth(this.$el),DrawingBoard.Utils.boxBorderWidth(this.dom.$canvasWrapper,!0,!0)],i=[this.$el.height(),DrawingBoard.Utils.boxBorderHeight(this.$el),this.dom.$controls.height(),DrawingBoard.Utils.boxBorderHeight(this.dom.$controls,!1,!0),DrawingBoard.Utils.boxBorderHeight(this.dom.$canvasWrapper,!0,!0)],n=function(e,t){t=t||1;for(var o=e[0],i=1;i<e.length;i++)o+=e[i]*t;return o},s=function(e){return n(e,-1)};this.opts.enlargeYourContainer?(e=this.$el.width(),t=this.$el.height(),this.$el.width(n(o)),this.$el.height(n(i))):(e=s(o),t=s(i));var a=this.opts.customHeight||t,r=this.opts.customWidth||e;this.dom.$canvasWrapper.css("width",r+"px"),this.dom.$canvasWrapper.css("height",a+"px"),this.dom.$canvas.css("width",r+"px"),this.dom.$canvas.css("height",a+"px"),this.dom.$canvas.css("opacity",.5),this.canvas.width=r,this.canvas.height=a},initControls:function(){if(this.controls=[],!this.opts.controls.length||!DrawingBoard.Control)return!1;for(var e=0;e<this.opts.controls.length;e++){var t=null;if("string"==typeof this.opts.controls[e])t=new window.DrawingBoard.Control[this.opts.controls[e]](this);else if("object"==typeof this.opts.controls[e]){for(var o in this.opts.controls[e])break;t=new window.DrawingBoard.Control[o](this,this.opts.controls[e][o])}t&&this.addControl(t)}},addControl:function(e,t,o){if("string"!=typeof e&&("object"!=typeof e||!e instanceof DrawingBoard.Control))return!1;var i="object"==typeof t?t:{};o=o?1*o:"number"==typeof t?t:null,"string"==typeof e&&(e=new window.DrawingBoard.Control[e](this,i)),o?this.dom.$controls.children().eq(o).before(e.$el):this.dom.$controls.append(e.$el),this.controls||(this.controls=[]),this.controls.push(e),bmRoom.whiteboard.isAdmin||this.dom.$controls.removeClass("drawing-board-controls-hidden")},initHistory:function(){this.history={values:[],position:0,size:[],max:0}},saveHistory:function(e){bmRoom.whiteboard.drawPosition++,bmRoom.whiteboard.drawMaxPosition=bmRoom.whiteboard.drawPosition;var t={whId:bmRoom.whiteboard.hashedId,whIndex:bmRoom.whiteboard.slider.getCurrentSlide(),value:e?e:this.getImg(),position:bmRoom.whiteboard.drawPosition,size:{width:bmRoom.whiteboard.slider.getCurrentSlideElement().find("img:visible").width(),height:bmRoom.whiteboard.slider.getCurrentSlideElement().find("img:visible").height()},max:bmRoom.whiteboard.drawMaxPosition,pointSize:this.controls[2].val,pointColor:this.color,clear:e?!0:!1};bmRoom.whiteboard.isAdmin&&bmRoom.whiteboard.canDraw&&(bmRoom.socket.emit("whiteboard:draw_history",t),bmRoom.saveRecordingAction("DrawWhiteBoardEvent","WHITEBOARDDRAW","","",""))},_goThroughHistory:function(e){if(!(e&&this.history.position==this.history.values.length||!e&&1==this.history.position)){var t=e?this.history.position+1:this.history.position-1;this.history.values.length&&void 0!==this.history.values[t-1]&&(this.history.position=t,this.setImg(this.history.values[t-1],this.history.size[t-1])),this.saveWebStorage()}},goBackInHistory:function(){var e={whId:bmRoom.whiteboard.hashedId,whIndex:bmRoom.whiteboard.slider.getCurrentSlide(),goForth:!1,doDraw:!0};bmRoom.socket.emit("whiteboard:go_history",e)},goForthInHistory:function(){var e={whId:bmRoom.whiteboard.hashedId,whIndex:bmRoom.whiteboard.slider.getCurrentSlide(),goForth:!0,doDraw:!0};bmRoom.socket.emit("whiteboard:go_history",e)},setImg:function(e,t){var o=this.ctx,i=new Image,n=o.globalCompositeOperation,s=this;i.onload=function(){o.globalCompositeOperation="source-over",o.clearRect(0,0,o.canvas.width,o.canvas.width);var e=i.width,a=i.height;t&&(e=i.width*(s.canvas.width/t.width),a=i.height*(s.canvas.height/t.height)),o.drawImage(i,0,0,e,a),o.globalCompositeOperation=n},i.src=e},getImg:function(){return this.canvas.toDataURL("image/png")},downloadImg:function(){var e=this.getImg();e=e.replace("image/png","image/octet-stream"),window.location.href=e},saveWebStorage:function(){window[this.storage]&&(window[this.storage].setItem("drawing-board-"+this.id,this.getImg()),this.ev.trigger("board:save"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),this.getImg()))},restoreWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(this.setImg(window[this.storage].getItem("drawing-board-"+this.id)),this.ev.trigger("board:restore"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1),window[this.storage].getItem("drawing-board-"+this.id)))},clearWebStorage:function(){window[this.storage]&&null!==window[this.storage].getItem("drawing-board-"+this.id)&&(window[this.storage].removeItem("drawing-board-"+this.id),this.ev.trigger("board:clear"+this.storage.charAt(0).toUpperCase()+this.storage.slice(1)))},_getStorage:function(){return!this.opts.webStorage||"session"!==this.opts.webStorage&&"local"!==this.opts.webStorage?!1:this.opts.webStorage+"Storage"},initDropEvents:function(){return this.opts.droppable?(this.dom.$canvas.on("dragover dragenter drop",function(e){e.stopPropagation(),e.preventDefault()}),void this.dom.$canvas.on("drop",$.proxy(this._onCanvasDrop,this))):!1},_onCanvasDrop:function(e){e=e.originalEvent?e.originalEvent:e;var t=e.dataTransfer.files;if(!t||!t.length||-1==t[0].type.indexOf("image")||!window.FileReader)return!1;var o=new FileReader;o.readAsDataURL(t[0]),o.onload=$.proxy(function(e){this.setImg(e.target.result),this.ev.trigger("board:imageDropped",e.target.result),this.ev.trigger("board:userAction"),this.initHistory()},this)},setMode:function(e,t){t=t||!1,e=e||"pencil",this.ev.unbind("board:startDrawing",$.proxy(this.fill,this)),"transparent"===this.opts.eraserColor?this.ctx.globalCompositeOperation="eraser"===e?"destination-out":"source-over":("eraser"===e?"background"===this.opts.eraserColor&&DrawingBoard.Utils.isColor(this.opts.background)?this.ctx.strokeStyle=this.opts.background:DrawingBoard.Utils.isColor(this.opts.eraserColor)&&(this.ctx.strokeStyle=this.opts.eraserColor):this.mode&&"eraser"!==this.mode||(this.ctx.strokeStyle=this.color),"filler"===e&&this.ev.bind("board:startDrawing",$.proxy(this.fill,this))),this.mode=e,t||this.ev.trigger("board:mode",this.mode)},getMode:function(){return this.mode||"pencil"},setColor:function(e){var t=this;if(e=e||this.color,!DrawingBoard.Utils.isColor(e))return!1;if(this.color=e,"transparent"!==this.opts.eraserColor&&"eraser"===this.mode){var o=function(e){"eraser"!==e&&(t.strokeStyle=t.color),t.ev.unbind("board:mode",o)};this.ev.bind("board:mode",o)}else this.ctx.strokeStyle=this.color},fill:function(e){if(this.getImg()===this.blankCanvas)return this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.width),this.ctx.fillStyle=this.color,void this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),o=0,i=1,n=2,s=3,a=this.ctx.strokeStyle,r=parseInt(a.substr(1,2),16),l=parseInt(a.substr(3,2),16),c=parseInt(a.substr(5,2),16),d=DrawingBoard.Utils.pixelAt(t,parseInt(e.coords.x,10),parseInt(e.coords.y,10));if(d[s]!==DrawingBoard.Utils.RGBToInt(r,l,c)){for(var u,h=[d],m=t.width-1,p=t.height-1;u=h.pop();)u[s]===d[s]&&(t.data[u[o]]=r,t.data[u[o]+1]=l,t.data[u[o]+2]=c,u[i]>0&&h.push(DrawingBoard.Utils.pixelAt(t,u[i]-1,u[n])),u[i]<m&&h.push(DrawingBoard.Utils.pixelAt(t,u[i]+1,u[n])),u[n]>0&&h.push(DrawingBoard.Utils.pixelAt(t,u[i],u[n]-1)),u[n]<p&&h.push(DrawingBoard.Utils.pixelAt(t,u[i],u[n]+1)));this.ctx.putImageData(t,0,0)}},initDrawEvents:function(){this.isDrawing=!1,this.isMouseHovering=!1,this.coords={},this.coords.old=this.coords.current=this.coords.oldMid={x:0,y:0},this.dom.$canvas.on("mousedown touchstart",$.proxy(function(e){bmRoom.whiteboard.canDraw&&this._onInputStart(e,this._getInputCoords(e))},this)),this.dom.$canvas.on("mousemove touchmove",$.proxy(function(e){bmRoom.whiteboard.canDraw&&this._onInputMove(e,this._getInputCoords(e))},this)),this.dom.$canvas.on("mousemove",$.proxy(function(){},this)),this.dom.$canvas.on("mouseup touchend",$.proxy(function(e){bmRoom.whiteboard.canDraw&&this._onInputStop(e,this._getInputCoords(e))},this)),this.dom.$canvas.on("mouseover",$.proxy(function(e){bmRoom.whiteboard.canDraw&&this._onMouseOver(e,this._getInputCoords(e))},this)),this.dom.$canvas.on("mouseout",$.proxy(function(e){bmRoom.whiteboard.canDraw&&this._onMouseOut(e,this._getInputCoords(e))},this)),$("body").on("mouseup touchend",$.proxy(function(){this.isDrawing=!1},this)),window.requestAnimationFrame&&requestAnimationFrame($.proxy(this.draw,this))},draw:function(){if(bmRoom.whiteboard.isAdmin){if(window.requestAnimationFrame&&this.ctx.lineWidth>10&&this.isMouseHovering){this.dom.$cursor.css({width:this.ctx.lineWidth+"px",height:this.ctx.lineWidth+"px"});var e=DrawingBoard.Utils.tpl("translateX({{x}}px) translateY({{y}}px)",{x:this.coords.current.x-this.ctx.lineWidth/2,y:this.coords.current.y-this.ctx.lineWidth/2});this.dom.$cursor.css({transform:e,"-webkit-transform":e,"-ms-transform":e}),this.dom.$cursor.removeClass("drawing-board-utils-hidden")}else this.dom.$cursor.addClass("drawing-board-utils-hidden");if(this.isDrawing){var t=this._getMidInputCoords(this.coords.current);this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.quadraticCurveTo(this.coords.old.x,this.coords.old.y,this.coords.oldMid.x,this.coords.oldMid.y),this.ctx.stroke(),this.coords.old=this.coords.current,this.coords.oldMid=t}window.requestAnimationFrame&&requestAnimationFrame($.proxy(function(){this.draw()},this))}},_onInputStart:function(e,t){this.coords.current=this.coords.old=t,this.coords.oldMid=this._getMidInputCoords(t),this.isDrawing=!1,window.requestAnimationFrame||this.draw(),this.ev.trigger("board:startDrawing",{e:e,coords:t}),e.preventDefault()},_onInputMove:function(e,t){this.coords.current=t,this.ev.trigger("board:drawing",{e:e,coords:t}),window.requestAnimationFrame||this.draw(),e.preventDefault()},_onInputStop:function(e,t){!this.isDrawing||e.touches&&0!==e.touches.length||(this.isDrawing=!1,this.saveWebStorage(),this.saveHistory(),this.ev.trigger("board:stopDrawing",{e:e,coords:t}),this.ev.trigger("board:userAction"),e.preventDefault())},_onMouseOver:function(e,t){this.isMouseHovering=!0,this.coords.old=this._getInputCoords(e),this.coords.oldMid=this._getMidInputCoords(this.coords.old),this.ev.trigger("board:mouseOver",{e:e,coords:t})},_onMouseOut:function(e,t){this.isMouseHovering=!1,this.ev.trigger("board:mouseOut",{e:e,coords:t})},_getInputCoords:function(e){e=e.originalEvent?e.originalEvent:e;var t,o;return e.touches&&1==e.touches.length?(t=e.touches[0].pageX,o=e.touches[0].pageY):(t=e.pageX,o=e.pageY),{x:t-this.dom.$canvas.offset().left,y:o-this.dom.$canvas.offset().top}},_getMidInputCoords:function(e){return{x:this.coords.old.x+e.x>>1,y:this.coords.old.y+e.y>>1}}},DrawingBoard.Control=function(e,t){return this.board=e,this.opts=$.extend({},this.defaults,t),this.$el=$(document.createElement("div")).addClass("drawing-board-control"),this.name&&this.$el.addClass("drawing-board-control-"+this.name),this.board.ev.bind("board:reset",$.proxy(this.onBoardReset,this)),this.initialize.apply(this,arguments),this},DrawingBoard.Control.prototype={name:"",defaults:{},initialize:function(){},addToBoard:function(){this.board.addControl(this)},onBoardReset:function(){}},DrawingBoard.Control.extend=function(e,t){var o,i=this;o=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)},$.extend(o,i,t);var n=function(){this.constructor=o};return n.prototype=i.prototype,o.prototype=new n,e&&$.extend(o.prototype,e),o.__super__=i.prototype,o
},DrawingBoard.Control.Color=DrawingBoard.Control.extend({name:"colors",initialize:function(){this.initTemplate();var e=this;this.$el.on("click",".drawing-board-control-colors-picker",function(t){var o=$(this).attr("data-color");e.board.setColor(o),bmRoom.whiteboard.drawAction("setColor",o),e.$el.find(".drawing-board-control-colors-current").css("background-color",o).attr("data-color",o),e.board.ev.trigger("color:changed",o),e.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden"),t.preventDefault()}),this.$el.on("click",".drawing-board-control-colors-current",function(t){e.$el.find(".drawing-board-control-colors-rainbows").toggleClass("drawing-board-utils-hidden"),t.preventDefault()}),$("body").on("click",function(t){var o=$(t.target),i=o.hasClass("drawing-board-control-colors-current")?o:o.closest(".drawing-board-control-colors-current"),n=e.$el.find(".drawing-board-control-colors-current"),s=e.$el.find(".drawing-board-control-colors-rainbows");i.length&&i.get(0)===n.get(0)||s.hasClass("drawing-board-utils-hidden")||s.addClass("drawing-board-utils-hidden")})},initTemplate:function(){var e='<div class="drawing-board-control-inner"><div class="drawing-board-control-colors-current" style="background-color: {{color}}" data-color="{{color}}"></div><div class="drawing-board-control-colors-rainbows">{{rainbows}}</div></div>',t='<div class="drawing-board-control-colors-picker" data-color="{{color}}" style="background-color: {{color}}"></div>',o="";$.each([.75,.5,.25],$.proxy(function(e,i){var n=0,s=null;for(o+='<div class="drawing-board-control-colors-rainbow">',.25==i&&(s=this._rgba(0,0,0,1)),.5==i&&(s=this._rgba(150,150,150,1)),.75==i&&(s=this._rgba(255,255,255,1)),o+=DrawingBoard.Utils.tpl(t,{color:s.toString()});330>=n;)o+=DrawingBoard.Utils.tpl(t,{color:this._hsl2Rgba(this._hsl(n-60,1,i)).toString()}),n+=30;o+="</div>"},this)),this.$el.append($(DrawingBoard.Utils.tpl(e,{color:this.board.color,rainbows:o}))),this.$el.find(".drawing-board-control-colors-rainbows").addClass("drawing-board-utils-hidden")},onBoardReset:function(){this.board.setColor(this.$el.find(".drawing-board-control-colors-current").attr("data-color"))},_rgba:function(e,t,o,i){return{r:e,g:t,b:o,a:i,toString:function(){return"rgba("+e+", "+t+", "+o+", "+i+")"}}},_hsl:function(e,t,o){return{h:e,s:t,l:o,toString:function(){return"hsl("+e+", "+100*t+"%, "+100*o+"%)"}}},_hex2Rgba:function(e){var t=parseInt(e.substring(1),16);return this._rgba(t>>16,t>>8&255,255&t,1)},_hsl2Rgba:function(e){function t(e,t,o){return 0>o&&(o+=1),o>1&&(o-=1),1/6>o?e+6*(t-e)*o:.5>o?t:2/3>o?e+(t-e)*(2/3-o)*6:e}var o,i,n,s=e.h/360,a=e.s,r=e.l;if(0===a)o=i=n=r;else{var l=.5>r?r*(1+a):r+a-r*a,c=2*r-l;o=Math.floor(255*t(c,l,s+1/3)),i=Math.floor(255*t(c,l,s)),n=Math.floor(255*t(c,l,s-1/3))}return this._rgba(o,i,n,1)}}),DrawingBoard.Control.DrawingMode=DrawingBoard.Control.extend({name:"drawingmode",defaults:{pencil:!0},initialize:function(){this.prevMode=this.board.getMode(),$.each(["pencil","eraser","filler"],$.proxy(function(e,t){this.opts[t]&&this.$el.append('<button class="drawing-board-control-drawingmode-'+t+'-button" data-mode="'+t+'"></button>')},this)),this.$el.on("click","button[data-mode]",$.proxy(function(e){var t=$(e.currentTarget).attr("data-mode"),o=this.board.getMode();o!==t&&(this.prevMode=o);var i=o===t?this.prevMode:t;this.board.setMode(i),e.preventDefault()},this)),this.board.ev.bind("board:mode",$.proxy(function(e){this.toggleButtons(e)},this)),this.toggleButtons(this.board.getMode())},toggleButtons:function(e){this.$el.find("button[data-mode]").each(function(t,o){var i=$(o);i.toggleClass("active",e===i.attr("data-mode"))})}}),DrawingBoard.Control.Navigation=DrawingBoard.Control.extend({name:"navigation",defaults:{back:!0,forward:!0,reset:!0},initialize:function(){var e="";if(this.opts.back&&(e+='<button class="drawing-board-control-navigation-back">&larr;</button>'),this.opts.forward&&(e+='<button class="drawing-board-control-navigation-forward">&rarr;</button>'),this.opts.reset&&(e+='<button class="drawing-board-control-navigation-reset">&times;</button>'),this.$el.append(e),this.opts.back){var t=this.$el.find(".drawing-board-control-navigation-back");this.board.ev.bind("historyNavigation",$.proxy(function(e){1===e?t.attr("disabled","disabled"):t.removeAttr("disabled")},this)),this.$el.on("click",".drawing-board-control-navigation-back",$.proxy(function(e){this.board.goBackInHistory(),e.preventDefault()},this))}if(this.opts.forward){var o=this.$el.find(".drawing-board-control-navigation-forward");this.board.ev.bind("historyNavigation",$.proxy(function(e){e===this.board.history.values.length?o.attr("disabled","disabled"):o.removeAttr("disabled")},this)),this.$el.on("click",".drawing-board-control-navigation-forward",$.proxy(function(e){this.board.goForthInHistory(),e.preventDefault()},this))}this.opts.reset&&this.$el.on("click",".drawing-board-control-navigation-reset",$.proxy(function(e){bmRoom.whiteboard.drawing.saveHistory(bmRoom.whiteboard.drawing.blankCanvas),e.preventDefault()},this))}}),DrawingBoard.Control.Size=DrawingBoard.Control.extend({name:"size",defaults:{type:"auto",dropdownValues:[1,3,6,10,20,30,40,50],min:1,max:50},types:["dropdown","range"],initialize:function(){"auto"==this.opts.type&&(this.opts.type=this._iHasRangeInput()?"range":"dropdown");var e=$.inArray(this.opts.type,this.types)>-1?this["_"+this.opts.type+"Template"]():!1;if(!e)return!1;this.val=this.board.opts.size,this.$el.append($(e)),this.$el.attr("data-drawing-board-type",this.opts.type),this.updateView();var t=this;"range"==this.opts.type&&this.$el.on("change",".drawing-board-control-size-range-input",function(e){t.val=$(this).val(),t.updateView(),bmRoom.whiteboard.drawAction("changeSize",t.val),t.board.ev.trigger("size:changed",t.val),e.preventDefault()}),"dropdown"==this.opts.type&&(this.$el.on("click",".drawing-board-control-size-dropdown-current",$.proxy(function(){this.$el.find(".drawing-board-control-size-dropdown").toggleClass("drawing-board-utils-hidden")},this)),this.$el.on("click","[data-size]",function(e){t.val=parseInt($(this).attr("data-size"),0),t.updateView(),bmRoom.whiteboard.drawAction("changeSize",t.val),t.board.ev.trigger("size:changed",t.val),e.preventDefault()}))},_rangeTemplate:function(){var e='<div class="drawing-board-control-inner" title="{{size}}"><input type="range" min="{{min}}" max="{{max}}" value="{{size}}" step="1" class="drawing-board-control-size-range-input"><span class="drawing-board-control-size-range-current"></span></div>';return DrawingBoard.Utils.tpl(e,{min:this.opts.min,max:this.opts.max,size:this.board.opts.size})},_dropdownTemplate:function(){var e='<div class="drawing-board-control-inner" title="{{size}}"><div class="drawing-board-control-size-dropdown-current"><span></span></div><ul class="drawing-board-control-size-dropdown">';return $.each(this.opts.dropdownValues,function(t,o){e+=DrawingBoard.Utils.tpl('<li data-size="{{size}}"><span style="width: {{size}}px; height: {{size}}px; border-radius: {{size}}px;"></span></li>',{size:o})}),e+="</ul></div>"},onBoardReset:function(){this.updateView()},updateView:function(){var e=this.val;if(this.board.ctx.lineWidth=e,this.$el.find(".drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span").css({width:e+"px",height:e+"px",borderRadius:e+"px",marginLeft:-1*e/2+"px",marginTop:-1*e/2+"px"}),this.$el.find(".drawing-board-control-inner").attr("title",e),"dropdown"==this.opts.type){var t=null;$.each(this.opts.dropdownValues,function(o,i){(null===t||Math.abs(i-e)<Math.abs(t-e))&&(t=i)}),this.$el.find(".drawing-board-control-size-dropdown").addClass("drawing-board-utils-hidden")}},_iHasRangeInput:function(){var e,t=document.createElement("input"),o=":)",i=document.documentElement,n="range";return t.setAttribute("type",n),e="text"!==t.type,t.value=o,t.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&void 0!==t.style.WebkitAppearance&&(i.appendChild(t),defaultView=document.defaultView,e=defaultView.getComputedStyle&&"textfield"!==defaultView.getComputedStyle(t,null).WebkitAppearance&&0!==t.offsetHeight,i.removeChild(t)),!!e}}),DrawingBoard.Control.Download=DrawingBoard.Control.extend({name:"download",initialize:function(){this.$el.append('<button class="drawing-board-control-download-button"></button>'),this.$el.on("click",".drawing-board-control-download-button",$.proxy(function(e){this.board.downloadImg(),e.preventDefault()},this))}}),window.DrawingBoard="undefined"!=typeof DrawingBoard?DrawingBoard:{},DrawingBoard.Utils={},DrawingBoard.Utils.tpl=function(){"use strict";var e,t="{{",o="}}",i="[a-z0-9_][\\.a-z0-9_]*",n=new RegExp(t+"\\s*("+i+")\\s*"+o,"gi");return function(t,o){return t.replace(n,function(t,i){for(var n=i.split("."),s=n.length,a=o,r=0;s>r;r++){if(a=a[n[r]],a===e)throw"tim: '"+n[r]+"' not found in "+t;if(r===s-1)return a}})}}(),DrawingBoard.Utils.MicroEvent=function(){},DrawingBoard.Utils.MicroEvent.prototype={bind:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},unbind:function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},DrawingBoard.Utils._boxBorderSize=function(e,t,o,i){t=!!t||!0,o=!!o||!1;var n,s=0;"width"==i?(n=["border-left-width","border-right-width"],t&&n.push("padding-left","padding-right"),o&&n.push("margin-left","margin-right")):(n=["border-top-width","border-bottom-width"],t&&n.push("padding-top","padding-bottom"),o&&n.push("margin-top","margin-bottom"));for(var a=n.length-1;a>=0;a--)s+=parseInt(e.css(n[a]).replace("px",""),10);return s},DrawingBoard.Utils.boxBorderWidth=function(e,t,o){return DrawingBoard.Utils._boxBorderSize(e,t,o,"width")},DrawingBoard.Utils.boxBorderHeight=function(e,t,o){return DrawingBoard.Utils._boxBorderSize(e,t,o,"height")},DrawingBoard.Utils.isColor=function(e){return e&&e.length?/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)||-1!==$.inArray(e.substring(0,3),["rgb","hsl"]):!1},DrawingBoard.Utils.RGBToInt=function(e,t,o){var i=0;return i|=(255&e)<<16,i|=(255&t)<<8,i|=255&o},DrawingBoard.Utils.pixelAt=function(e,t,o){var i=4*(o*e.width+t),n=DrawingBoard.Utils.RGBToInt(e.data[i],e.data[i+1],e.data[i+2]);return[i,t,o,n]},DrawingBoard.Utils.compareColors=function(e,t,o){if(0===o)return e===t;var i=e>>16&255,n=t>>16&255,s=e>>8&255,a=t>>8&255,r=255&e,l=255&t;return Math.abs(i-n)<=o&&Math.abs(s-a)<=o&&Math.abs(r-l)<=o},function(){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}(),function(e,t){var o,i="mThumbnailScroller",n="mTS",s=".mThumbnailScroller",a={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",home_button:!1,callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},c=t.attachEvent&&!t.addEventListener?1:0,d=!1,u=["mTS_disabled","mTS_destroyed","mTS_no_scroll"],h={init:function(t){var t=e.extend(!0,{},a,t),o=m.call(this);if(t.live){var i=t.liveSelector||this.selector||s,c=e(i);if("off"===t.live)return void f(i);l[i]=setTimeout(function(){c.mThumbnailScroller(t),"once"===t.live&&c.length&&f(i)},500)}else f(i);return t.speed=0===t.speed?100:t.speed,p(t),e(o).each(function(){var o=e(this);if(!o.data(n)){o.data(n,{idx:++r,opt:t,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:o.css("direction"),cbOffsets:null,trigger:null});var i=o.data(n).opt,s=o.data("mts-axis"),a=o.data("mts-type"),l=o.data("mts-theme");s&&(i.axis=s),a&&(i.type=a),l&&(i.theme=l,p(i)),g.call(this),h.update.call(null,o)}})},update:function(t){var o=t||m.call(this);return e(o).each(function(){var t=e(this);if(t.data(n)){var o=t.data(n),i=o.opt,s=e("#mTS_"+o.idx+"_container");if(!s.length)return;o.tweenRunning&&F(t),t.hasClass(u[0])&&t.removeClass(u[0]),t.hasClass(u[1])&&t.removeClass(u[1]),y.call(this),b.call(this),o.overflowed=$.call(this),R.call(this),x.call(this);var a=[s[0].offsetTop,s[0].offsetLeft];"x"!==i.axis&&(o.overflowed[0]?z(t,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(k.call(this),"y"===i.axis?(z(t,"0",{dir:"y",dur:0,overwrite:"none"}),C.call(this)):"yx"===i.axis&&o.overflowed[1]&&z(t,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(o.overflowed[1]?z(t,a[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(k.call(this),"x"===i.axis?(z(t,"0",{dir:"x",dur:0,overwrite:"none"}),C.call(this)):"yx"===i.axis&&o.overflowed[0]&&z(t,a[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o.overflowed[0]||o.overflowed[1]?t.removeClass(u[2]):t.addClass(u[2]),O.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var i=m.call(this);return e(i).each(function(){var i=e(this);if(i.data(n)){var s=i.data(n),a=s.opt,r={trigger:"external",speed:a.speed,duration:1e3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},r,o),c=M.call(this,t),d=l.duration?l.duration:7e3/(l.speed||1);c[0]=j.call(this,c[0],"y"),c[1]=j.call(this,c[1],"x"),l.dur=d>0&&17>d?17:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==a.axis&&s.overflowed[0]&&(l.dir="y",l.overwrite="all",z(i,-c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==a.axis&&s.overflowed[1]&&(l.dir="x",l.overwrite="none",z(i,-c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=m.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&F(t)})},disable:function(t){var o=m.call(this);return e(o).each(function(){var o=e(this);if(o.data(n)){{var i=o.data(n);i.opt}O.call(this,"remove"),C.call(this),t&&k.call(this),R.call(this,!0),o.addClass(u[0])}})},destroy:function(){var t=m.call(this);return e(t).each(function(){var o=e(this);if(o.data(n)){var s=o.data(n),a=s.opt,r=e("#mTS_"+s.idx),l=(e("#mTS_"+s.idx+"_container"),e("#mTS_"+s.idx+"_buttonUp,#mTS_"+s.idx+"_buttonDown,#mTS_"+s.idx+"_buttonLeft,#mTS_"+s.idx+"_buttonRight"));a.live&&f(t),O.call(this,"remove"),C.call(this),k.call(this),o.removeData(n),B(this,"mts"),l.remove(),r.replaceWith(s.html),o.removeClass(i+" _"+n+"_"+s.idx+" "+n+"-"+a.theme+" "+u[2]+" "+u[0]).addClass(u[1])}})}},m=function(){return"object"!=typeof e(this)||e(this).length<1?s:this},p=function(t){var o=["buttons-out"],i=["buttons-in"],n=["buttons-out"],s=["hover-classic"],a=["hover-full"];t.markup.buttonsPlaceholder=e.inArray(t.theme,o)>-1?"outside":t.markup.buttonsPlaceholder,t.markup.buttonsHTML=e.inArray(t.theme,i)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:e.inArray(t.theme,n)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:t.markup.buttonsHTML,t.type=e.inArray(t.theme,s)>-1?"hover-85":e.inArray(t.theme,a)>-1?"hover-precise":t.type,t.speed=e.inArray(t.theme,s)>-1?60:e.inArray(t.theme,a)>-1?10:t.speed},f=function(e){l[e]&&(clearTimeout(l[e]),B(l,e))},g=function(){var t=e(this),o=t.data(n),s=o.opt,a="yx"===s.axis?"mTS_vertical_horizontal":"x"===s.axis?"mTS_horizontal":"mTS_vertical",r=s.markup.thumbnailsContainer||"ul",l=s.markup.thumbnailContainer||"li",c=s.markup.thumbnailElement||"img";if(o.html=t.children().clone(!0,!0),!t.find(r).length){var d=t.find("li").length?"<ul class='"+n+"AutoContainer' />":"<div class='"+n+"AutoContainer' />";t.wrapInner(d),r="."+n+"AutoContainer"}s.setWidth&&t.css("width",s.setWidth),s.setHeight&&t.css("height",s.setHeight),s.setLeft="y"!==s.axis&&"rtl"===o.langDir?"-989999px":s.setLeft,t.addClass(i+" _"+n+"_"+o.idx+" "+n+"-"+s.theme).find(r).wrap("<div id='mTS_"+o.idx+"' class='mTSWrapper "+a+"' />").addClass(n+"Container").attr("id","mTS_"+o.idx+"_container").css({position:"relative",top:s.setTop,left:s.setLeft}).find(l).addClass(n+"ThumbContainer").find(c).addClass(n+"Thumb"),v.call(this)},b=function(){var t=e(this),o=t.data(n),i=o.opt,s=e("#mTS_"+o.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&s.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right)-Math.floor(s[0].getBoundingClientRect().left),position:"relative"}).unwrap()},v=function(){var t,o=e(this),s=o.data(n),a=s.opt,r=a.markup.buttonsPlaceholder?"outside"===a.markup.buttonsPlaceholder?o:e(a.markup.buttonsPlaceholder):e("#mTS_"+s.idx);t=a.home_button?["<a href='#' id='mTS_"+s.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+_.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+s.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+_.call(this,"down")+"</span></a>","<a href='javascript:void(0);' id='mTS_"+s.idx+"_buttonLeft' class='course-nav-btn btn-prev mTSButtonLeft'><span class='icon-leftarrow2'></span></a>","<a href='javascript:void(0);' id='mTS_"+s.idx+"_buttonRight' class='course-nav-btn btn-next mTSButtonRight'><span class='icon-leftarrow'></span></a>"]:["<a href='#' id='mTS_"+s.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+_.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+s.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+_.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+s.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+_.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+s.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+_.call(this,"right")+"</span></a>"];["x"===a.axis?t[2]:t[0],"x"===a.axis?t[3]:t[1]];r.hasClass(i)&&"static"===r.css("position")&&r.css("position","relative"),-1!==a.type.indexOf("click")&&("x"!==a.axis&&r.append(t[0]+t[1]),"y"!==a.axis&&r.append(t[2]+t[3]))},_=function(t){var o=e(this),i=o.data(n),s=i.opt,a=s.markup.buttonsHTML,r="SVG set 1"===a[t]?0:"SVG set 2"===a[t]?1:"SVG set 3"===a[t]?2:"SVG set 4"===a[t]?3:"SVG set 5"===a[t]?4:null;switch(t){case"up":return null===r?a[t]:c?"&uarr;":w(a[t])[r][0];case"down":return null===r?a[t]:c?"&darr;":w(a[t])[r][1];case"left":return null===r?a[t]:c?"&larr;":w(a[t])[r][2];case"right":return null===r?a[t]:c?"&rarr;":w(a[t])[r][3]}},w=function(){var e="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",t="</svg>";return[[e+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+t,e+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+t,e+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+t,e+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+t],[e+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+t,e+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+t,e+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+t,e+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+t],[e+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+t,e+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+t,e+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+t,e+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+t],[e+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+t,e+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+t,e+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+t,e+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+t],[e+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+t,e+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+t,e+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+t,e+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+t]]},y=function(){var t=e(this),o=t.data(n),i=(o.opt,e("#mTS_"+o.idx)),s=t.css("max-height"),a=-1!==s.indexOf("%"),r=t.css("box-sizing");if("none"!==s){var l=a?t.parent().height()*parseInt(s)/100:parseInt(s);"border-box"===r&&(l-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),i.css("max-height",Math.round(l))}},$=function(){var t=e(this),o=t.data(n),i=e("#mTS_"+o.idx),s=e("#mTS_"+o.idx+"_container");return[s.height()>i.height(),s.width()>i.width()]},k=function(){var t=e(this),o=t.data(n),i=o.opt,s=e("#mTS_"+o.idx),a=e("#mTS_"+o.idx+"_container");if(F(t),("x"!==i.axis&&!o.overflowed[0]||"y"===i.axis&&o.overflowed[0])&&a.css("top",0),"y"!==i.axis&&!o.overflowed[1]||"x"===i.axis&&o.overflowed[1]){var r="rtl"===o.langDir?s.width()-a.width():0;a.css("left",r)}},x=function(){var t=e(this),o=t.data(n),i=o.opt;o.bindEvents||(i.contentTouchScroll&&D.call(this),-1!==i.type.indexOf("hover")?"hover-precise"===i.type?P.call(this):A.call(this):-1!==i.type.indexOf("click")&&E.call(this),o.bindEvents=!0)},C=function(){var t=e(this),o=t.data(n),i=n+"_"+o.idx,s=e("#mTS_"+o.idx+",#mTS_"+o.idx+"_container,#mTS_"+o.idx+"_buttonUp,#mTS_"+o.idx+"_buttonDown,#mTS_"+o.idx+"_buttonLeft,#mTS_"+o.idx+"_buttonRight"),a=e("#mTS_"+o.idx+"_container");o.bindEvents&&(s.each(function(){e(this).unbind("."+i)}),clearTimeout(a[0].onCompleteTimeout),B(a[0],"onCompleteTimeout"),o.bindEvents=!1)},R=function(t,o,i){var s=e(this),a=s.data(n),r=a.opt;if(-1!==r.type.indexOf("click")){i||(i=r.axis);var l=[e("#mTS_"+a.idx+"_buttonUp"),e("#mTS_"+a.idx+"_buttonDown"),e("#mTS_"+a.idx+"_buttonLeft"),e("#mTS_"+a.idx+"_buttonRight")],c=n+"-hidden";"x"!==i&&(sel=!a.overflowed[0]||t||o?1===o?[l[0],l[1]]:2===o?[l[1],l[0]]:[l[0].add(l[1]),null]:[a.overflowed[1]?null:l[2].add(l[3]),l[0].add(l[1])]),"y"!==i&&(sel=!a.overflowed[1]||t||o?1===o?[l[2],l[3]]:2===o?[l[3],l[2]]:[l[2].add(l[3]),null]:[a.overflowed[0]?null:l[0].add(l[1]),l[2].add(l[3])]),sel[0]&&sel[0].addClass(c),sel[1]&&sel[1].removeClass(c)}},S=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];return[o.pageY,o.pageX];default:return[e.pageY,e.pageX]}},T=function(e){return o||-1!==e.type.indexOf("touch")||"undefined"!=typeof e.pointerType&&(2===e.pointerType||"touch"===e.pointerType)?"touch":"mouse"},D=function(){function t(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function i(e,t,o,i,n){e&&z(b,-e.toString(),{dur:t,easing:o,dir:i,overwrite:n})}var s,a,r,l,c,u,h,m,p,f,g,b=e(this),v=b.data(n),_=v.opt,w=n+"_"+v.idx,y=e("#mTS_"+v.idx),$=e("#mTS_"+v.idx+"_container"),k=[],x=[],C=0,R="yx"===_.axis?"none":"all",T=[];$.bind("touchstart."+w+" pointerdown."+w+" MSPointerDown."+w,function(e){if(q(e)&&!d){var t=$.offset();s=S(e)[0]-t.top,a=S(e)[1]-t.left,T=[S(e)[0],S(e)[1]]}}).bind("touchmove."+w+" pointermove."+w+" MSPointerMove."+w,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),u=H();var t=y.offset(),o=S(e)[0]-t.top,n=S(e)[1]-t.left,r="linearOut";if(k.push(o),x.push(n),T[2]=Math.abs(S(e)[0]-T[0]),T[3]=Math.abs(S(e)[1]-T[1]),v.overflowed[0])var l=y.height()-$.height(),c=s-o>0&&o-s>l&&2*T[3]<T[2];if(v.overflowed[1])var h=y.width()-$.width(),m=a-n>0&&n-a>h&&2*T[2]<T[3];(c||m)&&e.preventDefault(),f="yx"===_.axis?[s-o,a-n]:"x"===_.axis?[null,a-n]:[s-o,null],$[0].idleTimer=250,v.overflowed[0]&&i(f[0],C,r,"y","all"),v.overflowed[1]&&i(f[1],C,r,"x",R)}}),y.bind("touchstart."+w+" pointerdown."+w+" MSPointerDown."+w,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),o=!0,F(b),c=H();var t=y.offset();r=S(e)[0]-t.top,l=S(e)[1]-t.left,k=[],x=[]}}).bind("touchend."+w+" pointerup."+w+" MSPointerUp."+w,function(e){if(q(e)&&!d){e.stopImmediatePropagation(),h=H();var o=y.offset(),n=S(e)[0]-o.top,s=S(e)[1]-o.left;if(!(h-u>30)){p=1e3/(h-c);var a="easeOut",b=2.5>p,w=b?[k[k.length-2],x[x.length-2]]:[0,0];m=b?[n-w[0],s-w[1]]:[n-r,s-l];var C=[Math.abs(m[0]),Math.abs(m[1])];p=b?[Math.abs(m[0]/4),Math.abs(m[1]/4)]:[p,p];var T=[Math.abs($[0].offsetTop)-m[0]*t(C[0]/p[0],p[0]),Math.abs($[0].offsetLeft)-m[1]*t(C[1]/p[1],p[1])];f="yx"===_.axis?[T[0],T[1]]:"x"===_.axis?[null,T[1]]:[T[0],null],g=[4*C[0]+60*_.speed,4*C[1]+60*_.speed];var D=parseInt(_.contentTouchScroll)||0;f[0]=C[0]>D?f[0]:0,f[1]=C[1]>D?f[1]:0,v.overflowed[0]&&i(f[0],g[0],a,"y",R),v.overflowed[1]&&i(f[1],g[1],a,"x",R)}}})},P=function(){var o,i,s,a=e(this),r=a.data(n),l=r.opt,c=n+"_"+r.idx,d=e("#mTS_"+r.idx),u=e("#mTS_"+r.idx+"_container"),h=t.navigator.pointerEnabled?"pointermove":t.navigator.msPointerEnabled?"MSPointerMove":"mousemove";d.bind(h+"."+c,function(e){if("touch"!==T(e.originalEvent||e)&&(r.overflowed[0]||r.overflowed[1])){e.preventDefault();var t=d.height(),n=u.height(),c=d.width(),h=u.width(),m=h/c*7e3/(l.speed||1);o=[S(e)[0]-d.offset().top,S(e)[1]-d.offset().left],i=[o[0]/d.height(),o[1]/d.width()],s=[Math.round(-((n-t)*i[0])),Math.round(-((h-c)*i[1]))],"x"!==l.axis&&r.overflowed[0]&&z(a,s[0].toString(),{dir:"y",dur:m,easing:"easeOut"}),"y"!==l.axis&&r.overflowed[1]&&z(a,s[1].toString(),{dir:"x",dur:m,easing:"easeOut"})}})},A=function(){function i(){g[0].rAF||(r=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return setTimeout(e,17)},g[0].rAF=r(a))}function s(){null!=g[0].rAF&&(t.requestAnimationFrame?t.cancelAnimationFrame(g[0].rAF):clearTimeout(g[0].rAF),clearTimeout(u),g[0].rAF=null)}function a(){if(!o){d=[c[0]+b[0].offsetTop,c[1]+b[0].offsetLeft];var e=[g.height()-b.height(),g.width()-b.width()];"x"!==p.axis&&m.overflowed[0]&&(d[0]=d[0]>0?0:d[0]<e[0]?e[0]:d[0],c[0]&&!k[0]&&z(h,d[0],{dir:"y",dur:0,easing:"linear"}),(d[0]>=0||d[0]<=e[0])&&(k[0]=1)),"y"!==p.axis&&m.overflowed[1]&&(d[1]=d[1]>0?0:d[1]<e[1]?e[1]:d[1],c[1]&&!k[1]&&z(h,d[1],{dir:"x",dur:0,easing:"linear"}),(d[1]>=0||d[1]<=e[1])&&(k[1]=1)),u=setTimeout(function(){g[0].rAF=r(a)},_)}}var r,l,c,d,u,h=e(this),m=h.data(n),p=m.opt,f=n+"_"+m.idx,g=e("#mTS_"+m.idx),b=e("#mTS_"+m.idx+"_container"),v=t.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:t.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],_=t.requestAnimationFrame?0:17,w=p.speed,y=parseInt(p.type.split("hover-")[1])||1,$=w*y/100,k=[0,0];g.bind(v[0]+"."+f,function(e){"touch"!==T(e.originalEvent||e)&&(m.overflowed[0]||m.overflowed[1])&&i()}).bind(v[1]+"."+f,function(e){"touch"!==T(e.originalEvent||e)&&(m.overflowed[0]||m.overflowed[1])&&(l=[S(e)[0]-g.offset().top,S(e)[1]-g.offset().left],c=[Math.round(Math.cos(l[0]/g.height()*Math.PI)*w),Math.round(Math.cos(l[1]/g.width()*Math.PI)*w)],c[0]=c[0]<=-$?c[0]+=$:c[0]>=$?c[0]-=$:c[0]=0,c[1]=c[1]<=-$?c[1]+=$:c[1]>=$?c[1]-=$:c[1]=0,k=[0,0])}).bind(v[2]+"."+f,function(e){"touch"!==T(e.originalEvent||e)&&(m.overflowed[0]||m.overflowed[1])&&s()})},E=function(){var t=e(this),o=t.data(n),i=o.opt,s=n+"_"+o.idx,a=e("#mTS_"+o.idx),r=e("#mTS_"+o.idx+"_container"),l=[e("#mTS_"+o.idx+"_buttonUp"),e("#mTS_"+o.idx+"_buttonDown"),e("#mTS_"+o.idx+"_buttonLeft"),e("#mTS_"+o.idx+"_buttonRight")],c=l[0].add(l[1]).add(l[2]).add(l[3]);c.bind("click."+s,function(n){if(W(n)&&(o.overflowed[0]||o.overflowed[1])&&(n.preventDefault(),!o.tweenRunning)){if("x"!==i.axis&&o.overflowed[0]){var s=a.height(),l="click-thumb"===i.type?0:e(this).hasClass("mTSButtonUp")?"+=":e(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==i.type)var c=parseInt(i.type.split("click-")[1])||1,d=l?[l+s*c/100,null]:0;else{var u=I.call(t[0])[0],m=I.call(t[0])[1];if(e(this).hasClass("mTSButtonDown"))var d=m?m[0].offsetTop-parseInt(m.css("margin-bottom"))-s:989999;else if(e(this).hasClass("mTSButtonUp")){var d=u?u[0].offsetTop-parseInt(u.css("margin-top")):0;if(0===r[0].offsetTop)return}}}if("y"!==i.axis&&o.overflowed[1]){var p=a.width(),l="click-thumb"===i.type?0:e(this).hasClass("mTSButtonLeft")?"+=":e(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==i.type)var c=parseInt(i.type.split("click-")[1])||1,d=l?[null,l+p*c/100]:d;else{var u=I.call(t[0])[2],m=I.call(t[0])[3];if(e(this).hasClass("mTSButtonRight"))var d=m?m[0].offsetLeft-parseInt(m.css("margin-right"))-p:989999;else if(e(this).hasClass("mTSButtonLeft")){var d=u?u[0].offsetLeft-parseInt(u.css("margin-left")):0;if(0===r[0].offsetLeft)return}}}null!==d&&h.scrollTo.call(t[0],d,{duration:0})}})},I=function(){var t,o,i,s,a=e(this),r=a.data(n),l=(r.opt,e("#mTS_"+r.idx+"_container")),c=e("#mTS_"+r.idx),d=l.find(".mTSThumbContainer");return d.each(function(){var n=e(this),a=[Math.round(n.offset().top-l.offset().top+l[0].offsetTop),Math.round(n.offset().left-l.offset().left+l[0].offsetLeft)];if(a[0]<=0-parseInt(n.css("margin-top")))t=d.eq(0===a[0]?n.index()-1:n.index());else if(a[0]<=c.height()+parseInt(n.css("margin-bottom"))){var r=d.eq(n.index()+1);o=r.length?r:null}if(a[1]<=0-parseInt(n.css("margin-left")))i=d.eq(0===a[1]?n.index()-1:n.index());else if(a[1]<=c.width()+parseInt(n.css("margin-right"))){var u=d.eq(n.index()+1);s=u.length?u:null}}),[t,o,i,s]},M=function(t){var o=e(this).data(n).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===o.axis?null:t,i[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},j=function(t,o){if(null!=t&&"undefined"!=typeof t){var i=e(this),s=i.data(n),a=s.opt,r=e("#mTS_"+s.idx),l=e("#mTS_"+s.idx+"_container"),c=typeof t;o||(o="x"===a.axis?"x":"y");var d="x"===o?l.width():l.height(),u="x"===o?l.offset().left:l.offset().top,m="x"===o?l[0].offsetLeft:l[0].offsetTop,p="x"===o?"left":"top";switch(c){case"function":return t();case"object":if(t.nodeType)var f="x"===o?e(t).offset().left:e(t).offset().top;
else if(t.jquery){if(!t.length)return;var f="x"===o?t.offset().left:t.offset().top}return f-u;case"string":case"number":if(U(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(m-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var g=m+parseInt(t.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==t.indexOf("px")&&U(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(r.height()-l.height());if("right"===t)return Math.abs(r.width()-l.width());if("first"===t||"last"===t){var b=l.find(":"+t),f="x"===o?e(b).offset().left:e(b).offset().top;return f-u}if(e(t).length){var f="x"===o?e(t).offset().left:e(t).offset().top;return f-u}return l.css(p,t),void h.update.call(null,i[0])}}},O=function(t){function o(){clearTimeout(m[0].autoUpdate),m[0].autoUpdate=setTimeout(function(){return d.advanced.updateOnSelectorChange&&(p=a(),p!==b)?(r(),void(b=p)):(d.advanced.updateOnContentResize&&(f=[m.height(),m.width(),u.height(),u.width(),l.height(),l.width()],(f[0]!==v[0]||f[1]!==v[1]||f[2]!==v[2]||f[3]!==v[3]||f[4]!==v[4]||f[5]!==v[5])&&(r(),v=f)),d.advanced.updateOnImageLoad&&(g=i(),g!==_&&(m.find("img").each(function(){s(this.src)}),_=g)),void((d.advanced.updateOnSelectorChange||d.advanced.updateOnContentResize||d.advanced.updateOnImageLoad)&&o()))},60)}function i(){var e=0;return d.advanced.updateOnImageLoad&&(e=m.find("img").length),e}function s(e){function t(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null,r()}var i=new Image;i.onload=t(i,o),i.src=e}function a(){d.advanced.updateOnSelectorChange===!0&&(d.advanced.updateOnSelectorChange="*");var t=0,o=m.find(d.advanced.updateOnSelectorChange);return d.advanced.updateOnSelectorChange&&o.length>0&&o.each(function(){t+=e(this).height()+e(this).width()}),t}function r(){clearTimeout(m[0].autoUpdate),h.update.call(null,l[0])}var l=e(this),c=l.data(n),d=c.opt,u=e("#mTS_"+c.idx),m=e("#mTS_"+c.idx+"_container");if(t)return clearTimeout(m[0].autoUpdate),void B(m[0],"autoUpdate");var p,f,g,b=a(),v=[m.height(),m.width(),u.height(),u.width(),l.height(),l.width()],_=i();o()},F=function(t){var o=t.data(n),i=e("#mTS_"+o.idx+"_container");i.each(function(){N.call(this)})},z=function(t,o,i){function s(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function a(){return[c.callbacks.alwaysTriggerOffsets||g>=b+_,c.callbacks.alwaysTriggerOffsets||-w>=g]}function r(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[h.height(),h.width()],n=[u.height(),u.width()];t[0].mts={content:h,top:e[0],left:e[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(o[0])-n[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(o[1])-n[1])),direction:i.dir}}var l=t.data(n),c=l.opt,d={trigger:"internal",dir:"y",easing:"easeOut",dur:60*c.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=e.extend(d,i),u=e("#mTS_"+l.idx),h=e("#mTS_"+l.idx+"_container"),m=c.callbacks.onTotalScrollOffset?M.call(t,c.callbacks.onTotalScrollOffset):[0,0],p=c.callbacks.onTotalScrollBackOffset?M.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];switch(l.trigger=i.trigger,(0!==u.scrollTop()||0!==u.scrollLeft())&&u.scrollTop(0).scrollLeft(0),i.dir){case"x":var f="left",g=h[0].offsetLeft,b=u.width()-h.width(),v=o,_=m[1],w=p[1],y=_>0?_:0,$=w>0?w:0;break;case"y":var f="top",g=h[0].offsetTop,b=u.height()-h.height(),v=o,_=m[0],w=p[0],y=_>0?_:0,$=w>0?w:0}v>=0?(v=0,R.call(t,!1,1,i.dir)):b>=v?(v=b,R.call(t,!1,2,i.dir)):(v=v,R.call(t,!1,0,i.dir)),t[0].mts||(r(),s("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),(l.tweenRunning||!(0===g&&v>=0||g===b&&b>=v))&&L(h[0],f,Math.round(v),i.dur,i.easing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!l.tweenRunning&&(s("onScrollStart")&&(r(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,l.cbOffsets=a())},onUpdate:function(){i.callbacks&&i.onUpdate&&s("whileScrolling")&&(r(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){s("onScroll")&&(r(),c.callbacks.onScroll.call(t[0])),s("onTotalScroll")&&b+y>=v&&l.cbOffsets[0]&&(r(),c.callbacks.onTotalScroll.call(t[0])),s("onTotalScrollBack")&&v>=-$&&l.cbOffsets[1]&&(r(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,h[0].idleTimer=0},e)}}})},L=function(e,o,i,n,s,a,r){function l(){$.stop||(_||f.call(),_=H()-v,c(),_>=$.time&&($.time=_>$.time?_+m-(_-$.time):_+m-1,$.time<_+1&&($.time=_+1)),$.time<n?$.id=p(l):b.call())}function c(){n>0?($.currVal=h($.time,w,k,n,s),y[o]=Math.round($.currVal)+"px"):y[o]=i+"px",g.call()}function d(){m=1e3/60,$.time=_+m,p=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return c(),setTimeout(e,.01)},$.id=p(l)}function u(){null!=$.id&&(t.requestAnimationFrame?t.cancelAnimationFrame($.id):clearTimeout($.id),$.id=null)}function h(e,t,o,i,n){switch(n){case"linear":return o*e/i+t;case"linearOut":return e/=i,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=i/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=i/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":return e/=i/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=i,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/i)+1)+t;case"easeOut":default:var s=(e/=i)*e,a=s*e;return t+o*(.499999999999997*a*s+-2.5*s*s+5.5*a+-6.5*s+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var m,p,r=r||{},f=r.onStart||function(){},g=r.onUpdate||function(){},b=r.onComplete||function(){},v=H(),_=0,w=e.offsetTop,y=e.style,$=e._mTween[o];"left"===o&&(w=e.offsetLeft);var k=i-w;$.stop=0,"none"!==a&&u(),d()},H=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},N=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var o=["top","left"],i=0;i<o.length;i++){var n=o[i];e._mTween[n].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},B=function(e,t){try{delete e[t]}catch(o){e[t]=null}},W=function(e){return!(e.which&&1!==e.which)},q=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},U=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};e.fn[i]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[i]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[i].defaults=a,t[i]=!0,e(t).load(function(){var t=e(s),o=[];if(t.length){t.each(function(){var t=e(this),i=t.data("mts-axis")||a.axis,s=t.data("mts-type")||a.type,r=t.data("mts-theme")||a.theme,l="auto-"+n+"-"+i+"-"+s+"-"+r,c=[l,i,s];t.addClass(l),-1===e.inArray(l,o)&&o.push(c)});for(var r=0;r<o.length;r++)e("."+o[r][0])[i]({axis:o[r][1],type:o[r][2]})}})}(jQuery,window,document),/**! hopscotch - v0.2.3
*
* Copyright 2014 LinkedIn Corp. All rights reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
!function(context,namespace){var Hopscotch,HopscotchBubble,HopscotchCalloutManager,HopscotchI18N,customI18N,customRenderer,customEscape,utils,callbacks,helpers,winLoadHandler,defaultOpts,templateToUse="bubble_default",Sizzle=window.Sizzle||null,winHopscotch=context[namespace],undefinedStr="undefined",waitingToStart=!1,hasJquery=typeof window.jQuery!==undefinedStr,hasSessionStorage=!1,isStorageWritable=!1,document=window.document,rtlMatches={left:"right",right:"left"};try{typeof window.sessionStorage!==undefinedStr&&(hasSessionStorage=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),isStorageWritable=!0)}catch(err){}defaultOpts={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},winHopscotch||(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),winLoadHandler=function(){waitingToStart&&winHopscotch.startTour()},utils={addClass:function(e,t){var o,i,n,s;if(e.className){for(i=t.split(/\s+/),o=" "+e.className+" ",n=0,s=i.length;s>n;++n)o.indexOf(" "+i[n]+" ")<0&&(o+=i[n]+" ");e.className=o.replace(/^\s+|\s+$/g,"")}else e.className=t},removeClass:function(e,t){var o,i,n,s;for(i=t.split(/\s+/),o=" "+e.className+" ",n=0,s=i.length;s>n;++n)o=o.replace(" "+i[n]+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){var o;return e.className?(o=" "+e.className+" ",-1!==o.indexOf(" "+t+" ")):!1},getPixelValue:function(e){var t=typeof e;return"number"===t?e:"string"===t?parseInt(e,10):0},valOrDefault:function(e,t){return typeof e!==undefinedStr?e:t},invokeCallbackArrayHelper:function(e){var t;return Array.isArray(e)&&(t=helpers[e[0]],"function"==typeof t)?t.apply(this,e.slice(1)):void 0},invokeCallbackArray:function(e){var t,o;if(Array.isArray(e)){if("string"==typeof e[0])return utils.invokeCallbackArrayHelper(e);for(t=0,o=e.length;o>t;++t)utils.invokeCallback(e[t])}},invokeCallback:function(e){return"function"==typeof e?e():"string"==typeof e&&helpers[e]?helpers[e]():utils.invokeCallbackArray(e)},invokeEventCallbacks:function(e,t){var o,i,n=callbacks[e];if(t)return this.invokeCallback(t);for(o=0,i=n.length;i>o;++o)this.invokeCallback(n[o].cb)},getScrollTop:function(){var e;return e=typeof window.pageYOffset!==undefinedStr?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){var e;return e=typeof window.pageXOffset!==undefinedStr?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth},addEvtListener:function(e,t,o){return e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent("on"+t,o)},removeEvtListener:function(e,t,o){return e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent("on"+t,o)},documentIsReady:function(){return"complete"===document.readyState||"interactive"===document.readyState},evtPreventDefault:function(e){e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)},extend:function(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},getStepTargetHelper:function(e){var t=document.getElementById(e);if(t)return t;if(hasJquery)return t=jQuery(e),t.length?t[0]:null;if(Sizzle)return t=new Sizzle(e),t.length?t[0]:null;if(document.querySelector)try{return document.querySelector(e)}catch(o){}return/^#[a-zA-Z][\w-_:.]*$/.test(e)?document.getElementById(e.substring(1)):null},getStepTarget:function(e){var t;if(!e||!e.target)return null;if("string"==typeof e.target)return utils.getStepTargetHelper(e.target);if(Array.isArray(e.target)){var o,i;for(o=0,i=e.target.length;i>o;o++)if("string"==typeof e.target[o]&&(t=utils.getStepTargetHelper(e.target[o])))return t;return null}return e.target},getI18NString:function(e){return customI18N[e]||HopscotchI18N[e]},setState:function(e,t,o){var i,n="";if(hasSessionStorage&&isStorageWritable)try{sessionStorage.setItem(e,t)}catch(s){isStorageWritable=!1,this.setState(e,t,o)}else hasSessionStorage&&sessionStorage.removeItem(e),o&&(i=new Date,i.setTime(i.getTime()+24*o*60*60*1e3),n="; expires="+i.toGMTString()),document.cookie=e+"="+t+n+"; path=/"},getState:function(e){var t,o,i,n=e+"=",s=document.cookie.split(";");if(hasSessionStorage&&(i=sessionStorage.getItem(e)))return i;for(t=0;t<s.length;t++){for(o=s[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n)){i=o.substring(n.length,o.length);break}}return i},clearState:function(e){hasSessionStorage?sessionStorage.removeItem(e):this.setState(e,"",-1)},normalizePlacement:function(e){!e.placement&&e.orientation&&(e.placement=e.orientation)},flipPlacement:function(e){if(e.isRtl&&!e._isFlipped){var t,o,i=["orientation","placement"];e.xOffset&&(e.xOffset=-1*this.getPixelValue(e.xOffset));for(o in i)t=i[o],e.hasOwnProperty(t)&&rtlMatches.hasOwnProperty(e[t])&&(e[t]=rtlMatches[e[t]]);e._isFlipped=!0}}},utils.addEvtListener(window,"load",winLoadHandler),callbacks={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},helpers={},HopscotchI18N={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},customI18N={},HopscotchBubble=function(e){this.init(e)},HopscotchBubble.prototype={isShowing:!1,currStep:void 0,setPosition:function(e){var t,o,i,n,s,a,r,l=utils.getStepTarget(e),c=this.element,d=this.arrowEl,u=e.isRtl?"right":"left";if(utils.flipPlacement(e),utils.normalizePlacement(e),o=c.offsetWidth,t=c.offsetHeight,utils.removeClass(c,"fade-in-down fade-in-up fade-in-left fade-in-right"),i=l.getBoundingClientRect(),r=e.isRtl?i.right-o:i.left,"top"===e.placement)n=i.top-t-this.opt.arrowWidth,s=r;else if("bottom"===e.placement)n=i.bottom+this.opt.arrowWidth,s=r;else if("left"===e.placement)n=i.top,s=i.left-o-this.opt.arrowWidth;else{if("right"!==e.placement)throw"Bubble placement failed because step.placement is invalid or undefined!";n=i.top,s=i.right+this.opt.arrowWidth}a="center"!==e.arrowOffset?utils.getPixelValue(e.arrowOffset):e.arrowOffset,a?"top"===e.placement||"bottom"===e.placement?(d.style.top="",d.style[u]="center"===a?Math.floor(o/2-d.offsetWidth/2)+"px":a+"px"):("left"===e.placement||"right"===e.placement)&&(d.style[u]="",d.style.top="center"===a?Math.floor(t/2-d.offsetHeight/2)+"px":a+"px"):(d.style.top="",d.style[u]=""),"center"===e.xOffset?s=i.left+l.offsetWidth/2-o/2:s+=utils.getPixelValue(e.xOffset),"center"===e.yOffset?n=i.top+l.offsetHeight/2-t/2:n+=utils.getPixelValue(e.yOffset),e.fixedElement||(n+=utils.getScrollTop(),s+=utils.getScrollLeft()),c.style.position=e.fixedElement?"fixed":"absolute",c.style.top=n+"px",c.style.left=s+"px"},render:function(e,t,o){var n,s,a,r,l,c,d,u,h=this.element;if(e?this.currStep=e:this.currStep&&(e=this.currStep),this.opt.isTourBubble?(r=winHopscotch.getCurrTour(),r&&(s=r.customData,n=r.customRenderer,e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:r.hasOwnProperty("isRtl")?r.isRtl:this.opt.isRtl,a=r.unsafe,Array.isArray(r.steps)&&(l=r.steps.length,d=t===l-1))):(s=e.customData,n=e.customRenderer,a=e.unsafe,e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:this.opt.isRtl),c=utils.getI18NString(d?"doneBtn":e.showSkip?"skipBtn":"nextBtn"),utils.flipPlacement(e),utils.normalizePlacement(e),this.placement=e.placement,u={i18n:{prevBtn:utils.getI18NString("prevBtn"),nextBtn:c,closeTooltip:utils.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(t))},buttons:{showPrev:utils.valOrDefault(e.showPrevButton,this.opt.showPrevButton)&&t>0,showNext:utils.valOrDefault(e.showNextButton,this.opt.showNextButton),showCTA:utils.valOrDefault(e.showCTAButton&&e.ctaLabel,!1),ctaLabel:e.ctaLabel,showClose:utils.valOrDefault(this.opt.showCloseButton,!0)},step:{num:t,isLast:utils.valOrDefault(d,!1),title:e.title||"",content:e.content||"",isRtl:e.isRtl,placement:e.placement,padding:utils.valOrDefault(e.padding,this.opt.bubblePadding),width:utils.getPixelValue(e.width)||this.opt.bubbleWidth,customData:e.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:l,unsafe:utils.valOrDefault(a,!1),customData:s||{}}},"function"==typeof n)h.innerHTML=n(u);else if("string"==typeof n){if(!hopscotch.templates||"function"!=typeof hopscotch.templates[n])throw'Bubble rendering failed - template "'+n+'" is not a function.';h.innerHTML=hopscotch.templates[n](u)}else if(customRenderer)h.innerHTML=customRenderer(u);else{if(!hopscotch.templates||"function"!=typeof hopscotch.templates[templateToUse])throw'Bubble rendering failed - template "'+templateToUse+'" is not a function.';h.innerHTML=hopscotch.templates[templateToUse](u)}for(children=h.children,numChildren=children.length,i=0;numChildren>i;i++)node=children[i],utils.hasClass(node,"hopscotch-arrow")&&(this.arrowEl=node);return h.style.zIndex="number"==typeof e.zindex?e.zindex:"",this._setArrow(e.placement),this.hide(!1),this.setPosition(e),o&&o(!e.fixedElement),this},_getStepNum:function(e){var t,o,i=0,n=winHopscotch.getSkippedStepsIndexes(),s=n.length;for(o=0;s>o;o++)t=n[o],e>t&&i++;return e-i},_getStepI18nNum:function(e){var t=utils.getI18NString("stepNums");return t&&e<t.length?e=t[e]:e+=1,e},_setArrow:function(e){utils.removeClass(this.arrowEl,"down up right left"),"top"===e?utils.addClass(this.arrowEl,"down"):"bottom"===e?utils.addClass(this.arrowEl,"up"):"left"===e?utils.addClass(this.arrowEl,"right"):"right"===e&&utils.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var e=this,t="fade-in-"+this._getArrowDirection(),o=1e3;return utils.removeClass(this.element,"hide"),utils.addClass(this.element,t),setTimeout(function(){utils.removeClass(e.element,"invisible")},50),setTimeout(function(){utils.removeClass(e.element,t)},o),this.isShowing=!0,this},hide:function(e){var t=this.element;return e=utils.valOrDefault(e,!0),t.style.top="",t.style.left="",e?(utils.addClass(t,"hide"),utils.removeClass(t,"invisible")):(utils.removeClass(t,"hide"),utils.addClass(t,"invisible")),utils.removeClass(t,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var e=this.element;e&&e.parentNode.removeChild(e),utils.removeEvtListener(e,"click",this.clickCb)},_handleBubbleClick:function(e){function t(o){return o===e.currentTarget?null:utils.hasClass(o,"hopscotch-cta")?"cta":utils.hasClass(o,"hopscotch-next")?"next":utils.hasClass(o,"hopscotch-prev")?"prev":utils.hasClass(o,"hopscotch-close")?"close":t(o.parentElement)}var o;e=e||window.event;var i=e.target||e.srcElement;if(o=t(i),"cta"===o)this.opt.isTourBubble||winHopscotch.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&utils.invokeCallback(this.currStep.onCTA);else if("next"===o)winHopscotch.nextStep(!0);else if("prev"===o)winHopscotch.prevStep(!0);else if("close"===o){if(this.opt.isTourBubble){var n=winHopscotch.getCurrStepNum(),s=winHopscotch.getCurrTour(),a=n===s.steps.length-1;utils.invokeEventCallbacks("close"),winHopscotch.endTour(!0,a)}else this.opt.onClose&&utils.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?winHopscotch.getCalloutManager().removeCallout(this.opt.id):this.destroy();utils.evtPreventDefault(e)}},init:function(e){var t,o,i,n=document.createElement("div"),s=this,a=!1;this.element=n,i={showPrevButton:defaultOpts.showPrevButton,showNextButton:defaultOpts.showNextButton,bubbleWidth:defaultOpts.bubbleWidth,bubblePadding:defaultOpts.bubblePadding,arrowWidth:defaultOpts.arrowWidth,isRtl:defaultOpts.isRtl,showNumber:!0,isTourBubble:!0},e=typeof e===undefinedStr?{}:e,utils.extend(i,e),this.opt=i,n.className="hopscotch-bubble animated",i.isTourBubble||utils.addClass(n,"hopscotch-callout no-number"),t=function(){!a&&s.isShowing&&(a=!0,setTimeout(function(){s.setPosition(s.currStep),a=!1},100))},utils.addEvtListener(window,"resize",t),this.clickCb=function(e){s._handleBubbleClick(e)},utils.addEvtListener(n,"click",this.clickCb),this.hide(),utils.documentIsReady()?document.body.appendChild(n):(document.addEventListener?(o=function(){document.removeEventListener("DOMContentLoaded",o),window.removeEventListener("load",o),document.body.appendChild(n)},document.addEventListener("DOMContentLoaded",o,!1)):(o=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",o),window.detachEvent("onload",o),document.body.appendChild(n))},document.attachEvent("onreadystatechange",o)),utils.addEvtListener(window,"load",o))}},HopscotchCalloutManager=function(){var e={},t={};this.createCallout=function(o){var i;if(!o.id)throw"Must specify a callout id.";if(e[o.id])throw"Callout by that id already exists. Please choose a unique id.";return o.showNextButton=o.showPrevButton=!1,o.isTourBubble=!1,i=new HopscotchBubble(o),e[o.id]=i,t[o.id]=o,o.target&&i.render(o,null,function(){i.show(),o.onShow&&utils.invokeCallback(o.onShow)}),i},this.getCallout=function(t){return e[t]},this.removeAllCallouts=function(){var t;for(t in e)e.hasOwnProperty(t)&&this.removeCallout(t)},this.removeCallout=function(o){var i=e[o];e[o]=null,t[o]=null,i&&i.destroy()},this.refreshCalloutPositions=function(){var o,i,n;for(o in e)e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&(i=e[o],n=t[o],i&&n&&i.setPosition(n))}},Hopscotch=function(e){var t,o,i,n,s,a,r,l,c=this,d={},u=[],h=function(e){return t||(t=new HopscotchBubble(i)),e&&utils.extend(t.opt,{bubblePadding:m("bubblePadding"),bubbleWidth:m("bubbleWidth"),showNextButton:m("showNextButton"),showPrevButton:m("showPrevButton"),showCloseButton:m("showCloseButton"),arrowWidth:m("arrowWidth"),isRtl:m("isRtl")}),t},m=function(e){return"undefined"==typeof i?defaultOpts[e]:utils.valOrDefault(i[e],defaultOpts[e])},p=function(){var e;return e=!n||0>s||s>=n.steps.length?null:n.steps[s]},f=function(){c.nextStep()},g=function(e){var t,o,i,n,s,a,r=h(),l=r.element,c=utils.getPixelValue(l.style.top),d=c+utils.getPixelValue(l.offsetHeight),u=utils.getStepTarget(p()),f=u.getBoundingClientRect(),g=f.top+utils.getScrollTop(),b=f.bottom+utils.getScrollTop(),v=g>c?c:g,_=d>b?d:b,w=utils.getScrollTop(),y=w+utils.getWindowHeight(),$=v-m("scrollTopMargin");v>=w&&(v<=w+m("scrollTopMargin")||y>=_)?e&&e():m("smoothScroll")?typeof YAHOO!==undefinedStr&&typeof YAHOO.env!==undefinedStr&&typeof YAHOO.env.ua!==undefinedStr&&typeof YAHOO.util!==undefinedStr&&typeof YAHOO.util.Scroll!==undefinedStr?(t=YAHOO.env.ua.webkit?document.body:document.documentElement,i=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,o=new YAHOO.util.Scroll(t,{scroll:{to:[0,$]}},m("scrollDuration")/1e3,i),o.onComplete.subscribe(e),o.animate()):hasJquery?jQuery("body, html").animate({scrollTop:$},m("scrollDuration"),e):(0>$&&($=0),n=w>v?-1:1,s=Math.abs(w-$)/(m("scrollDuration")/10),(a=function(){var t=utils.getScrollTop(),o=t+n*s;return n>0&&o>=$||0>n&&$>=o?(o=$,e&&e(),void window.scrollTo(0,o)):(window.scrollTo(0,o),utils.getScrollTop()===t?void(e&&e()):void setTimeout(a,10))})()):(window.scrollTo(0,$),e&&e())},b=function(e,t){var o,i,a;s+e>=0&&s+e<n.steps.length?(s+=e,i=p(),a=function(){o=utils.getStepTarget(i),o?(d[s]&&delete d[s],t(s)):(d[s]=!0,utils.invokeEventCallbacks("error"),b(e,t))},i.delay?setTimeout(a,i.delay):a()):t(-1)},v=function(e,t){var o,i,a,r,l=h(),c=this;if(l.hide(),e=utils.valOrDefault(e,!0),o=p(),o.nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(o),"click",f),i=o,a=t>0?i.multipage:s>0&&n.steps[s-1].multipage,r=function(o){var n;if(-1===o)return this.endTour(!0);if(e&&(n=t>0?utils.invokeEventCallbacks("next",i.onNext):utils.invokeEventCallbacks("prev",i.onPrev)),o===s){if(a)return void $();n=utils.valOrDefault(n,!0),n?this.showStep(o):this.endTour(!1)}},!a&&m("skipIfNoElement"))b(t,function(e){r.call(c,e)});else if(s+t>=0&&s+t<n.steps.length){if(s+=t,o=p(),!utils.getStepTarget(o)&&!a)return utils.invokeEventCallbacks("error"),this.endTour(!0,!1);r.call(this,s)}return this},_=function(e){var t,o,i,n={};for(t in e)e.hasOwnProperty(t)&&"id"!==t&&"steps"!==t&&(n[t]=e[t]);return l.call(this,n,!0),o=utils.getState(m("cookieName")),o&&(i=o.split(":"),a=i[0],r=i[1],i.length>2&&(u=i[2].split(",")),r=parseInt(r,10)),this},w=function(e,t,o){var i,n;if(s=e||0,d=t||{},i=p(),n=utils.getStepTarget(i))return void o(s);if(!n){if(utils.invokeEventCallbacks("error"),d[s]=!0,m("skipIfNoElement"))return void b(1,o);s=-1,o(s)}},y=function(e){function t(){i.show(),utils.invokeEventCallbacks("show",o.onShow)}var o=n.steps[e],i=h(),a=utils.getStepTarget(o);s!==e&&p().nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(p()),"click",f),s=e,i.hide(!1),i.render(o,e,function(e){e?g(t):t(),o.nextOnTargetClick&&utils.addEvtListener(a,"click",f)}),$()},$=function(){var e=n.id+":"+s,t=winHopscotch.getSkippedStepsIndexes();t&&t.length>0&&(e+=":"+t.join(",")),utils.setState(m("cookieName"),e,1)},k=function(e){e&&this.configure(e)};this.getCalloutManager=function(){return typeof o===undefinedStr&&(o=new HopscotchCalloutManager),o},this.startTour=function(e,t){var o,i,s={},l=this;if(n||(n=e,_.call(this,e)),typeof t!==undefinedStr){if(t>=n.steps.length)throw"Specified step number out of bounds.";i=t}if(!utils.documentIsReady())return waitingToStart=!0,this;if("undefined"==typeof i&&n.id===a&&typeof r!==undefinedStr){if(i=r,u.length>0)for(var c=0,d=u.length;d>c;c++)s[u[c]]=!0}else i||(i=0);return w(i,s,function(e){var t=-1!==e&&utils.getStepTarget(n.steps[e]);return t?(utils.invokeEventCallbacks("start"),o=h(),o.hide(!1),l.isActive=!0,void(utils.getStepTarget(p())?l.showStep(e):(utils.invokeEventCallbacks("error"),m("skipIfNoElement")&&l.nextStep(!1)))):void l.endTour(!1,!1)}),this},this.showStep=function(e){var t=n.steps[e];return t.delay?setTimeout(function(){y(e)},t.delay):y(e),this},this.prevStep=function(e){return v.call(this,e,-1),this},this.nextStep=function(e){return v.call(this,e,1),this},this.endTour=function(e,t){var o,i=h();return e=utils.valOrDefault(e,!0),t=utils.valOrDefault(t,!0),n&&(o=p(),o&&o.nextOnTargetClick&&utils.removeEvtListener(utils.getStepTarget(o),"click",f)),s=0,r=void 0,i.hide(),e&&utils.clearState(m("cookieName")),this.isActive&&(this.isActive=!1,n&&t&&utils.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),n=null,this},this.getCurrTour=function(){return n},this.getCurrTarget=function(){return utils.getStepTarget(p())},this.getCurrStepNum=function(){return s},this.getSkippedStepsIndexes=function(){var e,t=[];for(e in d)t.push(e);return t},this.refreshBubblePosition=function(){var e=p();return e&&h().setPosition(e),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(e,t,o){return e&&callbacks[e].push({cb:t,fromTour:o}),this},this.unlisten=function(e,t){var o,i,n=callbacks[e];for(o=0,i=n.length;i>o;++o)n[o]===t&&n.splice(o,1);return this},this.removeCallbacks=function(e,t){var o,i,n,s;for(s in callbacks)if(!e||e===s)if(t)for(o=callbacks[s],i=0,n=o.length;n>i;++i)o[i].fromTour&&(o.splice(i--,1),--n);else callbacks[s]=[];return this},this.registerHelper=function(e,t){"string"==typeof e&&"function"==typeof t&&(helpers[e]=t)},this.unregisterHelper=function(e){helpers[e]=null},this.invokeHelper=function(e){var t,o,i=[];for(t=1,o=arguments.length;o>t;++t)i.push(arguments[t]);helpers[e]&&helpers[e].call(null,i)},this.setCookieName=function(e){return i.cookieName=e,this},this.resetDefaultOptions=function(){return i={},this},this.resetDefaultI18N=function(){return customI18N={},this},this.getState=function(){return utils.getState(m("cookieName"))},l=function(e,t){var o,n,s,a,r=["next","prev","start","end","show","error","close"];for(i||this.resetDefaultOptions(),utils.extend(i,e),e&&utils.extend(customI18N,e.i18n),s=0,a=r.length;a>s;++s)n="on"+r[s].charAt(0).toUpperCase()+r[s].substring(1),e[n]&&this.listen(r[s],e[n],t);return o=h(!0),this},this.configure=function(e){return l.call(this,e,!1)},this.setRenderer=function(e){var t=typeof e;return"string"===t?(templateToUse=e,customRenderer=void 0):"function"===t&&(customRenderer=e),this},this.setEscaper=function(e){return"function"==typeof e&&(customEscape=e),this},k.call(this,e)},winHopscotch=new Hopscotch,context[namespace]=winHopscotch,function(){var _={};_.escape=function(e){return customEscape?customEscape(e):null==e?"":(""+e).replace(new RegExp("[&<>\"']","g"),function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":'"'==e?"&quot;":"'"==e?"&#x27;":void 0})},this.hopscotch=this.hopscotch||{},this.hopscotch.templates=this.hopscotch.templates||{},this.hopscotch.templates.bubble_default=function(obj){function optEscape(e,t){return t?_.escape(e):e}obj||(obj={});var __t,__p="";with(_.escape,Array.prototype.join,obj)__p+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(__t=step.width)?"":__t)+"px; padding: "+(null==(__t=step.padding)?"":__t)+'px;">\n  ',tour.isTour&&(__p+='<span class="hopscotch-bubble-number">'+(null==(__t=i18n.stepNum)?"":__t)+"</span>"),__p+='\n  <div class="hopscotch-bubble-content">\n    ',""!==step.title&&(__p+='<h3 class="hopscotch-title">'+(null==(__t=optEscape(step.title,tour.unsafe))?"":__t)+"</h3>"),__p+="\n    ",""!==step.content&&(__p+='<div class="hopscotch-content">'+(null==(__t=optEscape(step.content,tour.unsafe))?"":__t)+"</div>"),__p+='\n  </div>\n  <div class="hopscotch-actions">\n    ',buttons.showPrev&&(__p+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(__t=i18n.prevBtn)?"":__t)+"</button>"),__p+="\n    ",buttons.showCTA&&(__p+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(__t=buttons.ctaLabel)?"":__t)+"</button>"),__p+="\n    ",buttons.showNext&&(__p+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(__t=i18n.nextBtn)?"":__t)+"</button>"),__p+="\n  </div>\n  ",buttons.showClose&&(__p+='<a title="'+(null==(__t=i18n.closeTooltip)?"":__t)+'" href="#" class="hopscotch-bubble-close hopscotch-close">'+(null==(__t=i18n.closeTooltip)?"":__t)+"</a>"),__p+='\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>';return __p}}())}(window,"hopscotch"),bmRoom.twitter={},bmRoom.twitter.unread=0,bmRoom.twitter.html=function(e){var t=Object.keys(e.retweet_users).indexOf(bmRoom.user.opens[bmRoom.socket.io.engine.id].id)>=0?"onactive":"",o=e.favorite_users.indexOf(bmRoom.user.opens[bmRoom.socket.io.engine.id].id)>=0?"onactive":"",i="twitter"==e.from_type?"":"ontwitter",n=moment(new Date(e.timestamp)),s=n.format("h:mm:ss a"),a=1==$("#hide_tweets_flag").val()?' style="display:none"':"",r=/(href=['"])?(https?\:\/\/\S*)((\s+)|$)/gi;e.text=e.text.replace(r,function(e,t,o){return t?t+o:'<a href="'+o+'" target="_blank">'+o+"</a>"});var l='<li class="is_twitter '+i+'" id="'+e.id_str+'" data-post-user="'+e.post_user_id+'"'+a+">";return l+='<div class="clroom-groupchat-img"><img alt="'+e.user.screen_name+'" src="'+e.user.profile_image_url_https+'"></div>',l+='<div class="clroom-groupchat-right"><div class="clroom-groupchat-right-in">',"twitter"==e.from_type&&(l+='<div class="clroom-chat-from">FROM TWITTER</div>'),l+='<div class="clroom-groupchat-name">',l+='<div class="clroom-groupchat-name-tw">'+e.user.name+"</div>",l+=' <div class="clroom-chat-twitter"><a target="_blank" href="https://twitter.com/@'+e.user.screen_name+'">@'+e.user.screen_name+"</a></div>",l+='<div class="clroom-groupchat-date" timestamp="'+e.timestamp+'">'+s+"</div>",l+="</div>",l+='<div class="clroom-groupchat-text">',l+=unescape(e.text),l+="</div>",l+='<ul class="clroom-group-chat-subnav">',e.post_user_id!=bmRoom.user.opens[bmRoom.socket.io.engine.id].id&&(l+='<li><a href="javascript:void(0);" class="subnav-retweet '+t+'" id="retweet_'+e.id_str+'" data-retweet-id="'+e.retweet_users[bmRoom.user.opens[bmRoom.socket.io.engine.id].id]+'"><span class="room-retweet"></span></a></li>'),l+='<li><a href="javascript:void(0);" class="subnav-presenter '+o+'" id="favor_'+e.id_str+'"><span class="room-admin"></span></a></li>',(e.post_user_id==bmRoom.user.opens[bmRoom.socket.io.engine.id].id||bmRoom.user.isAdmin(bmRoom.socket.io.engine.id))&&(l+='<li><a class="subnav-delete" href="javascript:void(0);" id="del_'+e.id_str+'"><span class="room-delete"></span></a></li>'),l+="</ul>",l+="</div></div></li>"},$(document).on("keydown","#conference_twitter_hash_tag",function(e){13==e.which&&$("#add_hashtag").click()}),$(document).on("click","#twitter_show_tag, #twitter_learn_more, #twitter_add_tag",function(){var e=bmRoom.admin.admin_list.indexOf(bmRoom.socket.io.engine.id)>-1?!0:!1,t=bmRoom.admin.presenter_list.indexOf(bmRoom.socket.io.engine.id)>-1?!0:!1;("twitter_show_tag"==this.id&&$("#twitter_show_tag").find("#more_info").length>0||"twitter_show_tag"!=this.id)&&(e||t)&&($("#roomchat_group_area").removeClass().addClass("clroom-groupchat-body onactive hashtagshow"),$("#close_twitter").show(),$("#close_twitter_attendee").show())}),$(document).on("click","#close_twitter",function(){var e=$("#roomchat_group_area").attr("data-hashtag").length>1?" logedin":" addhashtag";$("#roomchat_group_area").removeClass().addClass(0==$("#roomchat_group_area").attr("data-hashtag").length||"#"==$("#roomchat_group_area").attr("data-hashtag")?"clroom-groupchat-body onactive"+e:"clroom-groupchat-body onactive logedin"),$("#close_twitter").hide()}),$(document).on("click","#close_twitter_attendee",function(){var e=$("#roomchat_group_area").attr("data-hashtag").length>1?" logedin":"";$("#roomchat_group_area").removeClass().addClass("clroom-groupchat-body onactive"+e),$("#close_twitter_attendee").hide()}),$.fn.setCursorPosition=function(e,t){var o=document.querySelector(e);o.focus();var i=o.firstChild,n=document.createRange();n.setStart(i,t),n.setEnd(i,t);var s=window.getSelection();s.removeAllRanges(),s.addRange(n)};var oauth_window;bmRoom.twitter.start=function(){$(document).on("click","#add_hashtag",function(){var e=checkHash($("#conference_twitter_hash_tag").val());$("#chat_bottom").attr("data-token")&&$("#chat_bottom").attr("data-token-secret")||0==$("#conference_twitter_hash_tag").val().length?(bmRoom.socket.emit("new-hashtag",{new_hashtag:e,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),$.ajax({type:"POST",url:"/conferences/"+$("#conference-obfuscated-id").val()+"/add_twitter_hash_tag?twitter_hash_tag="+encodeURIComponent(e)+"&user_id="+$("#roomchat_group_area").attr("data-uid")}),$("#roomchat_group_area").attr("data-hashtag",e),$("#roomchat_group_area").attr("data-token")&&$("#roomchat_group_area").attr("data-token-secret")||($("#roomchat_group_area").attr("data-token",$("#chat_bottom").attr("data-token")),$("#roomchat_group_area").attr("data-token-secret",$("#chat_bottom").attr("data-token-secret")))):oauth_window=window.open("/auth/twitter?request_source=conference_room_add_hashtag&twitter_hash_tag="+encodeURIComponent(e)+"&conference_id="+$("#conference-obfuscated-id").val(),"","width=600, height=500")}),$(document).on("click","#remove_hashtag",function(){$("#conference_twitter_hash_tag").val(""),$("#add_hashtag").click()}),$(document).on("click","#hide_tweets_attendee",function(){var e=bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)?" addhashtag":"";e=$("#roomchat_group_area").attr("data-hashtag").length>1?" logedin":e,1==$("#hide_tweets_flag").val()?($("#hide_tweets_flag").val(0),$(".is_twitter").show(),$("#hide_tweets_attendee").text("Hide All Tweets"),$("#roomchat_group_area")[0].className="clroom-groupchat-body onactive"+e):($("#hide_tweets_flag").val(1),$(".is_twitter").hide(),$("#hide_tweets_attendee").text("Show All Tweets"),$("#roomchat_group_area")[0].className="clroom-groupchat-body onactive"+e),$("#close_twitter_attendee").hide()}),bmRoom.socket.on("update_screen_name",function(e){"undefined"!=typeof bmRoom.user.opens[e.sid]&&($("#screen_name_"+e.sid).text("@"+e.screen_name),$("#screen_name_"+e.sid).attr("href","https://twitter.com/@"+e.screen_name),bmRoom.user.opens[e.sid].twitter_name=e.screen_name)}),bmRoom.socket.on("change_hash_tag",function(e){$("#conference_twitter_hash_tag").val(e),$("#roomchat_group_area").attr("data-hashtag",e);var t="";"#"==e?"true"==$("#conference-enable-twitter").val()&&(t=bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)?"addhashtag":""):t="logedin",$("#roomchat_group_area")[0].className=$("#roomchat_group_area").hasClass("onactive")?"clroom-groupchat-body onactive "+t:"clroom-groupchat-body logedin"+t,$("#twitter_show_tag>a").html($("#twitter_show_tag a>span").length>0?e+' <span class="room-edit"></span>':e)}),$(document).ready(function(){bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),bmRoom.socket.emit("tweets:load"),"false"==$("#conference-enable-twitter").val()&&bmRoom.socket.emit("new-hashtag",{new_hashtag:"#"})}),$("#post_and_tweet").click(function(){if($("#chat_bottom").attr("data-token")&&$("#chat_bottom").attr("data-token-secret")){var e;e=$("#chat_input_value").val().replace(/&nbsp;|<br>/gi," "),$.trim($("#chat_input_value").val().replace(/&nbsp;|<br>/gi," ")).length>0&&($("#chat_input").html(""),$("#chat_input_value").val(""),$("#type_count").html("0"),bmRoom.socket.emit("post-tweet",{post_user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,tweet_content:escape(e),conference_url:window.location.href,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")})),bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")})}else oauth_window=window.open("/auth/twitter?request_source=conference_room_post_tweet","","width=600, height=500")}),$(document).on("click","[id^=retweet_]",function(){var e=this.id.replace("retweet_","");$("#chat_bottom").attr("data-token")&&$("#chat_bottom").attr("data-token-secret")?($(this).hasClass("onactive")?bmRoom.socket.emit("undo_retweet",{retweet_id:$(this).attr("data-retweet-id"),org_id:e,user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}):bmRoom.socket.emit("retweet",{retweet_id:e,user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")})):oauth_window=window.open("/auth/twitter?request_source=conference_room_retweet&tweet_id="+e,"","width=600, height=500")}),bmRoom.socket.on("retweet",function(e){"undo"==e.type?($("#retweet_"+e.org_id).removeClass("onactive"),$("#retweet_"+e.org_id).attr("data-retweet-id","")):($("#retweet_"+e.org_id).addClass("onactive"),$("#retweet_"+e.org_id).attr("data-retweet-id",e.id))}),$(document).on("click","[id^=favor_]",function(){var e=this.id.replace("favor_","");$("#chat_bottom").attr("data-token")&&$("#chat_bottom").attr("data-token-secret")?($(this).hasClass("onactive")?bmRoom.socket.emit("undo_favorite_tweet",{favor_id:e,user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}):bmRoom.socket.emit("favorite_tweet",{favor_id:e,user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")})):oauth_window=window.open("/auth/twitter?request_source=conference_room_favorite_tweet&tweet_id="+e,"","width=600, height=500")}),bmRoom.socket.on("favorite_tweet",function(e){"undo"==e.type?$("#favor_"+e.id).removeClass("onactive"):$("#favor_"+e.id).addClass("onactive")}),$(document).on("click","[id^=del_]",function(){var e=this.id.replace("del_","");$("#chat_bottom").attr("data-token")&&$("#chat_bottom").attr("data-token-secret")?(bmRoom.socket.emit("delete_tweet",{delete_id:e,user_id:bmRoom.user.opens[bmRoom.socket.io.engine.id].id,user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")}),bmRoom.socket.emit("check-screen-name",{user_token:$("#chat_bottom").attr("data-token"),user_token_secret:$("#chat_bottom").attr("data-token-secret")})):oauth_window=window.open("/auth/twitter?request_source=conference_room_delete_tweet&tweet_id="+e,"","width=600, height=500")
}),bmRoom.socket.on("tweet:sync_delete",function(e){$("#"+e).slideUp("slow",function(){$(this).remove()})}),bmRoom.socket.on("load_new_tweets",function(e){$.each(e,function(e,t){if(t.room_id==bmRoom.roomID)if("tweet"==t.type&&t&&!t.retweeted_status&&$("#"+t.id_str).length<1){if($("#chat-message").is(":visible")){var o=bmRoom.twitter.html(t);bmRoom.chat.prepend(o,$("#chat-message"))}else{bmRoom.chat.store["group-chat"]=bmRoom.chat.store["group-chat"]||[],bmRoom.chat.store["group-chat"].push(t);var i=$('<span class="unread-count" />'),n=$.grep(bmRoom.chat.store["group-chat"],function(e){return"tweet"==e.type});n.length>100&&bmRoom.chat.store["group-chat"].splice(n[0],1),i.html(bmRoom.chat.store["group-chat"].length>99?"<i>99+</i>":"<i>"+bmRoom.chat.store["group-chat"].length+"</i>"),$("#roomchat_group .unread-count").remove(),$("#roomchat_group").append(i)}$(".is_twitter").length>200&&$(".is_twitter")[0].remove()}else if("chat"==t.type){var s=t;if(0==$("#msg-"+s.timestamp).length){var a=bmRoom.chat.message(s);bmRoom.chat.prepend(a,$("#chat-message"))}}})})},bmRoom.poll={},bmRoom.poll.choice=[],bmRoom.poll.responseHtml=function(e){var t=moment(new Date(e.timestamp)),o=t.format("h:mm a"),i='<div class="clroom-modal-box is_poll" id="'+e.poll_id+'"><div class="clroom-popupbox-content poll-width-box">';i+='<form accept-charset="UTF-8" action="/polls/'+e.poll_id+'/poll_responses" class="new_poll_response" data-remote="true" id="new_poll_response_'+e.poll_id+'" method="post">',i+='<input id="poll_response_source" name="poll_response[source]" type="hidden" value="bigroom">',i+='<div class="clroom-popupbox-close"><a href="javascript:void(0);" onclick=$(".clroom-modal-box.is_poll").remove()><span class="room-delete"></span></a></div>',i+='<div class="clroom-popupbox-content-in">',i+='<div class="clroom-popupbox-content-title-box">',i+='<div class="clroom-popupbox-content-title">Poll</div>',i+='<div class="clroom-popupbox-content-subtitle">',i+="By "+e.name+" \xb7 "+o,i+="</div>",i+="</div>",i+='<div class="clroom-popupbox-clear"><div class="clear"><div class="clroom-popup-poll-right">',i+='<div class="clroom-popup-poll-question-text">',i+=e.poll_question,i+="</div>",i+='<ul class="clroom-popup-poll-option">';for(key in e.choice)e.choice[key].value.length>0&&(i+="single"==e.selection_method?'<li><input type="radio" id="poll_response_poll_answers_attributes_0_poll_choice_id_'+e.choice[key].choice_id+'" name="poll_response[poll_answers_attributes][0][poll_choice_id]" value="'+e.choice[key].choice_id+'" data-poll-id="'+e.poll_id+'" data-label="'+e.choice[key].value+'" class="select_poll_choice"></li>':'<li><input type="checkbox" id="poll_response_poll_answers_attributes_'+key+"_poll_choice_id_"+e.choice[key].choice_id+'" name="poll_response[poll_answers_attributes]['+key+'][poll_choice_id]" value="'+e.choice[key].choice_id+'" data-poll-id="'+e.poll_id+'" data-label="'+e.choice[key].value+'" class="select_poll_choice"></li>');return i+="</ul>",i+='<div class="clroom-popup-poll-btn"><input type="submit" name="commit" id="submit_answer_'+e.poll_id+'" value="Submit"></div>',i+="</div></div></div>",i+="</div>",i+="</form>",i+="</div></div>"},bmRoom.poll.responseHtmlInTab=function(e){var t=moment(new Date(e.timestamp)),o=t.format("h:mm a"),i=$("#poll_result_area li").length+1,n='<li id="poll_id_'+e.poll_id+'">';n+='<div class="clroom-poll-box">',n+='<div class="clroom-poll-title">',n+='<span data-counter="'+i+'">POLL #'+i+"</span>",n+="</div>",n+='<div class="clroom-poll-question">',n+=e.poll_question,n+="</div>",n+='<form accept-charset="UTF-8" action="/polls/'+e.poll_id+'/poll_responses" class="new_poll_response" data-remote="true" id="new_poll_response_tab_'+e.poll_id+'" method="post">',n+='<input id="poll_response_source" name="poll_response[source]" type="hidden" value="bigroom">';for(key in e.choice)e.choice[key].value.length>0&&(n+="single"==e.selection_method?'<div class="clroom-poll-list clear"><input type="radio" id="poll_response_poll_answers_attributes_0_poll_choice_id_'+e.choice[key].choice_id+'" name="poll_response[poll_answers_attributes][0][poll_choice_id]" value="'+e.choice[key].choice_id+'" data-poll-id="'+e.poll_id+'" data-label="'+e.choice[key].value+'" class="select_poll_choice"></div>':'<div class="clroom-poll-list clear"><input type="checkbox" id="poll_response_poll_answers_attributes_'+key+"_poll_choice_id_"+e.choice[key].choice_id+'" name="poll_response[poll_answers_attributes]['+key+'][poll_choice_id]" value="'+e.choice[key].choice_id+'" data-poll-id="'+e.poll_id+'" data-label="'+e.choice[key].value+'" class="select_poll_choice"></div>');return n+='<div class="clroom-poll-statistics"><input type="submit" id="submit_answer_in_tab_'+e.poll_id+'" value="Submit"></div>',n+="</form>",n+="</div>",n+='<div class="clroom-qa-body-user clear">',n+='<div class="clroom-qa-body-userimg"><img src="'+e.photo+'"></div>',n+='<div class="clroom-poll-user"><div class="clroom-poll-user-in">',n+="Poll by "+e.name+" \xb7 "+o,n+="</div></div>",n+="</div>",n+="</li>"},bmRoom.poll.choiceResult=function(e){var t=parseInt(e.total_votes),o='<div class="clroom-poll-end-box"><div class="clroom-poll-box2">';o+='<div class="clroom-poll-end-text">Responses: '+e.total_response+"</div>";for(key in e.choice){var i=parseInt(key)+1,n=e.choice[key].choice_id,s=parseInt(e[n]),a=0==t?0:(100*s/t).toFixed(2);e.choice[key].value.length>0&&(o+='<div class="clroom-poll-list clear">',o+='<div class="clroom-poll-numb'+i+'">'+s+" ("+a+"%)</div>",o+='<div class="clroom-poll-options">',o+=e.choice[key].value,o+="</div>",o+='<div class="clroom-poll-right"><div class="clroom-poll-right-in"><div class="clroom-poll-progress-bg">',o+='<div class="clroom-poll-progress poll-'+i+'" style="width:'+a+'%;"></div>',o+="</div></div></div>",o+="</div>")}return o+="</div></div>"},bmRoom.poll.resultHtml=function(e){var t=moment(new Date(e.timestamp)),o=t.format("h:mm a"),i='<div class="clroom-modal-box result_popup" id="'+e.poll_id+'"><div class="clroom-popupbox-content poll-width-box">';return i+='<div class="clroom-popupbox-close"><a href="javascript:void(0);" onclick=$(".clroom-modal-box.is_poll").remove()><span class="room-delete"></span></a></div>',i+='<div class="clroom-popupbox-content-in">',i+='<div class="clroom-popupbox-content-title-box">',i+='<div class="clroom-popupbox-content-title">Poll the Audience</div>',i+='<div class="clroom-popupbox-content-subtitle">',i+="By "+e.name+" \xb7 "+o,i+="</div>",i+="</div>",i+='<div class="clroom-popupbox-clear"><div class="clear"><div class="clroom-popup-poll-right">',i+='<div class="clroom-popup-poll-question-text">',i+=e.poll_question,i+="</div>",i+=bmRoom.poll.choiceResult(e),i+='<div class="clroom-popup-poll-btn"><a href="javascript:void(0);" id="end_poll_'+e.poll_id+'">End Poll</a></div>',i+="</div></div></div>",i+="</div>",i+="</div></div>"},bmRoom.poll.resultHtmlInTab=function(e,t){var o=moment(new Date(e.timestamp)),i=o.format("h:mm a");if(t)var n=$("#poll_id_"+e.poll_id+" .clroom-poll-title span").attr("data-counter");else var n=$("#poll_result_area li").length+1;var s='<li id="poll_id_'+e.poll_id+'" class="poll_result">';s+='<div class="clroom-poll-box">',bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)&&(s+='<div class="clroom-popupbox-close">',s+='<a href="/polls/'+e.poll_id+'/delete_poll_in_bigroom" data-remote="true"><span class="room-delete"></span></a>',s+='<input id="delete_poll_id_'+e.poll_id+'" name="delete_poll" type="hidden">',s+="</div>"),s+='<div class="clroom-poll-title">',s+='<span data-counter="'+n+'">POLL #'+n+"</span>",s+="</div>",s+='<div class="clroom-poll-question">',s+=e.poll_question,s+="</div>";var a="undefined"==typeof e.total_votes?0:parseInt(e.total_votes);for(key in e.choice)if(e.choice[key].value.length>0){var r=parseInt(key)+1,l=e.choice[key].choice_id,c="undefined"==typeof e[l]?0:parseInt(e[l]),d=0==a?0:(100*c/a).toFixed(2);s+='<div class="clroom-poll-list clear" id="choice_tab_'+l+'">',s+='<div class="clroom-poll-numb'+r+'">'+c+" ("+d+"%)</div>",s+='<div class="clroom-poll-options">'+e.choice[key].value+"</div>",s+='<div class="clroom-poll-right"><div class="clroom-poll-right-in"><div class="clroom-poll-progress-bg">',s+='<div class="clroom-poll-progress poll-'+r+'" style="width:'+d+'%;"></div>',s+="</div></div></div>",s+="</div>"}var u=1==e.total_response?e.total_response+" response":e.total_response+" responses";return s+='<div class="clroom-poll-statistics">'+u+"</div>",bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)&&!e.ended&&(s+='<div class="clroom-popup-poll-btn"><a href="javascript:void(0);" id="end_poll_tab_'+e.poll_id+'">End Poll</a></div>'),s+="</div>",s+='<div class="clroom-qa-body-user clear">',s+='<div class="clroom-qa-body-userimg"><img src="'+e.photo+'"></div>',s+='<div class="clroom-poll-user"><div class="clroom-poll-user-in">',s+="Poll by "+e.name+" \xb7 "+i,e.ended&&(s+=" \xb7 Poll Closed"),s+="</div></div>",s+="</div>",s+="</li>"},bmRoom.poll.start=function(){bmRoom.poll.unread=$("#roomchat_poll .unread-count i").length>0?parseInt($("#roomchat_poll .unread-count i").text()):0,$("input:checkbox, input:radio").prettyCheckable({color:"green"}),$(document).on("click","#roomchat_poll",function(){$("#poll_result_area").is(":visible")&&(bmRoom.poll.unread=0,$("#roomchat_poll span").remove())}),$(document).on("click","#create_poll_node",function(){for(var e={},t=0;t<$(".clroom-popup-poll-option input[id^=poll_poll_choices_attributes_]").length;t++)e[t]={choice_id:$($(".clroom-popup-poll-option input[id^=poll_poll_choices_attributes_]")[t]).attr("data-id"),value:$(".clroom-popup-poll-option input[id^=poll_poll_choices_attributes_]")[t].value};bmRoom.socket.emit("create_poll",{sid:bmRoom.socket.io.engine.id,member_id:bmRoom.user.opens[bmRoom.socket.io.engine.id],photo:bmRoom.my.photo,name:bmRoom.my.name,timestamp:Date.now(),poll_id:$(this).val(),poll_question:$("#poll_question").val(),choice:e,selection_method:$("#poll_selection_method_single")[0].checked?"single":"multi"}),bmRoom.saveRecordingAction("CreatePoll","POLL",$("#poll_question").val().trim(),"","","",bmRoom.my.name,"","","","",poll_id)}),bmRoom.socket.on("new_poll",function(e){if(e.room_id=e.room_id.split("-")[0],e.room_id==$("#conference-obfuscated-id").val()&&(bmRoom.poll.choice[e.poll_id]=[],$.modal.close(),"separateChat"!=bmRoom.roomType&&(bmRoom.socket.io.engine.id==e.sid?$("#poll_result_area").append(bmRoom.poll.resultHtmlInTab(e,!1)):($(".clroom-main").append(bmRoom.poll.responseHtml(e)),$("#poll_result_area").append(bmRoom.poll.responseHtmlInTab(e)))),$("input:checkbox, input:radio").prettyCheckable({color:"green"}),$("#poll_result_area").scrollTop($("#poll_result_area")[0].scrollHeight),!$("#poll_result_area").is(":visible"))){bmRoom.poll.unread+=1;var t=$('<span class="unread-count" />');t.html(bmRoom.poll.unread>99?"<i>99+</i>":"<i>"+bmRoom.poll.unread+"</i>"),$("#roomchat_poll span").remove(),$("#roomchat_poll").append(t.clone())}}),$(document).on("click","[id^=end_poll_], [id^=end_poll_tab_]",function(){var e=this.id.replace("end_poll_tab_","").replace("end_poll_","");$.ajax({type:"POST",url:"/polls/"+e+"/end_poll"}),bmRoom.socket.emit("end_poll",e),bmRoom.saveRecordingAction("EndPoll","POLL",$("#poll_id_"+e+" .clroom-poll-question").text().trim(),"","","",bmRoom.my.name,"","","","",e)}),bmRoom.socket.on("end_poll",function(e){$(".clroom-modal-box.is_poll").length>0&&$(".clroom-modal-box.is_poll")[0].id==e.poll_id&&$(".clroom-modal-box.is_poll").remove(),bmRoom.socket.io.engine.id==e.sid?($("#end_poll_tab_"+e.poll_id).parent().remove(),$("#poll_id_"+e.poll_id+" .clroom-qa-body-user .clroom-poll-user .clroom-poll-user-in").append(" \xb7 Poll Closed")):$("#poll_id_"+e.poll_id).replaceWith(bmRoom.poll.resultHtmlInTab(e,!0)),$(".error-warning").addClass("green"),$(".error-warning").html("Poll #"+$("#poll_id_"+e.poll_id+" .clroom-poll-title span").attr("data-counter")+" is closed"),bmRoom.layout.errorWarning(),bmRoom.layout.change()}),$(document).on("change",".select_poll_choice",function(){var e=$(this).attr("data-poll-id");"undefined"==typeof bmRoom.poll.choice[e]&&(bmRoom.poll.choice[e]=[]),$(this).prop("checked")?"radio"==$(this).attr("type")?(bmRoom.poll.choice[e]=[],bmRoom.poll.choice[e].push($(this).val())):bmRoom.poll.choice[e].push($(this).val()):bmRoom.poll.choice[e].splice(bmRoom.poll.choice[e].indexOf($(this).val()),1),jQuery.unique(bmRoom.poll.choice[e])}),$(document).on("click","[id^=submit_answer_], [id^=submit_answer_in_tab_]",function(e){e.preventDefault();var t=this.id.replace("submit_answer_in_tab_","").replace("submit_answer_","");if("undefined"!=typeof bmRoom.poll.choice[t]&&bmRoom.poll.choice[t].length>0){$(this).closest("form").submit(),$(".clroom-modal-box.is_poll").remove(),$("#submit_answer_in_tab_"+t).parent().remove();for(var o={},i=0;i<$("#new_poll_response_tab_"+t+" [id^=poll_response_poll_answers_attributes_]").length;i++)o[i]={choice_id:$("#new_poll_response_tab_"+t+" [id^=poll_response_poll_answers_attributes_]")[i].value,value:$($("#new_poll_response_tab_"+t+" [id^=poll_response_poll_answers_attributes_]")[i]).attr("data-label")};"undefined"!=typeof bmRoom.poll.choice[t]&&bmRoom.poll.choice[t].length>0&&(bmRoom.socket.emit("submit_answer",{poll_id:t,timestamp:Date.now(),photo:bmRoom.my.photo,name:bmRoom.my.name,choose:bmRoom.poll.choice[t],submit_sid:bmRoom.socket.io.engine.id,poll_question:$("#poll_id_"+t+" .clroom-poll-question").text(),choice:o}),bmRoom.poll.choice[t].forEach(function(e){var o=$("#new_poll_response_tab_"+t+' input[value="'+e+'"]').attr("data-label").trim(),i=$("#poll_id_"+t+" .clroom-poll-question").text().trim();bmRoom.saveRecordingAction("SubmitAnswer","POLL",i,"","","",bmRoom.my.name,"","",o,e,t)})),bmRoom.poll.choice[t]=[]}}),bmRoom.socket.on("update_result",function(e){console.log(e),bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)?($(".result_popup").length>0&&$(".result_popup .clroom-poll-end-box").replaceWith(bmRoom.poll.choiceResult(e)),$("#poll_id_"+e.poll_id).replaceWith(bmRoom.poll.resultHtmlInTab(e,!0))):bmRoom.socket.io.engine.id==e.submit_sid?$("#poll_id_"+e.poll_id).replaceWith(bmRoom.poll.resultHtmlInTab(e,!0)):$("#poll_id_"+e.poll_id).length>0&&$("#poll_id_"+e.poll_id).hasClass("poll_result")&&$("#poll_id_"+e.poll_id).replaceWith(bmRoom.poll.resultHtmlInTab(e,!0))}),$(document).on("click","[id^=delete_poll_id_]",function(){var e=this.id.replace("delete_poll_id_","");bmRoom.socket.emit("delete_poll",e),bmRoom.saveRecordingAction("DeletePoll","POLL",$("#poll_id_"+e+" .clroom-poll-question").text().trim(),"","","",bmRoom.my.name,"","","","",e),$("#poll_id_"+e).remove()}),bmRoom.socket.on("delete_poll",function(e){$("#poll_id_"+e).remove(),1==bmRoom.poll.unread&&(bmRoom.poll.unread=0,$("#roomchat_poll span").remove()),$("#"+e).remove()})},/*!
 * jQuery Selectbox plugin 0.1.3
 *
 * Copyright 2011, Dimitar Ivanov (http://www.bulgaria-web-developers.com/projects/javascript/selectbox/)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 *
 * Date: Wed Jul 29 23:20:57 2011 +0200
 */
function(e,t){function o(){this._state=[],this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}var i="selectbox",n=!1,s=!0;e.extend(o.prototype,{_isOpenSelectbox:function(e){if(!e)return n;var t=this._getInst(e);return t.isOpen},_isDisabledSelectbox:function(e){if(!e)return n;var t=this._getInst(e);return t.isDisabled},_attachSelectbox:function(t,o){function a(){var t,o=this.attr("id").split("_")[1];for(t in m._state)t!==o&&m._state.hasOwnProperty(t)&&e(":input[sb='"+t+"']")[0]&&m._closeSelectbox(e(":input[sb='"+t+"']")[0])}function r(){var o=arguments[1]&&arguments[1].sub?!0:!1,i=arguments[1]&&arguments[1].disabled?!0:!1;arguments[0].each(function(n){var a,r=e(this),l=e("<li>");r.is(":selected")&&(c.text(r.text()),f=s),n===b-1&&l.addClass("last"),r.is(":disabled")||i?(a=e("<span>",{text:r.text()}).addClass(p.settings.classDisabled),o&&a.addClass(p.settings.classSub),a.appendTo(l)):(a=e("<a>",{href:"#"+r.val(),rel:r.val(),text:r.text(),click:function(o){o.preventDefault();{var i=d;i.attr("id").split("_")[1]}m._changeSelectbox(t,e(this).attr("rel"),e(this).text()),m._closeSelectbox(t)}}),o&&a.addClass(p.settings.classSub),a.appendTo(l)),l.appendTo(u)})}if(this._getInst(t))return n;var l,c,d,u,h=e(t),m=this,p=m._newInst(h),f=n,g=(h.find("optgroup"),h.find("option")),b=g.length;h.attr("sb",p.uid),e.extend(p.settings,m._defaults,o),m._state[p.uid]=n,h.hide(),l=e("<div>",{id:"sbHolder_"+p.uid,"class":p.settings.classHolder}),c=e("<a>",{id:"sbSelector_"+p.uid,href:"#","class":p.settings.classSelector,click:function(o){o.preventDefault(),a.apply(e(this),[]);var i=e(this).attr("id").split("_")[1];m._state[i]?m._closeSelectbox(t):m._openSelectbox(t)}}),d=e("<a>",{id:"sbToggle_"+p.uid,href:"#","class":p.settings.classToggle,click:function(o){o.preventDefault(),a.apply(e(this),[]);var i=e(this).attr("id").split("_")[1];m._state[i]?m._closeSelectbox(t):m._openSelectbox(t)}}),d.appendTo(l),u=e("<ul>",{id:"sbOptions_"+p.uid,"class":p.settings.classOptions,css:{display:"none"}}),h.children().each(function(){var t,o=e(this),i={};o.is("option")?r(o):o.is("optgroup")&&(t=e("<li>"),e("<span>",{text:o.attr("label")}).addClass(p.settings.classGroup).appendTo(t),t.appendTo(u),o.is(":disabled")&&(i.disabled=!0),i.sub=!0,r(o.find("option"),i))}),f||c.text(g.first().text()),e.data(t,i,p),c.appendTo(l),u.appendTo(l),l.insertAfter(h)},_detachSelectbox:function(t){var o=this._getInst(t);return o?(e("#sbHolder_"+o.uid).remove(),e.data(t,i,null),void e(t).show()):n},_changeSelectbox:function(t,o,i){var n=this._getInst(t),a=this._get(n,"onChange");e("#sbSelector_"+n.uid).text(i),e(t).find("option[value='"+o+"']").attr("selected",s),a?a.apply(n.input?n.input[0]:null,[o,n]):n.input&&n.input.trigger("change")},_enableSelectbox:function(t){var o=this._getInst(t);return o&&o.isDisabled?(e("#sbHolder_"+o.uid).removeClass(o.settings.classHolderDisabled),o.isDisabled=n,void e.data(t,i,o)):n},_disableSelectbox:function(t){var o=this._getInst(t);return!o||o.isDisabled?n:(e("#sbHolder_"+o.uid).addClass(o.settings.classHolderDisabled),o.isDisabled=s,void e.data(t,i,o))},_optionSelectbox:function(t,o,s){var a=this._getInst(t);return a?(a[o]=s,void e.data(t,i,a)):n},_openSelectbox:function(t){var o=this._getInst(t);if(o&&!o.isOpen&&!o.isDisabled){var n=e("#sbOptions_"+o.uid),a=parseInt(e(window).height(),10),r=e("#sbHolder_"+o.uid).offset(),l=e(window).scrollTop(),c=n.prev().height(),d=a-(r.top-l)-c/2,u=this._get(o,"onOpen");n.css({top:c+"px",maxHeight:d-c+"px"}),"fade"===o.settings.effect?n.fadeIn(o.settings.speed):n.slideDown(o.settings.speed),e("#sbToggle_"+o.uid).addClass(o.settings.classToggleOpen),this._state[o.uid]=s,o.isOpen=s,u&&u.apply(o.input?o.input[0]:null,[o]),e.data(t,i,o)}},_closeSelectbox:function(t){var o=this._getInst(t);if(o&&o.isOpen){var s=this._get(o,"onClose");"fade"===o.settings.effect?e("#sbOptions_"+o.uid).fadeOut(o.settings.speed):e("#sbOptions_"+o.uid).slideUp(o.settings.speed),e("#sbToggle_"+o.uid).removeClass(o.settings.classToggleOpen),this._state[o.uid]=n,o.isOpen=n,s&&s.apply(o.input?o.input[0]:null,[o]),e.data(t,i,o)}},_newInst:function(e){var t=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:t,input:e,uid:Math.floor(99999999*Math.random()),isOpen:n,isDisabled:n,settings:{}}},_getInst:function(t){try{return e.data(t,i)}catch(o){throw"Missing instance data for this selectbox"}},_get:function(e,o){return e.settings[o]!==t?e.settings[o]:this._defaults[o]}}),e.fn.selectbox=function(t){var o=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&"isDisabled"==t?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this[0]].concat(o)):"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this[0]].concat(o)):this.each(function(){"string"==typeof t?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this].concat(o)):e.selectbox._attachSelectbox(this,t)})},e.selectbox=new o,e.selectbox.version="0.1.3"}(jQuery),function(e,t,o){function i(t,o){this.element=t,this.options=e.extend({},a,o),this._defaults=a,this._name=s,this.init()}function n(t){t.find("a, label").on("touchstart click",function(t){t.preventDefault();var o=e(this).closest(".clearfix"),i=o.find("input"),n=o.find("a");i.prop("disabled")!==!0&&("radio"===i.prop("type")&&e('input[name="'+i.attr("name")+'"]').each(function(t,o){e(o).prop("checked",!1).parent().find("a").removeClass("checked")}),i.prop("checked")?i.prop("checked",!1).change():i.prop("checked",!0).change(),n.toggleClass("checked"))}),t.find("a").on("keyup",function(t){32===t.keyCode&&e(this).click()})}var s="prettyCheckable",a=(t.document,{labelPosition:"right",customClass:"",color:"blue"});i.prototype.init=function(){var t=e(this.element);t.css("display","none");var i=t.data("type")!==o?t.data("type"):t.attr("type"),s=t.data("label")!==o?t.data("label"):"",a=t.data("labelposition")!==o?"label"+t.data("labelposition"):"label"+this.options.labelPosition,r=t.data("customclass")!==o?t.data("customclass"):this.options.customClass,l=t.data("color")!==o?t.data("color"):this.options.color,c=t.prop("disabled")===!0?"disabled":"",d=["pretty"+i,a,r,l,c].join(" ");t.wrap('<div class="clearfix '+d+'"></div>').parent().html();{var u=[],h=t.prop("checked")?"checked":"";t.prop("disabled")?!0:!1}"labelright"===a?(u.push('<a href="#" class="'+h+'"></a>'),u.push('<label for="'+t.attr("id")+'">'+s+"</label>")):(u.push('<label for="'+t.attr("id")+'">'+s+"</label>"),u.push('<a href="#" class="'+h+'"></a>')),t.parent().append(u.join("\n")),n(t.parent())},i.prototype.disableInput=function(){var t=e(this.element);t.parent().addClass("disabled"),t.prop("disabled",!0)},i.prototype.enableInput=function(){var t=e(this.element);t.parent().removeClass("disabled"),t.prop("disabled",!1)},e.fn[s]=function(t){var o=[];return this.each(function(){e.data(this,"plugin_"+s)||o.push(e.data(this,"plugin_"+s,new i(this,t)))}),o}}(jQuery,window),bmRoom.message={},bmRoom.message.setEndOfContenteditable=function(e){var t,o,i=document.getElementById(e);document.createRange?(t=document.createRange(),t.selectNodeContents(i),t.collapse(!1),o=window.getSelection(),o.removeAllRanges(),o.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(i),t.collapse(!1),t.select())},bmRoom.message.convertCode=function(e){var t=bmRoom.user.opens[bmRoom.socket.io.engine.id],o=/@((member\-)*(\w*))((\s+)|$)/g;e.content.replace(o,function(o,i){bmRoom.socket.emit("user:getinfo",i,function(n){var s=$("#"+e.timestamp).html();s=s.replace("@"+i,function(){if(n&&"all"!=i){var e="";return t.id===i&&(e="chat-at-me"),'<span class="unfilter-by-bigmarker chat-at '+e+'">@'+n.name+"</span> "}return"all"===i?'<span class="unfilter-by-bigmarker chat-at chat-at-me">@ all</span> ':o}),$("#"+e.timestamp).html(s)})});var i=/@(guest-\w*)((\s+)|$)/g;return e.content=e.content.replace(i,function(e,o){if("guest"==t.role&&t.id==o){var i="chat-at-me";return'<span class="unfilter-by-bigmarker chat-at '+i+'">@'+t.name+"</span> "}var n;return $.each(bmRoom.user.opens,function(e,t){t.id==o&&(n='<span class="unfilter-by-bigmarker chat-at" data-uid="'+o+'">@'+t.name+"</span> ")}),n?n:'<span class="unfilter-by-bigmarker chat-at" data-uid="'+o+'">@'+o+"</span> "}),e.content},bmRoom.message.filterList=function(e){var t=0,o="",i=0;if("at"===e.type){var n=bmRoom.user.opens;n[0]={name:"All members (@all)",id:"all"},$.each(n,function(i,n){var s=" status"+n.id+" ",a=new RegExp(e.last,"i");if(a.test(n.name)){if(t>10)return;var r="";n.idle&&(r="idle"),o+='<li data-uid="'+n.id+'" data-name="'+n.name+'">',o+="all"===n.id?'  <div class="chat-place status '+s+r+'"></div>':'  <div class="chat-state status '+s+r+'"></div>',o+=n.name,o+="</li>",t++}}),$(".admin-control-body").length>0&&"none"==$(".admin-control-body").css("display")?(i=$("#room-at").offset().left-125,$(".bottom-prong").css("left","120px")):(i=$("#room-at").offset().left-47,$(".bottom-prong").css("left","42px")),pbottom=120}var s=0;"emoji"===e.type&&($.each(emoji_array,function(t,i){if(-1!=i.indexOf(e.last)){if(s>10)return;var n='src="/assets/emoji/'+i+'.png"';o+='<li data-ename="'+i+'">',o+="<img "+n+' class="unfilter-by-bigmarker chat-emoji">',o+="  :"+i+":",o+="</li>",s++}}),$(".admin-control-body").length>0&&"none"==$(".admin-control-body").css("display")?(i=$("#select_face").offset().left-155,$(".bottom-prong").css("left","150px")):(i=$("#select_face").offset().left-45,$(".bottom-prong").css("left","40px")),pbottom=55),o.length>0?($("#chat_filter_list").html(o),$("#chat_filter").css("left",i),$("#chat_filter").css("bottom",pbottom),bmRoom.message.isMobile||$("#chat_filter").show(),$("#chat_filter_list li:first").addClass("active")):($("#chat_filter_list").html(""),$("#chat_filter").hide())},bmRoom.message.emojiSelecting=!1,bmRoom.message.getInputString=function(){var e=$("#chat_input").html(),t=/<br>/gi;e=e.replace(t,"");var o=e.lastIndexOf("@"),i=e.lastIndexOf(":"),n=o>i?o:i,s={};return-1!=n?(o>i?s.type="at":(s.type="emoji",bmRoom.message.emojiSelecting=!0),s.first=e.substring(0,n),s.last=e.substring(n+1)):(s.type="",s.first=e,s.last=""),s},bmRoom.message.confirmSelect=function(){if($("#chat_filter_list li.active").length){var e=bmRoom.message.getInputString().first,t="",o=$("#chat_filter_list li.active").attr("data-uid"),i=$("#chat_filter_list li.active").attr("data-name"),n=$("#chat_filter_list li.active").attr("data-ename");if(o&&i){var s='data-src="@'+o+'"';if("all"===o||bmRoom.user.opens[bmRoom.socket.io.engine.id].id===o)var a='class="unfilter-by-bigmarker chat-at chat-at-me"';else var a='class="unfilter-by-bigmarker chat-at"';var r="all"===o?"@all":"@"+i;t+="firefox"==bmRoom.browser?'<input value="'+r+'" '+a+" "+s+' type="button">':"<span "+a+" "+s+' contenteditable="false">'+r+"</span>"}else if(n){var l='src="/assets/emoji/'+n+'.png"',c='data-src=":'+n+':"';t+="<img "+l+c+' class="unfilter-by-bigmarker chat-emoji">'}$("#chat_input").html(e+t+"&nbsp;"),$("#chat_filter").hide(),bmRoom.message.setEndOfContenteditable("chat_input"),bmRoom.message.htmlToValue()}bmRoom.message.emojiSelecting=!1,$("#chat_bottom").addClass("onfocus"),$("#roomchat_group_area").addClass("onfocus"),$("#twitter_account_bottom > span").text().length<=1&&$("#twitter_account_bottom > span").text("@"+bmRoom.user.opens[bmRoom.socket.io.engine.id].twitter_name),$("#chat_input").trigger("focus"),setTimeout(function(){$("#chat-message").scrollTop($("#chat-message").prop("scrollHeight"))},201)},bmRoom.message.htmlToValue=function(){var e=$("#chat_input").html(),t=/<(\w*)\s.*?data-src=\"(\S*?)\".*?>(.*?<\/\1>)?/gi;return e=e.replace(t,"$2 "),e=e.replace(/(.+?) style=".*?"/gi,"$1"),$("#chat_input_value").val(e)===e?!1:($("#chat_input_value").val(e),!0)},bmRoom.message.userImage=function(e){return e.photo.indexOf("default_photo")>=0||e.photo.indexOf("default-profile-picture")>=0?e.name.indexOf("guest-")>=0?"/assets/letter-icons/"+Math.floor(8*Math.random()+1)+".png":"/assets/letter-icons/"+e.name.substring(0,1).toLowerCase()+Math.floor(7*Math.random()+1)+".png":e.photo},bmRoom.preload=bmRoom.preload||{},bmRoom.openPreload=function(){var e=$(".enter-test-video-box video"),t=$(".enter-test-video-box img");e.hide(),t.show();var o=setTimeout(function(){"firefox"!=bmRoom.browser&&($("#enter-bg-allow").show(),$("#enter-bg-presenter").hide())},2e3);if(bmRoom.preload.enableVideo&&($(".enter-test-right .enter-test-list-left").addClass("onactive"),$(".enter-test-right .enter-test-list-left i").html("On"),$(".enter-test-right .enter-switchbox").removeClass("closed").addClass("onactive"),"chrome"===bmRoom.browser&&$(".enter-test-right .enter-test-select").show(),$(".enter-test-right .enter-test-speak2").show()),bmRoom.preload.enableAudio&&($(".enter-test-left .enter-test-list-left").addClass("onactive"),$(".enter-test-left .enter-test-list-left i").html("On"),$(".enter-test-left .enter-switchbox").removeClass("closed").addClass("onactive"),"chrome"===bmRoom.browser&&$(".enter-test-left .enter-test-select").show(),$(".enter-test-left .enter-test-speak").show()),clearInterval(bmRoom.preload.volumeInterval),bmRoom.preload.stream&&bmRoom.preload.stream.getTracks){var i=bmRoom.preload.stream.getTracks();i.forEach(function(e){e.stop()})}bmRoom.preload.stream=null,$(".enter-test-speak-current").css("width","0");var n={},s=JSON.parse(JSON.stringify(bmRoom.stream.videoConstraints)),a=bmRoom.preload.enableVideo?s:!1;return bmRoom.preload.enableVideo||bmRoom.preload.enableAudio?(n={video:a,audio:bmRoom.stream.audioConstraints},bmRoom.preload.enableVideo&&bmRoom.preload.enableVideo!==!0&&n.video.optional&&n.video.optional.push({sourceId:bmRoom.preload.enableVideo}),bmRoom.preload.enableAudio&&bmRoom.preload.enableAudio!==!0&&n.audio.optional&&n.audio.optional.push({sourceId:bmRoom.preload.enableAudio}),void navigator.getUserMedia(n,function(i){if(clearTimeout(o),$("#enter-bg-allow").hide(),bmRoom.preload.stream=i,bmRoom.preload.enableVideo){var n=URL.createObjectURL(i);e.attr("src",n),e.prop("autoplay",!0),e.prop("muted",!0),e.show(),t.hide()}$("#enter-bg-presenter").show();var s=bmRoom.audioCtx||new AudioContext;analyser=s.createAnalyser(),analyser.smoothingTimeConstant=.3,analyser.fftSize=512;var a=s.createMediaStreamSource(i);if(a.connect(analyser),!bmRoom.preload.enableAudio)return void clearInterval(bmRoom.preload.volumeInterval);var r=new Uint8Array(analyser.frequencyBinCount);bmRoom.preload.volumeInterval=setInterval(function(){var e=0;analyser.getByteFrequencyData(r);for(var t=0;t<r.length;t++)e+=r[t];var o=e/5e4*100+"%";$(".enter-test-speak-current").css("width",o)},500)},function(){clearTimeout(o),$("#enter-bg-allow").hide(),$("#enter-bg").hide()})):($("#enter-bg-presenter").show(),$("#enter-bg-allow").hide(),void clearTimeout(o))},bmRoom.showOverlay=function(e){e&&($("#enter-bg").show(),bmRoom.openPreload(!0))},bmRoom.hideOverlay=function(){$("#enter-bg").hide();var e="";if(bmRoom.preload.stream){if(bmRoom.preload.enableAudio&&bmRoom.preload.enableVideo?e="av":bmRoom.preload.enableAudio&&!bmRoom.preload.enableVideo?e="a":!bmRoom.preload.enableAudio&&bmRoom.preload.enableVideo&&(e="av"),!e)return;bmRoom.stream.pushLocalMedia(bmRoom.preload.stream,e,!0)}},bmRoom.toggleTestAudio=function(){var e=$(".enter-test-list-playbtu .room-test-audio-icon");bmRoom.preload.testAudio||(bmRoom.preload.testAudio=new Audio("/assets/sounds/testing-sound.mp3"),bmRoom.preload.testAudio.addEventListener("ended",function(){e.addClass("room-play").removeClass("room-stop"),e.next(".clroom-test-audio-text").text("Play Test Sound")})),e.hasClass("room-stop")?(bmRoom.preload.testAudio.pause(),bmRoom.preload.testAudio.currentTime=0,e.removeClass("room-stop").addClass("room-play"),e.next(".clroom-test-audio-text").text("Play Test Sound")):(e.addClass("room-stop").removeClass("room-play"),e.next(".clroom-test-audio-text").text("Stop Test Sound"),bmRoom.preload.testAudio.play())},bmRoom.saveRecordingAction=function(e,t,o,i,n,s,a,r,l,c,d,u){a=a?a:bmRoom.my.name;var h={member_id:bmRoom.userID,member_email:bmRoom.userEmail,member_name:a,conference_id:bmRoom.roomID,action_name:e,module_name:t,chat_content:o,wb_image:i,youtube_url:n,hashtag:r,to_member_id:l,poll_id:u,choice:c,choice_id:d,timestamp:Date.now()};"a"==t?h.module_name="MIC":"av"==t?h.module_name="WEBCAM":"sc"==t&&(h.module_name="SCREEN"),["MIC","WEBCAM","SCREEN"].includes(h.module_name)?s==bmRoom.socket.io.engine.id&&$.ajax({url:"/conferences/save_recording_action",data:{recording_action:h},type:"get"}):$.ajax({url:"/conferences/save_recording_action",data:{recording_action:h},type:"get"})};var emoji_re=/\:(\+1|\-1|100|109|1234|8ball|a|ab|abc|abcd|accept|aerial_tramway|airplane|alarm_clock|alien|ambulance|anchor|angel|anger|angry|anguished|ant|apple|aquarius|aries|arrow_backward|arrow_double_down|arrow_double_up|arrow_down|arrow_down_small|arrow_forward|arrow_heading_down|arrow_heading_up|arrow_left|arrow_lower_left|arrow_lower_right|arrow_right|arrow_right_hook|arrow_up|arrow_up_down|arrow_up_small|arrow_upper_left|arrow_upper_right|arrows_clockwise|arrows_counterclockwise|art|articulated_lorry|astonished|atm|b|baby|baby_bottle|baby_chick|baby_symbol|baggage_claim|balloon|ballot_box_with_check|bamboo|banana|bangbang|bank|bar_chart|barber|baseball|basketball|bath|bathtub|battery|bear|bee|beer|beers|beetle|beginner|bell|bento|bicyclist|bike|bikini|bird|birthday|black_circle|black_joker|black_nib|black_square|black_square_button|blossom|blowfish|blue_book|blue_car|blue_heart|blush|boar|boat|bomb|book|bookmark|bookmark_tabs|books|boom|boot|bouquet|bow|bowling|bowtie|boy|bread|bride_with_veil|bridge_at_night|briefcase|broken_heart|bug|bulb|bullettrain_front|bullettrain_side|bus|busstop|bust_in_silhouette|busts_in_silhouette|cactus|cake|calendar|calling|camel|camera|cancer|candy|capital_abcd|capricorn|car|card_index|carousel_horse|cat|cat2|cd|chart|chart_with_downwards_trend|chart_with_upwards_trend|checkered_flag|cherries|cherry_blossom|chestnut|chicken|children_crossing|chocolate_bar|christmas_tree|church|cinema|circus_tent|city_sunrise|city_sunset|cl|clap|clapper|clipboard|clock1|clock10|clock1030|clock11|clock1130|clock12|clock1230|clock130|clock2|clock230|clock3|clock330|clock4|clock430|clock5|clock530|clock6|clock630|clock7|clock730|clock8|clock830|clock9|clock930|closed_book|closed_lock_with_key|closed_umbrella|cloud|clubs|cn|cocktail|coffee|cold_sweat|collision|computer|confetti_ball|confounded|confused|congratulations|construction|construction_worker|convenience_store|cookie|cool|cop|copyright|corn|couple|couple_with_heart|couplekiss|cow|cow2|credit_card|crocodile|crossed_flags|crown|cry|crying_cat_face|crystal_ball|cupid|curly_loop|currency_exchange|curry|custard|customs|cyclone|dancer|dancers|dango|dart|dash|date|de|deciduous_tree|department_store|diamond_shape_with_a_dot_inside|diamonds|disappointed|disappointed_relieved|dizzy|dizzy_face|do_not_litter|dog|dog2|dollar|dolls|dolphin|donut|door|doughnut|dragon|dragon_face|dress|dromedary_camel|droplet|dvd|e\-mail|ear|ear_of_rice|earth_africa|earth_americas|earth_asia|egg|eggplant|eight|eight_pointed_black_star|eight_spoked_asterisk|electric_plug|elephant|email|end|envelope|es|euro|european_castle|european_post_office|evergreen_tree|exclamation|expressionless|eyeglasses|eyes|facepunch|factory|fallen_leaf|family|fast_forward|fax|fearful|feelsgood|feet|ferris_wheel|file_folder|finnadie|fire|fire_engine|fireworks|first_quarter_moon|first_quarter_moon_with_face|fish|fish_cake|fishing_pole_and_fish|fist|five|flags|flashlight|floppy_disk|flower_playing_cards|flushed|foggy|football|fork_and_knife|fountain|four|four_leaf_clover|fr|free|fried_shrimp|fries|frog|frowning|fu|fuelpump|full_moon|full_moon_with_face|game_die|gb|gem|gemini|ghost|gift|gift_heart|girl|globe_with_meridians|goat|goberserk|godmode|golf|grapes|green_apple|green_book|green_heart|grey_exclamation|grey_question|grimacing|grin|grinning|guardsman|guitar|gun|haircut|hamburger|hammer|hamster|hand|handbag|hankey|hash|hatched_chick|hatching_chick|headphones|hear_no_evil|heart|heart_decoration|heart_eyes|heart_eyes_cat|heartbeat|heartpulse|hearts|heavy_check_mark|heavy_division_sign|heavy_dollar_sign|heavy_exclamation_mark|heavy_minus_sign|heavy_multiplication_x|heavy_plus_sign|helicopter|herb|hibiscus|high_brightness|high_heel|hocho|honey_pot|honeybee|horse|horse_racing|hospital|hotel|hotsprings|hourglass|hourglass_flowing_sand|house|house_with_garden|hurtrealbad|hushed|ice_cream|icecream|id|ideograph_advantage|imp|inbox_tray|incoming_envelope|information_desk_person|information_source|innocent|interrobang|iphone|it|izakaya_lantern|jack_o_lantern|japan|japanese_castle|japanese_goblin|japanese_ogre|jeans|joy|joy_cat|jp|key|keycap_ten|kimono|kiss|kissing|kissing_cat|kissing_closed_eyes|kissing_face|kissing_heart|kissing_smiling_eyes|koala|koko|kr|large_blue_circle|large_blue_diamond|large_orange_diamond|last_quarter_moon|last_quarter_moon_with_face|laughing|leaves|ledger|left_luggage|left_right_arrow|leftwards_arrow_with_hook|lemon|leo|leopard|libra|light_rail|link|lips|lipstick|lock|lock_with_ink_pen|lollipop|loop|loudspeaker|love_hotel|love_letter|low_brightness|m|mag|mag_right|mahjong|mailbox|mailbox_closed|mailbox_with_mail|mailbox_with_no_mail|man|man_with_gua_pi_mao|man_with_turban|mans_shoe|maple_leaf|mask|massage|meat_on_bone|mega|melon|memo|mens|metal|metro|microphone|microscope|milky_way|minibus|minidisc|mobile_phone_off|money_with_wings|moneybag|monkey|monkey_face|monorail|moon|mortar_board|mount_fuji|mountain_bicyclist|mountain_cableway|mountain_railway|mouse|mouse2|movie_camera|moyai|muscle|mushroom|musical_keyboard|musical_note|musical_score|mute|nail_care|name_badge|neckbeard|necktie|negative_squared_cross_mark|neutral_face|new|new_moon|new_moon_with_face|newspaper|ng|nine|no_bell|no_bicycles|no_entry|no_entry_sign|no_good|no_mobile_phones|no_mouth|no_pedestrians|no_smoking|non\-potable_water|nose|notebook|notebook_with_decorative_cover|notes|nut_and_bolt|o|o2|ocean|octocat|octopus|oden|office|ok|ok_hand|ok_woman|older_man|older_woman|on|oncoming_automobile|oncoming_bus|oncoming_police_car|oncoming_taxi|one|open_file_folder|open_hands|open_mouth|ophiuchus|orange_book|outbox_tray|ox|page_facing_up|page_with_curl|pager|palm_tree|panda_face|paperclip|parking|part_alternation_mark|partly_sunny|passport_control|paw_prints|peach|pear|pencil|pencil2|penguin|pensive|performing_arts|persevere|person_frowning|person_with_blond_hair|person_with_pouting_face|phone|pig|pig2|pig_nose|pill|pineapple|pisces|pizza|plus1|point_down|point_left|point_right|point_up|point_up_2|police_car|poodle|poop|post_office|postal_horn|postbox|potable_water|pouch|poultry_leg|pound|pouting_cat|pray|princess|punch|purple_heart|purse|pushpin|put_litter_in_its_place|question|rabbit|rabbit2|racehorse|radio|radio_button|rage|rage1|rage2|rage3|rage4|railway_car|rainbow|raised_hand|raised_hands|raising_hand|ram|ramen|rat|recycle|red_car|red_circle|registered|relaxed|relieved|repeat|repeat_one|restroom|revolving_hearts|rewind|ribbon|rice|rice_ball|rice_cracker|rice_scene|ring|rocket|roller_coaster|rooster|rose|rotating_light|round_pushpin|rowboat|ru|rugby_football|runner|running|running_shirt_with_sash|sa|sagittarius|sailboat|sake|sandal|santa|satellite|satisfied|saxophone|school|school_satchel|scissors|scorpius|scream|scream_cat|scroll|seat|secret|see_no_evil|seedling|seven|shaved_ice|sheep|shell|ship|shipit|shirt|shit|shoe|shower|signal_strength|six|six_pointed_star|ski|skull|sleeping|sleepy|slot_machine|small_blue_diamond|small_orange_diamond|small_red_triangle|small_red_triangle_down|smile|smile_cat|smiley|smiley_cat|smiling_imp|smirk|smirk_cat|smoking|snail|snake|snowboarder|snowflake|snowman|sob|soccer|soon|sos|sound|space_invader|spades|spaghetti|sparkler|sparkles|sparkling_heart|speak_no_evil|speaker|speech_balloon|speedboat|squirrel|star|star2|stars|station|statue_of_liberty|steam_locomotive|stew|straight_ruler|strawberry|stuck_out_tongue|stuck_out_tongue_closed_eyes|stuck_out_tongue_winking_eye|sun_with_face|sunflower|sunglasses|sunny|sunrise|sunrise_over_mountains|surfer|sushi|suspect|suspension_railway|sweat|sweat_drops|sweat_smile|sweet_potato|swimmer|symbols|syringe|tada|tanabata_tree|tangerine|taurus|taxi|tea|telephone|telephone_receiver|telescope|tennis|tent|thought_balloon|three|thumbsdown|thumbsup|ticket|tiger|tiger2|tired_face|tm|toilet|tokyo_tower|tomato|tongue|top|tophat|tractor|traffic_light|train|train2|tram|triangular_flag_on_post|triangular_ruler|trident|triumph|trolleybus|trollface|trophy|tropical_drink|tropical_fish|truck|trumpet|tshirt|tulip|turtle|tv|twisted_rightwards_arrows|two|two_hearts|two_men_holding_hands|two_women_holding_hands|u5272|u5408|u55b6|u6307|u6708|u6709|u6e80|u7121|u7533|u7981|u7a7a|uk|umbrella|unamused|underage|unlock|up|us|v|vertical_traffic_light|vhs|vibration_mode|video_camera|video_game|violin|virgo|volcano|vs|walking|waning_crescent_moon|waning_gibbous_moon|warning|watch|water_buffalo|watermelon|wave|wavy_dash|waxing_crescent_moon|waxing_gibbous_moon|wc|weary|wedding|whale|whale2|wheelchair|white_check_mark|white_circle|white_flower|white_square|white_square_button|wind_chime|wine_glass|wink|wink2|wolf|woman|womans_clothes|womans_hat|womens|worried|wrench|x|yellow_heart|yen|yum|zap|zero|zzz)\:/g,emoji_string="smile,neutral_face,kissing_closed_eyes,cry,dizzy_face,kissing_face,smirk,sunglasses,sunny,+1,-1,100,109,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,bee,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_nib,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,disappointed_relieved,dizzy,do_not_litter,dog,dog2,dollar,dolls,dolphin,donut,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fu,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,moon,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,plus1,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,raising_hand,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile_cat,smiley,smiley_cat,smiling_imp,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_square,white_square_button,wind_chime,wine_glass,wink,wink2,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",emoji_array=emoji_string.split(/,/);
!function(e,t){e.fn.watch=function(o){function i(t,o,i){t.each(function(){var t,o=e(this);window.MutationObserver?(t=o.data("__watcherObserver"+s.id),null==t&&(t=new MutationObserver(i.fnc),o.data("__watcherObserver"+s.id,t)),t.observe(this,{attributes:!0,subtree:s.watchChildren,childList:s.watchChildren,characterData:!0})):i.intervalId=setInterval(i.fnc,s.interval)})}function n(o,n,s){var a,r,l,c,d,u=e(this),h=u.data(o);if(h&&(a=this,h.func)){for(r=!1,l=0;l<h.props.length;l++)if(c=h.props[l],d="",d=c.startsWith("attr_")?u.attr(c.replace("attr_","")):c.startsWith("prop_")?u.prop(c.replace("prop_","")):u.css(c),d!=t&&h.vals[l]!=d){h.vals[l]=d,r=!0;break}r&&(u.unwatch(o),h.func.call(a,h,l,n,s),i(u,o,h))}}var s=e.extend({properties:null,interval:100,id:"_watcher_"+(new Date).getTime(),watchChildren:!1,callback:null},o);return this.each(function(){var t=this,o=e(this),a=function(e,o){n.call(t,s.id,e,o)},r={id:s.id,props:s.properties.split(","),vals:[s.properties.split(",").length],func:s.callback,fnc:a,origProps:s.properties,interval:s.interval,intervalId:null};e.each(r.props,function(e){var t=r.props[e];r.vals[e]=r.props[e].startsWith("attr_")?o.attr(t.replace("attr_","")):t.startsWith("prop_")?o.prop(t.replace("props_","")):o.css(t)}),o.data(s.id,r),i(o,s.id,r)})},e.fn.unwatch=function(t){return this.each(function(){var o,i=e(this),n=i.data(t);try{window.MutationObserver?(o=i.data("__watcherObserver"+t),o&&(o.disconnect(),i.removeData("__watcherObserver"+t))):clearInterval(n.intervalId)}catch(s){}}),this},String.prototype.startsWith=function(e){return null===e||e===t?!1:e==this.substr(0,e.length)}}(jQuery,void 0),bmRoom.twilioCall={},bmRoom.twilioCall.token=$("#twilio-call-token").val(),bmRoom.twilioCall.enabled=""==bmRoom.twilioCall.token?!1:!0,bmRoom.twilioCall.obfuscatedId=$("#conference-obfuscated-id").val(),bmRoom.twilioCall.faye,bmRoom.twilioCall.connect=null,bmRoom.twilioCall.start=function(){bmRoom.twilioCall.enabled&&(Twilio.Device.setup(bmRoom.twilioCall.token,{debug:!0}),Twilio.Device.error(function(){}),Twilio.Device.connect(function(e){bmRoom.twilioCall.connect=e,e.mediaStream.video.muted=!0}),Twilio.Device.disconnect(function(){bmRoom.twilioCall.connect=null})),bmRoom.twilioCall.call=function(){bmRoom.twilioCall.enabled&&(bmRoom.twilioCall.connect=Twilio.Device.connect({obfuscated_id:bmRoom.twilioCall.obfuscatedId}))},bmRoom.twilioCall.cancel=function(){bmRoom.twilioCall.enabled&&Twilio.Device.disconnectAll()},bmRoom.twilioCall.mute=function(e){bmRoom.twilioCall.enabled&&bmRoom.twilioCall.connect&&bmRoom.twilioCall.connect.mute(e)},bmRoom.socket.on("twilio-call",function(e){$.each(e,function(e,t){var o=JSON.parse(t);bmRoom.twilioCall.twilioHtml(o)})}),bmRoom.twilioCall.faye=new Faye.Client($("#server_url").val()+"/faye"),bmRoom.twilioCall.faye.subscribe("/"+$("#conference-obfuscated-id").val()+"/twilio-call",function(e){bmRoom.twilioCall.twilioHtml(e)}),bmRoom.twilioCall.faye.subscribe("/"+bmRoom.twilioCall.obfuscatedId+"/knock-to-enter",function(e){var t=e.obfuscated_id,o=e.user_name,i=e.user_email,n=e.random_id;if(bmRoom.twilioCall.obfuscatedId==t){var s=$("<li>").attr("id",n+"-li");s.append($('<div class="konck-box-waiting-name">').text(o));var a=$('<a href="javascript:void(0);">Decline</a>').attr("data-knock-status","declined").attr("data-random-id",n).attr("data-user-name",o).attr("data-user-email",i);s.append($('<div class="knock-box-grey-btn knock-btn">').append(a));var r=$('<a href="javascript:void(0);">Let In!</a>').attr("data-knock-status","allowed").attr("data-random-id",n).attr("data-user-name",o).attr("data-user-email",i);s.append($('<div class="konck-box-green-btn knock-btn">').append(r)),bmRoom.chat.displayKnockAction({random_id:n,name:o,email:i,confId:t,action:"knock"}),bmRoom.user.isAdmin(bmRoom.socket.io.engine.id)&&($("#knock-box-waiting-list").append(s),$("#knock_notification_box").show(),bindKnockEvent(n))}}),$("#knock-create-box-close").click(function(){$("#knock_notification_box").hide()}),$("#disable_knocking").click(function(){$("#knock-box-waiting-list").html(""),$("#knock_notification_box").hide(),$.ajax({url:$("#server_url").val()+"/disable-knocking-temporarily",data:{obfuscated_id:bmRoom.twilioCall.obfuscatedId,action_type:"set"},type:"get",dataType:"jsonp",crossDomain:!0,success:function(){}}),bmRoom.saveRecordingAction("DisableKnocking","KnockKnock","","","",bmRoom.socket.io.engine.id,bmRoom.my.name)}),bmRoom.twilioCall.twilioHtml=function(e){if("in-progress"==e.call_status)if($("#admin-user-"+e.phone_sid).length>0);else{var t=$("#attendee-model-html").clone().show();t.prop("id","admin-user-"+e.phone_sid).data("role","TwilioCall"),t.find(".hover-admin").hide(),t.find(".user_name").text("+"+e.phone_number),t.find(".admin-roles-a, .admin-roles-v, .admin-roles-mu, .admin-roles-m").remove(),$("#admin-panel-people-attendee > ul").append(t)}else $("#admin-user-"+e.phone_sid).remove()}},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},/*!
 * jquery.customSelect() - v0.4.0
 * http://adam.co/lab/jquery/customselect/
 * 2013-04-28
 *
 * Copyright 2013 Adam Coulombe
 * @license http://www.opensource.org/licenses/mit-license.html MIT License
 * @license http://www.gnu.org/licenses/gpl.html GPL2 License
 */
function(e){e.fn.extend({customSelect:function(t){if("undefined"==typeof document.body.style.maxHeight)return this;var o={customClass:"customSelect",mapClass:!0,mapStyle:!0},t=e.extend(o,t),i=t.customClass,n=function(t,o){var i=t.find(":selected"),n=o.children(":first"),a=i.html()||"&nbsp;";n.html(a),i.attr("disabled")?o.addClass(s("DisabledOption")):o.removeClass(s("DisabledOption")),setTimeout(function(){o.removeClass(s("Open")),e(document).off("mouseup."+s("Open"))},60)},s=function(e){return i+e};return this.each(function(){var o=e(this),a=e("<span />").addClass(s("Inner")),r=e("<span />");o.after(r.append(a)),r.addClass(i),t.mapClass&&r.addClass(o.attr("class")),t.mapStyle&&r.attr("style",o.attr("style")),o.addClass("hasCustomSelect").on("update",function(){n(o,r);var e=parseInt(o.outerWidth(),10)-(parseInt(r.outerWidth(),10)-parseInt(r.width(),10));r.css({display:"inline-block"});var t=r.outerHeight();o.attr("disabled")?r.addClass(s("Disabled")):r.removeClass(s("Disabled")),a.css({width:e,display:"inline-block"}),o.css({"-webkit-appearance":"menulist-button",width:r.outerWidth(),position:"absolute",opacity:0,height:t,fontSize:r.css("font-size")})}).on("change",function(){r.addClass(s("Changed")),n(o,r)}).on("keyup",function(){r.hasClass(s("Open"))||(o.blur(),o.focus())}).on("mousedown",function(){r.removeClass(s("Changed"))}).on("mouseup",function(t){r.hasClass(s("Open"))||(r.addClass(s("Open")),t.stopPropagation(),e(document).one("mouseup."+s("Open"),function(t){t.target!=o.get(0)&&e.inArray(t.target,o.find("*").get())<0?o.blur():n(o,r)}))}).focus(function(){r.removeClass(s("Changed")).addClass(s("Focus"))}).blur(function(){r.removeClass(s("Focus")+" "+s("Open"))}).hover(function(){r.addClass(s("Hover"))},function(){r.removeClass(s("Hover"))}).trigger("update")})}})}(jQuery),$(function(){setUpCreditCardForm(),setUpLandingPageCreditCardForm()}),$(document).on("click",".js-coupon-code-link",function(e){return $(".js-coupon-section").removeClass("close"),e.preventDefault(),!1}),$(document).on("click","#js-check-coupon-button",function(e){return $.ajax({url:"/coupons/check_for_upgrade?coupon_code="+$("#js_coupon_code").val()}),e.preventDefault(),!1}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){return function e(t,o,i){function n(a,r){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return n(o?o:e)},d,d.exports,e,t,o,i)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t){var o=e("matches-selector");t.exports=function(e,t,i){for(var n=i?e:e.parentNode;n&&n!==document;){if(o(n,t))return n;n=n.parentNode}}},{"matches-selector":2}],2:[function(e,t){function o(e,t){if(n)return n.call(e,t);for(var o=e.parentNode.querySelectorAll(t),i=0;i<o.length;++i)if(o[i]==e)return!0;return!1}var i=Element.prototype,n=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;t.exports=o},{}],3:[function(e,t){function o(e,t,o){var n=i.apply(this,arguments);return e.addEventListener(o,n),{destroy:function(){e.removeEventListener(o,n)}}}function i(e,t,o,i){return function(o){o.delegateTarget=n(o.target,t,!0),o.delegateTarget&&i.call(e,o)}}var n=e("closest");t.exports=o},{closest:1}],4:[function(e,t,o){o.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},o.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||o.node(e[0]))},o.string=function(e){return"string"==typeof e||e instanceof String},o.function=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],5:[function(e,t){function o(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.function(o))throw new TypeError("Third argument must be a Function");if(a.node(e))return i(e,t,o);if(a.nodeList(e))return n(e,t,o);if(a.string(e))return s(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}function n(e,t,o){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,o)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,o)})}}}function s(e,t,o){return r(document.body,e,t,o)}var a=e("./is"),r=e("delegate");t.exports=o},{"./is":4,delegate:3}],6:[function(e,t){function o(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}t.exports=o},{}],7:[function(e,t){function o(){}o.prototype={on:function(e,t,o){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){function i(){n.off(e,i),t.apply(o,arguments)}var n=this;return i._=t,this.on(e,i,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),i=0,n=o.length;for(i;n>i;i++)o[i].fn.apply(o[i].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),i=o[e],n=[];if(i&&t)for(var s=0,a=i.length;a>s;s++)i[s].fn!==t&&i[s].fn._!==t&&n.push(i[s]);return n.length?o[e]=n:delete o[e],this}},t.exports=o},{}],8:[function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=e("select"),r=i(a),l=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},e.prototype.selectFake=function(){var e=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=r["default"](this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=r["default"](this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},s(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!=typeof e||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=e}},get:function(){return this._target}}]),e}();o["default"]=l,t.exports=o["default"]},{select:6}],9:[function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}o.__esModule=!0;var r=e("./clipboard-action"),l=i(r),c=e("tiny-emitter"),d=i(c),u=e("good-listener"),h=i(u),m=function(e){function t(o,i){n(this,t),e.call(this),this.resolveOptions(i),this.listenClick(o)}return s(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=h["default"](e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return a("action",e)},t.prototype.defaultTarget=function(e){var t=a("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return a("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(d["default"]);o["default"]=m,t.exports=o["default"]},{"./clipboard-action":8,"good-listener":5,"tiny-emitter":7}]},{},[9])(9)}),bmRoom.theme={},bmRoom.theme.saveAuto=!1,bmRoom.theme.isPro=!1,bmRoom.theme.start=function(){bmRoom.theme.background_color=$("#theme-background-color").val(),bmRoom.theme.text_color=$("#theme-text-color").val(),bmRoom.theme.defaultLogo=$("#default-small-logo").val();var e=["FFFFFF","4D545D","202329","1F6093","344A7C","8256AF","52A3EF"];$("#conference-logo-area.admin .edit-conf-theme-btn").unbind().click(function(e){e.preventDefault(),bmRoom.theme.resetThemeForm(),$("#edit-conf-theme-box").show()}),$("#close-conf-theme-box").unbind().click(function(e){e.preventDefault(),$("#edit-conf-theme-box").hide(),bmRoom.theme.resetThemeForm(),bmRoom.theme.changeTheme(bmRoom.theme.background_color,bmRoom.theme.text_color)}),$("#bigroom_logo").unbind().change(function(){if(this.files&&this.files[0]){var e=new FileReader;e.onload=function(e){$("#theme-bigroom-logo img").attr("src",e.target.result)},e.readAsDataURL(this.files[0])}$("#delete_logo").val(0)}),$("#remove-bigroom-logo").unbind().click(function(){$("#theme-bigroom-logo img").attr("src",bmRoom.theme.defaultLogo),$("#presenter_icon_preview img").attr("src",bmRoom.theme.defaultLogo),$("#delete_logo").val(1),bmRoom.theme.saveAuto&&$("#change-theme-form").submit()}),$(".selected-theme-color").unbind().click(function(){var e=$(this).data("background-color");$(".selected-theme-color").removeClass("onactive"),$('.clroom-theme-color-box > li[data-background-color="'+e+'"]').addClass("onactive"),$("#background_color").val(e),$(".clroom-theme-text-color-list").css("background-color","#"+e),$("#add-custom-color").show(),$("#add-custom-color-input").hide(),"ffffff"==e.toString().toLowerCase()?$("label[for='conference_theme_text_color_4a4d50']").trigger("click"):$("label[for='conference_theme_text_color_ffffff']").trigger("click"),$("#edit-text-color-area").hide(),bmRoom.theme.changeTheme($("#background_color").val(),$('input[name="conference_theme[text_color]"]:checked').val()),bmRoom.theme.saveAuto&&$("#change-theme-form").submit()}),$("#text_color_area input[type=radio]").unbind().change(function(){bmRoom.theme.changeTheme($("#background_color").val(),$('input[name="conference_theme[text_color]"]:checked').val()),bmRoom.theme.saveAuto&&$("#change-theme-form").submit()}),$("#conference_theme_save_as_default").unbind().change(function(){bmRoom.theme.saveAuto&&$("#change-theme-form").submit()}),$("#add-custom-color").unbind().click(function(){$("#add-custom-color-input").show(),$("#edit-text-color-area").show(),$("#background_color").trigger("keyup"),$(this).hide()}),$("#background_color").unbind().keyup(function(){var e=$(this).val();bmRoom.theme.changeTheme(e,$('input[name="conference_theme[text_color]"]:checked').val()),bmRoom.theme.changeTextBackgroundColor(e),bmRoom.theme.saveAuto&&$("#change-theme-form").submit()}),jQuery.inArray(bmRoom.theme.background_color,e)||bmRoom.theme.changeTextBackgroundColor(bmRoom.theme.background_color)},bmRoom.theme.changeTextBackgroundColor=function(e){e.match(/^[0-9A-Fa-f]{6}$/)?($(".selected-theme-color").removeClass("onactive"),$("#conf-theme-errmsg").html("").hide(),$("#add-custom-color-input .clroom-theme-color-box-t").hide(),$("#add-custom-color-input .clroom-theme-color-box-c").css("background-color","#"+e).show(),$("#add-custom-color-input .clroom-theme-color-box-c path").attr("fill",""),"ffffff"==e.toLowerCase()&&$("#add-custom-color-input .clroom-theme-color-box-c path").attr("fill","#000000"),$(".clroom-theme-text-color-list").css("background-color","#"+e)):(""!=e&&($("#conf-theme-errmsg").html("Invalid theme color").show(),$("#add-custom-color-input .clroom-theme-color-box-t").show(),$("#add-custom-color-input .clroom-theme-color-box-c").css("background-color","#ffffff").hide(),$(".clroom-theme-text-color-list").css("background-color","#ffffff")),bmRoom.theme.changeTheme("ffffff","4a4d50"))},bmRoom.theme.changeTheme=function(e,t,o){e="undefined"!=typeof e?e:bmRoom.theme.background_color,t="undefined"!=typeof t?t:bmRoom.theme.text_color,o="undefined"!=typeof o?o:null,$(".clroom-header").css("background-color","#"+e),$(".change-theme-color-edit").css("background-color","#"+e),$(".change-theme-color-edit").css("color","#"+t),$("div.change-theme-color").css("color","#"+t),$("span.change-theme-color").css("color","#"+t),$("path.change-theme-color").attr("fill","#"+t),"00c083"==e.toLowerCase()?$("#mic-status-on .clroom-navbtn-text, #cam-status-on .clroom-navbtn-text").css("color","#ffffff"):$("#mic-status-on .clroom-navbtn-text, #cam-status-on .clroom-navbtn-text").css("color",""),"ffffff"==e.toLowerCase()?$(".clroom-header").css("border-bottom","#DFE1E4 1px solid"):$(".clroom-header").css("border-bottom","#d6dee2 1px solid"),bmRoom.theme.changeActiveButton(t),o&&$.ajax({url:"/conferences/"+$("#conference-obfuscated-id").val()+"/render_bigroom_logo?role="+o})},bmRoom.theme.changeActiveButton=function(e){e="undefined"!=typeof e?e:bmRoom.theme.text_color;var t=e;bmRoom.whiteboard.status||bmRoom.mp4Share.video?$("#add-files .change-theme-color").css("color","#00c083"):($("#add-files div.change-theme-color").css("color","#"+e),$("#add-files span.change-theme-color").css("color","#"+t)),$(".screen-focus").is(":visible")?$("#switch-screen .change-theme-color").css("color","#00c083"):($("#switch-screen div.change-theme-color").css("color","#"+e),$("#switch-screen span.change-theme-color").css("color","#"+t)),$("#video-share-container").is(":visible")?$("#add-videos .change-theme-color").css("color","#00c083"):($("#add-videos div.change-theme-color").css("color","#"+e),$("#add-videos span.change-theme-color").css("color","#"+t))},bmRoom.theme.changeThemePermission=function(e){e?($("#conference-logo-area a").attr("href","#").removeAttr("target"),$("#conference-logo-area").removeClass("user").addClass("admin"),$("#theme_role").val("Organizer")):($("#conference-logo-area a").attr("href","/home").attr("target","_blank"),$("#conference-logo-area").removeClass("admin").addClass("user"),$("#theme_role").val("Member")),bmRoom.theme.start()},bmRoom.theme.resetThemeForm=function(){$("#background_color").val(bmRoom.theme.background_color),bmRoom.theme.changeTextBackgroundColor(bmRoom.theme.background_color),bmRoom.theme.changeTheme(bmRoom.theme.background_color,$('input[name="conference_theme[text_color]"]:checked').val()),$(".clroom-theme-color-box li.selected-theme-color").removeClass("onactive"),$(".clroom-theme-color-box li.selected-theme-color").each(function(){$(this).data("background-color")==bmRoom.theme.background_color&&$(this).trigger("click")}),$("#text_color_area .clroom-theme-text-color").each(function(){$(this).data("font-color")==bmRoom.theme.text_color&&$(this).find("a").trigger("click")}),$("#theme-bigroom-logo > img").attr("src",$("#real-bigroom-logo").val()),$("#conference-logo-area > a > img").attr("src",$("#real-bigroom-logo").val())},bmRoom.theme.initLogoCropper=function(e,t){bmRoom.theme.isPro="undefined"!=typeof t?t:bmRoom.theme.isPro;var o;$("#conference-room-logo-dialog").dialog({modal:!0,autoOpen:!1,width:"670px",resizable:!1,show:{duration:100},hide:{duration:100},draggable:!1,position:["center",75]}),$("#change-bigroom-logo").click(function(e){e.preventDefault(),$("#club-theme-tabs").hide(),$("#club-theme-drop-area").show(),$("#conference-room-logo-dialog").dialog("open")}),$(".select-room-logo-image").click(function(){$("#conference_room_logo").click()}),o=$("#room-logo-editor").cropit({imageBackground:!0,imageBackgroundBorderWidth:20,imageState:{src:e}}),$(document.body).on("change","#conference_room_logo",function(){$("#club-theme-tabs").show(),$("#club-theme-drop-area").hide(),o.cropit("imageSrc",window.URL.createObjectURL(this.files[0]))}),$("#conference-room_logo-crop-button").click(function(e){if(e.preventDefault(),bmRoom.theme.isPro){if(o){var t={height:$("#room-logo-editor .cropit-image-preview").height(),width:$("#room-logo-editor .cropit-image-preview").width()},i=o.cropit("imageState"),n={x:(0-i.offset.x)/i.zoom,y:(0-i.offset.y)/i.zoom};n.height=t.height/i.zoom,n.width=t.width/i.zoom,update_room_logo_croods(n)}$("#conference-room-logo-dialog .ui-button-text").text($("#conference-room_logo-crop-button").data("disable-with2")),$("#delete_logo").val(0),fileuploadData&&fileuploadData.originalFiles[0].size?(fileuploadData.formData=$("#submit_room_logo_form").serializeArray(),fileuploadData.submit()):$("#submit_room_logo_form").submit()}else{var s=$("#room-logo-editor").cropit("export");$("#theme-bigroom-logo > img").attr("src",s),$("#conference-logo-area > a > img").attr("src",s),$("#conference-room-logo-dialog").dialog("close")}}),fileuploadData=null,$("#conference_room_logo").fileupload({url:"/conferences/"+$("#conference-obfuscated-id").val()+"/submit_room_logo",dataType:"json",autoUpload:!1,dropZone:$("#club-theme-drop-area")}).on("fileuploadadd",function(e,t){t.originalFiles[0].size&&t.originalFiles[0].size>1e8?$("#conference-icon-target").text("File size shoule be less than 100 MB").show():($("#conference-icon-target").text("").hide(),fileuploadData=t,$("#club-theme-tabs").show(),$("#club-theme-drop-area").hide(),o.cropit("imageSrc",window.URL.createObjectURL(t.originalFiles[0])))}).on("fileuploadprocessalways",function(){}).on("fileuploadprogressall",function(){}).on("fileuploaddone",function(e,t){fileuploadData=null,$("#theme-bigroom-logo > img").attr("src",t.result.newLogo),$("#conference-logo-area > a.edit-conf-theme-btn > img").attr("src",t.result.newLogo),$("#real-bigroom-logo").val(t.result.newLogo),$("#conference-room-logo-dialog").dialog("close"),$("#conference-room-logo-dialog .ui-button-text").text($("#conference-room_logo-crop-button").data("enable-with2"))}).on("fileuploadfail",function(){fileuploadData=null})},bmRoom.questionAnswer={},bmRoom.questionAnswer.conferenceId=$("#conference-obfuscated-id").val(),bmRoom.questionAnswer.start=function(){bmRoom.questionAnswer.unread=$("#roomchat_qanda .unread-count i").length>0?parseInt($("#roomchat_qanda .unread-count i").text()):0,bmRoom.socket.on("questionAnswer:new",function(e){bmRoom.questionAnswer.insertHtml(e)}),bmRoom.socket.on("questionAnswer:answered",function(e){bmRoom.questionAnswer.markAnswered(e)}),bmRoom.socket.on("questionAnswer:delete",function(e){$("#"+e+"-qanda-li").fadeOut(400,function(){$(this).remove()})}),bmRoom.socket.on("questionAnswer:voted",function(e){$("#"+e.obfuscated_id+"-qanda-li .vote-count").text(e.vote_count),$("#"+e.obfuscated_id+"-qanda-li").removeAttr("data-vote-count"),$("#"+e.obfuscated_id+"-qanda-li").attr("data-vote-count",e.vote_count),bmRoom.questionAnswer.sortList()}),$("#post_qanda").click(function(){var e={};e.content=$("#qanda_text").val().trim(),e.name=bmRoom.my.name,e.photo=bmRoom.my.photo,e.user_id=bmRoom.userID,e.user_email=bmRoom.userEmail,bmRoom.admin.question_answer_lock&&""!=e.content&&bmRoom.questionAnswer.post(e)}),$("#qanda-content-list > li.answerd-li").not("#no-answerd-box").length>0&&$("#no-answerd-box").remove(),$("#qanda-content-list > li.active-li").not("#no-active-box").length>0&&$("#no-active-box").remove(),$("#view-answerd-q").click(function(e){$("#qanda-content-list").removeClass("answerd").addClass("active"),e.stopPropagation()}),$("#view-active-q").click(function(e){$("#qanda-content-list").removeClass("active").addClass("answerd"),e.stopPropagation()})},bmRoom.questionAnswer.post=function(e){$("#qanda_text").val(""),$.ajax({url:"/conferences/"+bmRoom.questionAnswer.conferenceId+"/create_qanda",data:{question_content:e.content,user_name:e.name,user_avatar:e.photo,user_id:e.user_id,user_email:e.user_email,random_id:$("#random_id").val()},type:"post",dataType:"script"}),bmRoom.saveRecordingAction("Q&A","Question",e.content,"","")},bmRoom.questionAnswer.insertHtml=function(e,t){t="undefined"!=typeof t?t:!1;var o=$("#qanda-content-list"),i=$("#qanda-content-model").clone();i.attr("id",e.obfuscated_id+"-qanda-li"),t&&i.attr("data-load",!0),i.addClass("active-li").removeAttr("style"),i.attr("data-obfuscated-id",e.obfuscated_id),i.attr("data-vote-count",e.vote_count),i.find(".clroom-groupchat-img > a > img").prop("src",e.avatar),i.find(".clroom-groupchat-name > a").text(e.user_name),i.find(".clroom-groupchat-name > div.clroom-groupchat-date").text(e.created_at),i.find(".qanda-content").html(e.content),i.find(".qanda-vote > a").attr("data-qanda-id",e.obfuscated_id),i.find(".qanda-vote > a").attr("href","/conferences/"+bmRoom.questionAnswer.conferenceId+"/vote_qanda/"+e.obfuscated_id+"/"+bmRoom.userID);var n=bmRoom.user.isAdmin(bmRoom.socket.io.engine.id);if(e.answered||!n?i.find(".mark-answered > a.answered-qanda").remove():i.find(".mark-answered > a.answered-qanda").attr("href","/conferences/"+bmRoom.questionAnswer.conferenceId+"/qanda_answered/"+e.obfuscated_id).attr("data-remote",!0),n||e.user_id==bmRoom.userID?i.find(".mark-answered > a.delete-qanda").attr("href","/conferences/"+bmRoom.questionAnswer.conferenceId+"/delete_qanda/"+e.obfuscated_id).attr("data-remote",!0):i.find(".mark-answered > a.delete-qanda").remove(),t)return $("<div />").append(i.show()).html();if(o.append(i),!$("#roomchat_qanda").hasClass("onactive")){bmRoom.questionAnswer.unread+=1;var s=$('<span class="unread-count" />');$("#roomchat_qanda span").remove(),$("#roomchat_qanda").append(s.clone())}$("#no-active-box").remove()},bmRoom.questionAnswer.markAnswered=function(e){var t=$("#"+e+"-qanda-li");t.removeClass("active-li").addClass("answerd-li"),t.find(".mark-answered > .answered-qanda").remove(),t.find(".clroom-groupchat-img > a > img").prop("src","/assets/answered_check.png"),t.find(".qanda-vote > a").attr("href","javascript:void(0);").removeAttr("data-remote"),$("#no-answerd-box").remove()},bmRoom.questionAnswer.sortList=function(){tinysort("ul#qanda-content-list>li.answerd-li",{data:"vote-count",order:"desc"}),tinysort("ul#qanda-content-list>li.active-li",{data:"vote-count",order:"desc"})},/**
 * TinySort is a small script that sorts HTML elements. It sorts by text- or attribute value, or by that of one of it's children.
 * @summary A nodeElement sorting script.
 * @version 2.3.6
 * @license MIT
 * @author Ron Valstar <ron@ronvalstar.nl>
 * @copyright Ron Valstar <ron@ronvalstar.nl>
 * @namespace tinysort
 */
function(e,t){"use strict";function o(){return t}"function"==typeof define&&define.amd?define("tinysort",o):e.tinysort=t}(this,function(){"use strict";function e(e,i){function r(){0===arguments.length?b({}):t(arguments,function(e){b(S(e)?{selector:e}:e)}),m=M.length}function b(e){var t=!!e.selector,i=t&&":"===e.selector[0],n=o(e||{},g);M.push(o({hasSelector:t,hasAttr:!(n.attr===a||""===n.attr),hasData:n.data!==a,hasFilter:i,sortReturnNumber:"asc"===n.order?1:-1},n))}function v(){t(e,function(e,t){D?D!==e.parentNode&&(j=!1):D=e.parentNode;var o=M[0],i=o.hasFilter,n=o.selector,s=!n||i&&e.matchesSelector(n)||n&&e.querySelector(n),a=s?E:I,r={elm:e,pos:t,posn:a.length};A.push(r),a.push(r)}),T=E.slice(0)}function _(e,t,o){for(var i=o(e.toString()),n=o(t.toString()),s=0;i[s]&&n[s];s++)if(i[s]!==n[s]){var a=Number(i[s]),r=Number(n[s]);return a==i[s]&&r==n[s]?a-r:i[s]>n[s]?1:-1}return i.length-n.length}function w(e){for(var t,o,i=[],n=0,s=-1,a=0;t=(o=e.charAt(n++)).charCodeAt(0);){var r=46==t||t>=48&&57>=t;r!==a&&(i[++s]="",a=r),i[s]+=o}return i}function y(e,o){var i=0;for(0!==p&&(p=0);0===i&&m>p;){var a=M[p],r=a.ignoreDashes?u:d;if(t(h,function(e){var t=e.prepare;t&&t(a)}),a.sortFunction)i=a.sortFunction(e,o);else if("rand"==a.order)i=Math.random()<.5?1:-1;else{var l=s,f=R(e,a),g=R(o,a),b=""===f||f===n,v=""===g||g===n;if(f===g)i=0;else if(a.emptyEnd&&(b||v))i=b&&v?0:b?1:-1;else{if(!a.forceStrings){var y=S(f)?f&&f.match(r):s,$=S(g)?g&&g.match(r):s;if(y&&$){var k=f.substr(0,f.length-y[0].length),x=g.substr(0,g.length-$[0].length);k==x&&(l=!s,f=c(y[0]),g=c($[0]))}}i=f===n||g===n?0:a.natural&&(isNaN(f)||isNaN(g))?_(f,g,w):g>f?-1:f>g?1:0}}t(h,function(e){var t=e.sort;t&&(i=t(a,l,f,g,i))}),i*=a.sortReturnNumber,0===i&&p++}return 0===i&&(i=e.pos>o.pos?1:-1),i}function $(){var e=E.length===A.length;if(j&&e)z?E.forEach(function(e,t){e.elm.style.order=t}):D?D.appendChild(k()):console.warn("parentNode has been removed");else{var t=M[0],o=t.place,i="org"===o,n="start"===o,s="end"===o,a="first"===o,r="last"===o;if(i)E.forEach(x),E.forEach(function(e,t){C(T[t],e.elm)});else if(n||s){var l=T[n?0:T.length-1],c=l&&l.elm.parentNode,d=c&&(n&&c.firstChild||c.lastChild);d&&(d!==l.elm&&(l={elm:d}),x(l),s&&c.appendChild(l.ghost),C(l,k()))}else if(a||r){var u=T[a?0:T.length-1];C(x(u),k())}}}function k(){return E.forEach(function(e){P.appendChild(e.elm)}),P}function x(e){var t=e.elm,o=l.createElement("div");return e.ghost=o,t.parentNode.insertBefore(o,t),e}function C(e,t){var o=e.ghost,i=o.parentNode;i.insertBefore(t,o),i.removeChild(o),delete e.ghost}function R(e,t){var o,i=e.elm;return t.selector&&(t.hasFilter?i.matchesSelector(t.selector)||(i=a):i=i.querySelector(t.selector)),t.hasAttr?o=i.getAttribute(t.attr):t.useVal?o=i.value||i.getAttribute("value"):t.hasData?o=i.getAttribute("data-"+t.data):i&&(o=i.textContent),S(o)&&(t.cases||(o=o.toLowerCase()),o=o.replace(/\s+/g," ")),null===o&&(o=f),o}function S(e){return"string"==typeof e}S(e)&&(e=l.querySelectorAll(e)),0===e.length&&console.warn("No elements to sort");var T,D,P=l.createDocumentFragment(),A=[],E=[],I=[],M=[],j=!0,O=e.length&&e[0].parentNode,F=O.rootNode!==document,z=e.length&&(i===n||i.useFlex!==!1)&&!F&&-1!==getComputedStyle(O,null).display.indexOf("flex");return r.apply(a,Array.prototype.slice.call(arguments,1)),v(),E.sort(y),$(),E.map(function(e){return e.elm})}function t(e,t){for(var o,i=e.length,n=i;n--;)o=i-n-1,t(e[o],o)}function o(e,t,o){for(var i in t)(o||e[i]===n)&&(e[i]=t[i]);return e}function i(e,t,o){h.push({prepare:e,sort:t,sortBy:o})}var n,s=!1,a=null,r=window,l=r.document,c=parseFloat,d=/(-?\d+\.?\d*)\s*$/g,u=/(\d+\.?\d*)\s*$/g,h=[],m=0,p=0,f=String.fromCharCode(4095),g={selector:a,order:"asc",attr:a,data:a,useVal:s,place:"org",returns:s,cases:s,natural:s,forceStrings:s,ignoreDashes:s,sortFunction:a,useFlex:s,emptyEnd:s};return r.Element&&function(e){e.matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,o=(t.parentNode||t.document).querySelectorAll(e),i=-1;o[++i]&&o[i]!=t;);return!!o[i]}}(Element.prototype),o(i,{loop:t}),o(e,{plugin:i,defaults:g})}());